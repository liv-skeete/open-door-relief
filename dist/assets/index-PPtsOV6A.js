(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var rh={exports:{}},Wo={},ih={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function N_(){if(Ap)return Ae;Ap=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=R&&D[R]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function b(D,M,ce){this.props=D,this.context=M,this.refs=q,this.updater=ce||O}b.prototype.isReactComponent={},b.prototype.setState=function(D,M){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,M,"setState")},b.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=b.prototype;function Y(D,M,ce){this.props=D,this.context=M,this.refs=q,this.updater=ce||O}var ie=Y.prototype=new Q;ie.constructor=Y,j(ie,b.prototype),ie.isPureReactComponent=!0;var fe=Array.isArray,Ce=Object.prototype.hasOwnProperty,Te={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(D,M,ce){var X,ve={},Re=null,Pe=null;if(M!=null)for(X in M.ref!==void 0&&(Pe=M.ref),M.key!==void 0&&(Re=""+M.key),M)Ce.call(M,X)&&!x.hasOwnProperty(X)&&(ve[X]=M[X]);var xe=arguments.length-2;if(xe===1)ve.children=ce;else if(1<xe){for(var je=Array(xe),Xe=0;Xe<xe;Xe++)je[Xe]=arguments[Xe+2];ve.children=je}if(D&&D.defaultProps)for(X in xe=D.defaultProps,xe)ve[X]===void 0&&(ve[X]=xe[X]);return{$$typeof:i,type:D,key:Re,ref:Pe,props:ve,_owner:Te.current}}function I(D,M){return{$$typeof:i,type:D.type,key:M,ref:D.ref,props:D.props,_owner:D._owner}}function P(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function V(D){var M={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return M[ce]})}var L=/\/+/g;function C(D,M){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):M.toString(36)}function Be(D,M,ce,X,ve){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Pe=!1;if(D===null)Pe=!0;else switch(Re){case"string":case"number":Pe=!0;break;case"object":switch(D.$$typeof){case i:case e:Pe=!0}}if(Pe)return Pe=D,ve=ve(Pe),D=X===""?"."+C(Pe,0):X,fe(ve)?(ce="",D!=null&&(ce=D.replace(L,"$&/")+"/"),Be(ve,M,ce,"",function(Xe){return Xe})):ve!=null&&(P(ve)&&(ve=I(ve,ce+(!ve.key||Pe&&Pe.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+D)),M.push(ve)),1;if(Pe=0,X=X===""?".":X+":",fe(D))for(var xe=0;xe<D.length;xe++){Re=D[xe];var je=X+C(Re,xe);Pe+=Be(Re,M,ce,je,ve)}else if(je=A(D),typeof je=="function")for(D=je.call(D),xe=0;!(Re=D.next()).done;)Re=Re.value,je=X+C(Re,xe++),Pe+=Be(Re,M,ce,je,ve);else if(Re==="object")throw M=String(D),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return Pe}function nt(D,M,ce){if(D==null)return D;var X=[],ve=0;return Be(D,X,"","",function(Re){return M.call(ce,Re,ve++)}),X}function rt(D){if(D._status===-1){var M=D._result;M=M(),M.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=M)}if(D._status===1)return D._result.default;throw D._result}var De={current:null},ne={transition:null},pe={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:ne,ReactCurrentOwner:Te};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:nt,forEach:function(D,M,ce){nt(D,function(){M.apply(this,arguments)},ce)},count:function(D){var M=0;return nt(D,function(){M++}),M},toArray:function(D){return nt(D,function(M){return M})||[]},only:function(D){if(!P(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ae.Component=b,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=Y,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ae.act=se,Ae.cloneElement=function(D,M,ce){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var X=j({},D.props),ve=D.key,Re=D.ref,Pe=D._owner;if(M!=null){if(M.ref!==void 0&&(Re=M.ref,Pe=Te.current),M.key!==void 0&&(ve=""+M.key),D.type&&D.type.defaultProps)var xe=D.type.defaultProps;for(je in M)Ce.call(M,je)&&!x.hasOwnProperty(je)&&(X[je]=M[je]===void 0&&xe!==void 0?xe[je]:M[je])}var je=arguments.length-2;if(je===1)X.children=ce;else if(1<je){xe=Array(je);for(var Xe=0;Xe<je;Xe++)xe[Xe]=arguments[Xe+2];X.children=xe}return{$$typeof:i,type:D.type,key:ve,ref:Re,props:X,_owner:Pe}},Ae.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Ae.createElement=T,Ae.createFactory=function(D){var M=T.bind(null,D);return M.type=D,M},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(D){return{$$typeof:m,render:D}},Ae.isValidElement=P,Ae.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:rt}},Ae.memo=function(D,M){return{$$typeof:_,type:D,compare:M===void 0?null:M}},Ae.startTransition=function(D){var M=ne.transition;ne.transition={};try{D()}finally{ne.transition=M}},Ae.unstable_act=se,Ae.useCallback=function(D,M){return De.current.useCallback(D,M)},Ae.useContext=function(D){return De.current.useContext(D)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(D){return De.current.useDeferredValue(D)},Ae.useEffect=function(D,M){return De.current.useEffect(D,M)},Ae.useId=function(){return De.current.useId()},Ae.useImperativeHandle=function(D,M,ce){return De.current.useImperativeHandle(D,M,ce)},Ae.useInsertionEffect=function(D,M){return De.current.useInsertionEffect(D,M)},Ae.useLayoutEffect=function(D,M){return De.current.useLayoutEffect(D,M)},Ae.useMemo=function(D,M){return De.current.useMemo(D,M)},Ae.useReducer=function(D,M,ce){return De.current.useReducer(D,M,ce)},Ae.useRef=function(D){return De.current.useRef(D)},Ae.useState=function(D){return De.current.useState(D)},Ae.useSyncExternalStore=function(D,M,ce){return De.current.useSyncExternalStore(D,M,ce)},Ae.useTransition=function(){return De.current.useTransition()},Ae.version="18.3.1",Ae}var Pp;function zh(){return Pp||(Pp=1,ih.exports=N_()),ih.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function V_(){if(kp)return Wo;kp=1;var i=zh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,_){var w,R={},A=null,O=null;_!==void 0&&(A=""+_),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(O=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:A,ref:O,props:R,_owner:a.current}}return Wo.Fragment=n,Wo.jsx=h,Wo.jsxs=h,Wo}var xp;function D_(){return xp||(xp=1,rh.exports=V_()),rh.exports}var W=D_(),B=zh(),Ll={},sh={exports:{}},Yt={},oh={exports:{}},ah={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Np;function L_(){return Np||(Np=1,function(i){function e(ne,pe){var se=ne.length;ne.push(pe);e:for(;0<se;){var D=se-1>>>1,M=ne[D];if(0<a(M,pe))ne[D]=pe,ne[se]=M,se=D;else break e}}function n(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var pe=ne[0],se=ne.pop();if(se!==pe){ne[0]=se;e:for(var D=0,M=ne.length,ce=M>>>1;D<ce;){var X=2*(D+1)-1,ve=ne[X],Re=X+1,Pe=ne[Re];if(0>a(ve,se))Re<M&&0>a(Pe,ve)?(ne[D]=Pe,ne[Re]=se,D=Re):(ne[D]=ve,ne[X]=se,D=X);else if(Re<M&&0>a(Pe,se))ne[D]=Pe,ne[Re]=se,D=Re;else break e}}return pe}function a(ne,pe){var se=ne.sortIndex-pe.sortIndex;return se!==0?se:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],_=[],w=1,R=null,A=3,O=!1,j=!1,q=!1,b=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(ne){for(var pe=n(_);pe!==null;){if(pe.callback===null)s(_);else if(pe.startTime<=ne)s(_),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(_)}}function fe(ne){if(q=!1,ie(ne),!j)if(n(g)!==null)j=!0,rt(Ce);else{var pe=n(_);pe!==null&&De(fe,pe.startTime-ne)}}function Ce(ne,pe){j=!1,q&&(q=!1,Q(T),T=-1),O=!0;var se=A;try{for(ie(pe),R=n(g);R!==null&&(!(R.expirationTime>pe)||ne&&!V());){var D=R.callback;if(typeof D=="function"){R.callback=null,A=R.priorityLevel;var M=D(R.expirationTime<=pe);pe=i.unstable_now(),typeof M=="function"?R.callback=M:R===n(g)&&s(g),ie(pe)}else s(g);R=n(g)}if(R!==null)var ce=!0;else{var X=n(_);X!==null&&De(fe,X.startTime-pe),ce=!1}return ce}finally{R=null,A=se,O=!1}}var Te=!1,x=null,T=-1,I=5,P=-1;function V(){return!(i.unstable_now()-P<I)}function L(){if(x!==null){var ne=i.unstable_now();P=ne;var pe=!0;try{pe=x(!0,ne)}finally{pe?C():(Te=!1,x=null)}}else Te=!1}var C;if(typeof Y=="function")C=function(){Y(L)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,nt=Be.port2;Be.port1.onmessage=L,C=function(){nt.postMessage(null)}}else C=function(){b(L,0)};function rt(ne){x=ne,Te||(Te=!0,C())}function De(ne,pe){T=b(function(){ne(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ne){ne.callback=null},i.unstable_continueExecution=function(){j||O||(j=!0,rt(Ce))},i.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ne?Math.floor(1e3/ne):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ne){switch(A){case 1:case 2:case 3:var pe=3;break;default:pe=A}var se=A;A=pe;try{return ne()}finally{A=se}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var se=A;A=ne;try{return pe()}finally{A=se}},i.unstable_scheduleCallback=function(ne,pe,se){var D=i.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?D+se:D):se=D,ne){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=se+M,ne={id:w++,callback:pe,priorityLevel:ne,startTime:se,expirationTime:M,sortIndex:-1},se>D?(ne.sortIndex=se,e(_,ne),n(g)===null&&ne===n(_)&&(q?(Q(T),T=-1):q=!0,De(fe,se-D))):(ne.sortIndex=M,e(g,ne),j||O||(j=!0,rt(Ce))),ne},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(ne){var pe=A;return function(){var se=A;A=pe;try{return ne.apply(this,arguments)}finally{A=se}}}}(ah)),ah}var Vp;function O_(){return Vp||(Vp=1,oh.exports=L_()),oh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dp;function M_(){if(Dp)return Yt;Dp=1;var i=zh(),e=O_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function A(t){return g.call(R,t)?!0:g.call(w,t)?!1:_.test(t)?R[t]=!0:(w[t]=!0,!1)}function O(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,o,u){if(r===null||typeof r>"u"||O(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,f,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,Y);b[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,Y);b[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,Y);b[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,r,o,u){var f=b.hasOwnProperty(r)?b[r]:null;(f!==null?f.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,o,f,u)&&(o=null),u||f===null?A(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):f.mustUseProperty?t[f.propertyName]=o===null?f.type===3?!1:"":o:(r=f.attributeName,u=f.attributeNamespace,o===null?t.removeAttribute(r):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var fe=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),Te=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Be=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),rt=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ne&&t[ne]||t["@@iterator"],typeof t=="function"?t:null)}var se=Object.assign,D;function M(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var ce=!1;function X(t,r){if(!t||ce)return"";ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch($){var u=$}Reflect.construct(t,[],r)}else{try{r.call()}catch($){u=$}t.call(r.prototype)}else{try{throw Error()}catch($){u=$}t()}}catch($){if($&&u&&typeof $.stack=="string"){for(var f=$.stack.split(`
`),p=u.stack.split(`
`),v=f.length-1,S=p.length-1;1<=v&&0<=S&&f[v]!==p[S];)S--;for(;1<=v&&0<=S;v--,S--)if(f[v]!==p[S]){if(v!==1||S!==1)do if(v--,S--,0>S||f[v]!==p[S]){var k=`
`+f[v].replace(" at new "," at ");return t.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",t.displayName)),k}while(1<=v&&0<=S);break}}}finally{ce=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?M(t):""}function ve(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=X(t.type,!1),t;case 11:return t=X(t.type.render,!1),t;case 1:return t=X(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case Te:return"Portal";case I:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case Be:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Consumer";case P:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case rt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Pe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function xe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Xe(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Bt(t){t._valueTracker||(t._valueTracker=Xe(t))}function on(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function _n(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ri(t,r){var o=r.checked;return se({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function zi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=xe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Xs(t,r){r=r.checked,r!=null&&ie(t,"checked",r,!1)}function Js(t,r){Xs(t,r);var o=xe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?bi(t,r.type,o):r.hasOwnProperty("defaultValue")&&bi(t,r.type,xe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function va(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function bi(t,r,o){(r!=="number"||_n(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Zn=Array.isArray;function er(t,r,o,u){if(t=t.options,r){r={};for(var f=0;f<o.length;f++)r["$"+o[f]]=!0;for(o=0;o<t.length;o++)f=r.hasOwnProperty("$"+t[o].value),t[o].selected!==f&&(t[o].selected=f),f&&u&&(t[o].defaultSelected=!0)}else{for(o=""+xe(o),r=null,f=0;f<t.length;f++){if(t[f].value===o){t[f].selected=!0,u&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Zs(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return se({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Bi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Zn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:xe(o)}}function $i(t,r){var o=xe(r.value),u=xe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function eo(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ht(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ht(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tr,to=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,f){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,f)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(tr=tr||document.createElement("div"),tr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=tr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Tr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ii={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},si=["Webkit","ms","Moz","O"];Object.keys(ii).forEach(function(t){si.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ii[r]=ii[t]})});function no(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ii.hasOwnProperty(t)&&ii[t]?(""+r).trim():r+"px"}function ro(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=no(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,f):t[o]=f}}var io=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function so(t,r){if(r){if(io[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function oo(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oi=null;function Hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,an=null,Mn=null;function Wi(t){if(t=No(t)){if(typeof qi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ga(r),qi(t.stateNode,t.type,r))}}function Fn(t){an?Mn?Mn.push(t):Mn=[t]:an=t}function ao(){if(an){var t=an,r=Mn;if(Mn=an=null,Wi(t),r)for(t=0;t<r.length;t++)Wi(r[t])}}function ai(t,r){return t(r)}function lo(){}var nr=!1;function uo(t,r,o){if(nr)return t(r,o);nr=!0;try{return ai(t,r,o)}finally{nr=!1,(an!==null||Mn!==null)&&(lo(),ao())}}function st(t,r){var o=t.stateNode;if(o===null)return null;var u=Ga(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Qi=!1;if(m)try{var vn={};Object.defineProperty(vn,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",vn,vn),window.removeEventListener("test",vn,vn)}catch{Qi=!1}function li(t,r,o,u,f,p,v,S,k){var $=Array.prototype.slice.call(arguments,3);try{r.apply(o,$)}catch(J){this.onError(J)}}var ui=!1,Ki=null,En=!1,co=null,Nu={onError:function(t){ui=!0,Ki=t}};function Gi(t,r,o,u,f,p,v,S,k){ui=!1,Ki=null,li.apply(Nu,arguments)}function Ea(t,r,o,u,f,p,v,S,k){if(Gi.apply(this,arguments),ui){if(ui){var $=Ki;ui=!1,Ki=null}else throw Error(n(198));En||(En=!0,co=$)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function ci(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function wa(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return Tn(f),t;if(p===u)return Tn(f),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=f,u=p;else{for(var v=!1,S=f.child;S;){if(S===o){v=!0,o=f,u=p;break}if(S===u){v=!0,u=f,o=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===o){v=!0,o=p,u=f;break}if(S===u){v=!0,u=p,o=f;break}S=S.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function ho(t){return t=wa(t),t!==null?Yi(t):null}function Yi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Yi(t);if(r!==null)return r;t=t.sibling}return null}var Xi=e.unstable_scheduleCallback,fo=e.unstable_cancelCallback,Ta=e.unstable_shouldYield,Vu=e.unstable_requestPaint,He=e.unstable_now,Sa=e.unstable_getCurrentPriorityLevel,hi=e.unstable_ImmediatePriority,Sr=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,po=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,fi=null,Jt=null;function Ca(t){if(Jt&&typeof Jt.onCommitFiberRoot=="function")try{Jt.onCommitFiberRoot(fi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Aa,mo=Math.log,Ra=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(mo(t)/Ra|0)|0}var Ji=64,Zi=4194304;function Ir(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function di(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,f=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var S=v&~f;S!==0?u=Ir(S):(p&=v,p!==0&&(u=Ir(p)))}else v=o&~f,v!==0?u=Ir(v):p!==0&&(u=Ir(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&f)&&(f=u&-u,p=r&-r,f>=p||f===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),f=1<<o,u|=t[o],r&=~f;return u}function Du(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rr(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,f=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ut(p),S=1<<v,k=f[v];k===-1?(!(S&o)||S&u)&&(f[v]=Du(S,r)):k<=r&&(t.expiredLanes|=S),p&=~S}}function Zt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pi(){var t=Ji;return Ji<<=1,!(Ji&4194240)&&(Ji=64),t}function Cr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Rr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function $e(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var f=31-Ut(o),p=1<<f;r[f]=0,u[f]=-1,t[f]=-1,o&=~p}}function Ar(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),f=1<<u;f&r|t[u]&r&&(t[u]|=r),o&=~f}}var Ne=0;function Pr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Pa,es,ka,xa,Na,go=!1,Un=[],It=null,Sn=null,In=null,kr=new Map,un=new Map,jn=[],Lu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Va(t,r){switch(t){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":kr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":un.delete(r.pointerId)}}function $t(t,r,o,u,f,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},r!==null&&(r=No(r),r!==null&&es(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Ou(t,r,o,u,f){switch(r){case"focusin":return It=$t(It,t,r,o,u,f),!0;case"dragenter":return Sn=$t(Sn,t,r,o,u,f),!0;case"mouseover":return In=$t(In,t,r,o,u,f),!0;case"pointerover":var p=f.pointerId;return kr.set(p,$t(kr.get(p)||null,t,r,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,un.set(p,$t(un.get(p)||null,t,r,o,u,f)),!0}return!1}function Da(t){var r=vi(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=ci(o),r!==null){t.blockedOn=r,Na(t.priority,function(){ka(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ir(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ts(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);oi=u,o.target.dispatchEvent(u),oi=null}else return r=No(o),r!==null&&es(r),t.blockedOn=o,!1;r.shift()}return!0}function mi(t,r,o){ir(t)&&o.delete(r)}function La(){go=!1,It!==null&&ir(It)&&(It=null),Sn!==null&&ir(Sn)&&(Sn=null),In!==null&&ir(In)&&(In=null),kr.forEach(mi),un.forEach(mi)}function Cn(t,r){t.blockedOn===r&&(t.blockedOn=null,go||(go=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,La)))}function Rn(t){function r(f){return Cn(f,t)}if(0<Un.length){Cn(Un[0],t);for(var o=1;o<Un.length;o++){var u=Un[o];u.blockedOn===t&&(u.blockedOn=null)}}for(It!==null&&Cn(It,t),Sn!==null&&Cn(Sn,t),In!==null&&Cn(In,t),kr.forEach(r),un.forEach(r),o=0;o<jn.length;o++)u=jn[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<jn.length&&(o=jn[0],o.blockedOn===null);)Da(o),o.blockedOn===null&&jn.shift()}var sr=fe.ReactCurrentBatchConfig,xr=!0;function Ke(t,r,o,u){var f=Ne,p=sr.transition;sr.transition=null;try{Ne=1,yo(t,r,o,u)}finally{Ne=f,sr.transition=p}}function Mu(t,r,o,u){var f=Ne,p=sr.transition;sr.transition=null;try{Ne=4,yo(t,r,o,u)}finally{Ne=f,sr.transition=p}}function yo(t,r,o,u){if(xr){var f=ts(t,r,o,u);if(f===null)Qu(t,r,u,gi,o),Va(t,u);else if(Ou(f,t,r,o,u))u.stopPropagation();else if(Va(t,u),r&4&&-1<Lu.indexOf(t)){for(;f!==null;){var p=No(f);if(p!==null&&Pa(p),p=ts(t,r,o,u),p===null&&Qu(t,r,u,gi,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else Qu(t,r,u,null,o)}}var gi=null;function ts(t,r,o,u){if(gi=null,t=Hi(u),t=vi(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=ci(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return gi=t,null}function _o(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sa()){case hi:return 1;case Sr:return 4;case ln:case po:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var en=null,ns=null,Ht=null;function vo(){if(Ht)return Ht;var t,r=ns,o=r.length,u,f="value"in en?en.value:en.textContent,p=f.length;for(t=0;t<o&&r[t]===f[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===f[p-u];u++);return Ht=f.slice(t,1<u?1-u:void 0)}function rs(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zn(){return!0}function Eo(){return!1}function Ct(t){function r(o,u,f,p,v){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?zn:Eo,this.isPropagationStopped=Eo,this}return se(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),r}var An={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},is=Ct(An),bn=se({},An,{view:0,detail:0}),Fu=Ct(bn),ss,or,Nr,yi=se({},bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bn,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nr&&(Nr&&t.type==="mousemove"?(ss=t.screenX-Nr.screenX,or=t.screenY-Nr.screenY):or=ss=0,Nr=t),ss)},movementY:function(t){return"movementY"in t?t.movementY:or}}),os=Ct(yi),wo=se({},yi,{dataTransfer:0}),Oa=Ct(wo),as=se({},bn,{relatedTarget:0}),ls=Ct(as),Ma=se({},An,{animationName:0,elapsedTime:0,pseudoElement:0}),ar=Ct(Ma),Fa=se({},An,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ua=Ct(Fa),ja=se({},An,{data:0}),To=Ct(ja),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=za[t])?!!r[t]:!1}function Bn(){return ba}var l=se({},bn,{key:function(t){if(t.key){var r=us[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=rs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bn,charCode:function(t){return t.type==="keypress"?rs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?rs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=Ct(l),y=se({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=Ct(y),F=se({},bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bn}),H=Ct(F),re=se({},An,{propertyName:0,elapsedTime:0,pseudoElement:0}),be=Ct(re),dt=se({},yi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Ct(dt),vt=[9,13,27,32],lt=m&&"CompositionEvent"in window,cn=null;m&&"documentMode"in document&&(cn=document.documentMode);var tn=m&&"TextEvent"in window&&!cn,_i=m&&(!lt||cn&&8<cn&&11>=cn),cs=" ",wf=!1;function Tf(t,r){switch(t){case"keyup":return vt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function ky(t,r){switch(t){case"compositionend":return Sf(r);case"keypress":return r.which!==32?null:(wf=!0,cs);case"textInput":return t=r.data,t===cs&&wf?null:t;default:return null}}function xy(t,r){if(hs)return t==="compositionend"||!lt&&Tf(t,r)?(t=vo(),Ht=ns=en=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _i&&r.locale!=="ko"?null:r.data;default:return null}}var Ny={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function If(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ny[t.type]:r==="textarea"}function Cf(t,r,o,u){Fn(u),r=Wa(r,"onChange"),0<r.length&&(o=new is("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var So=null,Io=null;function Vy(t){$f(t,0)}function Ba(t){var r=gs(t);if(on(r))return t}function Dy(t,r){if(t==="change")return r}var Rf=!1;if(m){var Uu;if(m){var ju="oninput"in document;if(!ju){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),ju=typeof Af.oninput=="function"}Uu=ju}else Uu=!1;Rf=Uu&&(!document.documentMode||9<document.documentMode)}function Pf(){So&&(So.detachEvent("onpropertychange",kf),Io=So=null)}function kf(t){if(t.propertyName==="value"&&Ba(Io)){var r=[];Cf(r,Io,t,Hi(t)),uo(Vy,r)}}function Ly(t,r,o){t==="focusin"?(Pf(),So=r,Io=o,So.attachEvent("onpropertychange",kf)):t==="focusout"&&Pf()}function Oy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ba(Io)}function My(t,r){if(t==="click")return Ba(r)}function Fy(t,r){if(t==="input"||t==="change")return Ba(r)}function Uy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:Uy;function Co(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!g.call(r,f)||!Pn(t[f],r[f]))return!1}return!0}function xf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Nf(t,r){var o=xf(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=xf(o)}}function Vf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Vf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Df(){for(var t=window,r=_n();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=_n(t.document)}return r}function zu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function jy(t){var r=Df(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Vf(o.ownerDocument.documentElement,o)){if(u!==null&&zu(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var f=o.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!t.extend&&p>u&&(f=u,u=p,p=f),f=Nf(o,p);var v=Nf(o,u);f&&v&&(t.rangeCount!==1||t.anchorNode!==f.node||t.anchorOffset!==f.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(f.node,f.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=m&&"documentMode"in document&&11>=document.documentMode,fs=null,bu=null,Ro=null,Bu=!1;function Lf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Bu||fs==null||fs!==_n(u)||(u=fs,"selectionStart"in u&&zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ro&&Co(Ro,u)||(Ro=u,u=Wa(bu,"onSelect"),0<u.length&&(r=new is("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=fs)))}function $a(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ds={animationend:$a("Animation","AnimationEnd"),animationiteration:$a("Animation","AnimationIteration"),animationstart:$a("Animation","AnimationStart"),transitionend:$a("Transition","TransitionEnd")},$u={},Of={};m&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ha(t){if($u[t])return $u[t];if(!ds[t])return t;var r=ds[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Of)return $u[t]=r[o];return t}var Mf=Ha("animationend"),Ff=Ha("animationiteration"),Uf=Ha("animationstart"),jf=Ha("transitionend"),zf=new Map,bf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,r){zf.set(t,r),c(r,[t])}for(var Hu=0;Hu<bf.length;Hu++){var qu=bf[Hu],by=qu.toLowerCase(),By=qu[0].toUpperCase()+qu.slice(1);Vr(by,"on"+By)}Vr(Mf,"onAnimationEnd"),Vr(Ff,"onAnimationIteration"),Vr(Uf,"onAnimationStart"),Vr("dblclick","onDoubleClick"),Vr("focusin","onFocus"),Vr("focusout","onBlur"),Vr(jf,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$y=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function Bf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Ea(u,r,void 0,t),t.currentTarget=null}function $f(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],f=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],k=S.instance,$=S.currentTarget;if(S=S.listener,k!==p&&f.isPropagationStopped())break e;Bf(f,S,$),p=k}else for(v=0;v<u.length;v++){if(S=u[v],k=S.instance,$=S.currentTarget,S=S.listener,k!==p&&f.isPropagationStopped())break e;Bf(f,S,$),p=k}}}if(En)throw t=co,En=!1,co=null,t}function We(t,r){var o=r[Zu];o===void 0&&(o=r[Zu]=new Set);var u=t+"__bubble";o.has(u)||(Hf(r,t,2,!1),o.add(u))}function Wu(t,r,o){var u=0;r&&(u|=4),Hf(o,t,u,r)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Po(t){if(!t[qa]){t[qa]=!0,s.forEach(function(o){o!=="selectionchange"&&($y.has(o)||Wu(o,!1,t),Wu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qa]||(r[qa]=!0,Wu("selectionchange",!1,r))}}function Hf(t,r,o,u){switch(_o(r)){case 1:var f=Ke;break;case 4:f=Mu;break;default:f=yo}o=f.bind(null,r,o,t),f=void 0,!Qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),u?f!==void 0?t.addEventListener(r,o,{capture:!0,passive:f}):t.addEventListener(r,o,!0):f!==void 0?t.addEventListener(r,o,{passive:f}):t.addEventListener(r,o,!1)}function Qu(t,r,o,u,f){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===f||S.nodeType===8&&S.parentNode===f)break;if(v===4)for(v=u.return;v!==null;){var k=v.tag;if((k===3||k===4)&&(k=v.stateNode.containerInfo,k===f||k.nodeType===8&&k.parentNode===f))return;v=v.return}for(;S!==null;){if(v=vi(S),v===null)return;if(k=v.tag,k===5||k===6){u=p=v;continue e}S=S.parentNode}}u=u.return}uo(function(){var $=p,J=Hi(o),ee=[];e:{var G=zf.get(t);if(G!==void 0){var oe=is,ue=t;switch(t){case"keypress":if(rs(o)===0)break e;case"keydown":case"keyup":oe=d;break;case"focusin":ue="focus",oe=ls;break;case"focusout":ue="blur",oe=ls;break;case"beforeblur":case"afterblur":oe=ls;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=os;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Oa;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=H;break;case Mf:case Ff:case Uf:oe=ar;break;case jf:oe=be;break;case"scroll":oe=Fu;break;case"wheel":oe=Le;break;case"copy":case"cut":case"paste":oe=Ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var he=(r&4)!==0,ot=!he&&t==="scroll",U=he?G!==null?G+"Capture":null:G;he=[];for(var N=$,z;N!==null;){z=N;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=st(N,U),te!=null&&he.push(ko(N,te,z)))),ot)break;N=N.return}0<he.length&&(G=new oe(G,ue,null,o,J),ee.push({event:G,listeners:he}))}}if(!(r&7)){e:{if(G=t==="mouseover"||t==="pointerover",oe=t==="mouseout"||t==="pointerout",G&&o!==oi&&(ue=o.relatedTarget||o.fromElement)&&(vi(ue)||ue[lr]))break e;if((oe||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,oe?(ue=o.relatedTarget||o.toElement,oe=$,ue=ue?vi(ue):null,ue!==null&&(ot=wn(ue),ue!==ot||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(oe=null,ue=$),oe!==ue)){if(he=os,te="onMouseLeave",U="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(he=E,te="onPointerLeave",U="onPointerEnter",N="pointer"),ot=oe==null?G:gs(oe),z=ue==null?G:gs(ue),G=new he(te,N+"leave",oe,o,J),G.target=ot,G.relatedTarget=z,te=null,vi(J)===$&&(he=new he(U,N+"enter",ue,o,J),he.target=z,he.relatedTarget=ot,te=he),ot=te,oe&&ue)t:{for(he=oe,U=ue,N=0,z=he;z;z=ps(z))N++;for(z=0,te=U;te;te=ps(te))z++;for(;0<N-z;)he=ps(he),N--;for(;0<z-N;)U=ps(U),z--;for(;N--;){if(he===U||U!==null&&he===U.alternate)break t;he=ps(he),U=ps(U)}he=null}else he=null;oe!==null&&qf(ee,G,oe,he,!1),ue!==null&&ot!==null&&qf(ee,ot,ue,he,!0)}}e:{if(G=$?gs($):window,oe=G.nodeName&&G.nodeName.toLowerCase(),oe==="select"||oe==="input"&&G.type==="file")var de=Dy;else if(If(G))if(Rf)de=Fy;else{de=Oy;var ge=Ly}else(oe=G.nodeName)&&oe.toLowerCase()==="input"&&(G.type==="checkbox"||G.type==="radio")&&(de=My);if(de&&(de=de(t,$))){Cf(ee,de,o,J);break e}ge&&ge(t,G,$),t==="focusout"&&(ge=G._wrapperState)&&ge.controlled&&G.type==="number"&&bi(G,"number",G.value)}switch(ge=$?gs($):window,t){case"focusin":(If(ge)||ge.contentEditable==="true")&&(fs=ge,bu=$,Ro=null);break;case"focusout":Ro=bu=fs=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,Lf(ee,o,J);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":Lf(ee,o,J)}var ye;if(lt)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else hs?Tf(t,o)&&(Ee="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(_i&&o.locale!=="ko"&&(hs||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&hs&&(ye=vo()):(en=J,ns="value"in en?en.value:en.textContent,hs=!0)),ge=Wa($,Ee),0<ge.length&&(Ee=new To(Ee,t,null,o,J),ee.push({event:Ee,listeners:ge}),ye?Ee.data=ye:(ye=Sf(o),ye!==null&&(Ee.data=ye)))),(ye=tn?ky(t,o):xy(t,o))&&($=Wa($,"onBeforeInput"),0<$.length&&(J=new To("onBeforeInput","beforeinput",null,o,J),ee.push({event:J,listeners:$}),J.data=ye))}$f(ee,r)})}function ko(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Wa(t,r){for(var o=r+"Capture",u=[];t!==null;){var f=t,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=st(t,o),p!=null&&u.unshift(ko(t,p,f)),p=st(t,r),p!=null&&u.push(ko(t,p,f))),t=t.return}return u}function ps(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qf(t,r,o,u,f){for(var p=r._reactName,v=[];o!==null&&o!==u;){var S=o,k=S.alternate,$=S.stateNode;if(k!==null&&k===u)break;S.tag===5&&$!==null&&(S=$,f?(k=st(o,p),k!=null&&v.unshift(ko(o,k,S))):f||(k=st(o,p),k!=null&&v.push(ko(o,k,S)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var Hy=/\r\n?/g,qy=/\u0000|\uFFFD/g;function Wf(t){return(typeof t=="string"?t:""+t).replace(Hy,`
`).replace(qy,"")}function Qa(t,r,o){if(r=Wf(r),Wf(t)!==r&&o)throw Error(n(425))}function Ka(){}var Ku=null,Gu=null;function Yu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Xu=typeof setTimeout=="function"?setTimeout:void 0,Wy=typeof clearTimeout=="function"?clearTimeout:void 0,Qf=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Qf<"u"?function(t){return Qf.resolve(null).then(t).catch(Ky)}:Xu;function Ky(t){setTimeout(function(){throw t})}function Ju(t,r){var o=r,u=0;do{var f=o.nextSibling;if(t.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){t.removeChild(f),Rn(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Rn(r)}function Dr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Kf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var ms=Math.random().toString(36).slice(2),$n="__reactFiber$"+ms,xo="__reactProps$"+ms,lr="__reactContainer$"+ms,Zu="__reactEvents$"+ms,Gy="__reactListeners$"+ms,Yy="__reactHandles$"+ms;function vi(t){var r=t[$n];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[$n]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=Kf(t);t!==null;){if(o=t[$n])return o;t=Kf(t)}return r}t=o,o=t.parentNode}return null}function No(t){return t=t[$n]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ga(t){return t[xo]||null}var ec=[],ys=-1;function Lr(t){return{current:t}}function Qe(t){0>ys||(t.current=ec[ys],ec[ys]=null,ys--)}function qe(t,r){ys++,ec[ys]=t.current,t.current=r}var Or={},Nt=Lr(Or),qt=Lr(!1),Ei=Or;function _s(t,r){var o=t.type.contextTypes;if(!o)return Or;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in o)f[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=f),f}function Wt(t){return t=t.childContextTypes,t!=null}function Ya(){Qe(qt),Qe(Nt)}function Gf(t,r,o){if(Nt.current!==Or)throw Error(n(168));qe(Nt,r),qe(qt,o)}function Yf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in r))throw Error(n(108,Pe(t)||"Unknown",f));return se({},o,u)}function Xa(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Or,Ei=Nt.current,qe(Nt,t),qe(qt,qt.current),!0}function Xf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Yf(t,r,Ei),u.__reactInternalMemoizedMergedChildContext=t,Qe(qt),Qe(Nt),qe(Nt,t)):Qe(qt),qe(qt,o)}var ur=null,Ja=!1,tc=!1;function Jf(t){ur===null?ur=[t]:ur.push(t)}function Xy(t){Ja=!0,Jf(t)}function Mr(){if(!tc&&ur!==null){tc=!0;var t=0,r=Ne;try{var o=ur;for(Ne=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,Ja=!1}catch(f){throw ur!==null&&(ur=ur.slice(t+1)),Xi(hi,Mr),f}finally{Ne=r,tc=!1}}return null}var vs=[],Es=0,Za=null,el=0,hn=[],fn=0,wi=null,cr=1,hr="";function Ti(t,r){vs[Es++]=el,vs[Es++]=Za,Za=t,el=r}function Zf(t,r,o){hn[fn++]=cr,hn[fn++]=hr,hn[fn++]=wi,wi=t;var u=cr;t=hr;var f=32-Ut(u)-1;u&=~(1<<f),o+=1;var p=32-Ut(r)+f;if(30<p){var v=f-f%5;p=(u&(1<<v)-1).toString(32),u>>=v,f-=v,cr=1<<32-Ut(r)+f|o<<f|u,hr=p+t}else cr=1<<p|o<<f|u,hr=t}function nc(t){t.return!==null&&(Ti(t,1),Zf(t,1,0))}function rc(t){for(;t===Za;)Za=vs[--Es],vs[Es]=null,el=vs[--Es],vs[Es]=null;for(;t===wi;)wi=hn[--fn],hn[fn]=null,hr=hn[--fn],hn[fn]=null,cr=hn[--fn],hn[fn]=null}var nn=null,rn=null,Ge=!1,kn=null;function ed(t,r){var o=gn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function td(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,nn=t,rn=Dr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,nn=t,rn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=wi!==null?{id:cr,overflow:hr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=gn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,nn=t,rn=null,!0):!1;default:return!1}}function ic(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sc(t){if(Ge){var r=rn;if(r){var o=r;if(!td(t,r)){if(ic(t))throw Error(n(418));r=Dr(o.nextSibling);var u=nn;r&&td(t,r)?ed(u,o):(t.flags=t.flags&-4097|2,Ge=!1,nn=t)}}else{if(ic(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ge=!1,nn=t}}}function nd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nn=t}function tl(t){if(t!==nn)return!1;if(!Ge)return nd(t),Ge=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Yu(t.type,t.memoizedProps)),r&&(r=rn)){if(ic(t))throw rd(),Error(n(418));for(;r;)ed(t,r),r=Dr(r.nextSibling)}if(nd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){rn=Dr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}rn=null}}else rn=nn?Dr(t.stateNode.nextSibling):null;return!0}function rd(){for(var t=rn;t;)t=Dr(t.nextSibling)}function ws(){rn=nn=null,Ge=!1}function oc(t){kn===null?kn=[t]:kn.push(t)}var Jy=fe.ReactCurrentBatchConfig;function Vo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var f=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var S=f.refs;v===null?delete S[p]:S[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function nl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function id(t){var r=t._init;return r(t._payload)}function sd(t){function r(U,N){if(t){var z=U.deletions;z===null?(U.deletions=[N],U.flags|=16):z.push(N)}}function o(U,N){if(!t)return null;for(;N!==null;)r(U,N),N=N.sibling;return null}function u(U,N){for(U=new Map;N!==null;)N.key!==null?U.set(N.key,N):U.set(N.index,N),N=N.sibling;return U}function f(U,N){return U=Hr(U,N),U.index=0,U.sibling=null,U}function p(U,N,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<N?(U.flags|=2,N):z):(U.flags|=2,N)):(U.flags|=1048576,N)}function v(U){return t&&U.alternate===null&&(U.flags|=2),U}function S(U,N,z,te){return N===null||N.tag!==6?(N=Xc(z,U.mode,te),N.return=U,N):(N=f(N,z),N.return=U,N)}function k(U,N,z,te){var de=z.type;return de===x?J(U,N,z.props.children,te,z.key):N!==null&&(N.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===rt&&id(de)===N.type)?(te=f(N,z.props),te.ref=Vo(U,N,z),te.return=U,te):(te=Rl(z.type,z.key,z.props,null,U.mode,te),te.ref=Vo(U,N,z),te.return=U,te)}function $(U,N,z,te){return N===null||N.tag!==4||N.stateNode.containerInfo!==z.containerInfo||N.stateNode.implementation!==z.implementation?(N=Jc(z,U.mode,te),N.return=U,N):(N=f(N,z.children||[]),N.return=U,N)}function J(U,N,z,te,de){return N===null||N.tag!==7?(N=xi(z,U.mode,te,de),N.return=U,N):(N=f(N,z),N.return=U,N)}function ee(U,N,z){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Xc(""+N,U.mode,z),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Ce:return z=Rl(N.type,N.key,N.props,null,U.mode,z),z.ref=Vo(U,null,N),z.return=U,z;case Te:return N=Jc(N,U.mode,z),N.return=U,N;case rt:var te=N._init;return ee(U,te(N._payload),z)}if(Zn(N)||pe(N))return N=xi(N,U.mode,z,null),N.return=U,N;nl(U,N)}return null}function G(U,N,z,te){var de=N!==null?N.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return de!==null?null:S(U,N,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Ce:return z.key===de?k(U,N,z,te):null;case Te:return z.key===de?$(U,N,z,te):null;case rt:return de=z._init,G(U,N,de(z._payload),te)}if(Zn(z)||pe(z))return de!==null?null:J(U,N,z,te,null);nl(U,z)}return null}function oe(U,N,z,te,de){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,S(N,U,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Ce:return U=U.get(te.key===null?z:te.key)||null,k(N,U,te,de);case Te:return U=U.get(te.key===null?z:te.key)||null,$(N,U,te,de);case rt:var ge=te._init;return oe(U,N,z,ge(te._payload),de)}if(Zn(te)||pe(te))return U=U.get(z)||null,J(N,U,te,de,null);nl(N,te)}return null}function ue(U,N,z,te){for(var de=null,ge=null,ye=N,Ee=N=0,Tt=null;ye!==null&&Ee<z.length;Ee++){ye.index>Ee?(Tt=ye,ye=null):Tt=ye.sibling;var Ue=G(U,ye,z[Ee],te);if(Ue===null){ye===null&&(ye=Tt);break}t&&ye&&Ue.alternate===null&&r(U,ye),N=p(Ue,N,Ee),ge===null?de=Ue:ge.sibling=Ue,ge=Ue,ye=Tt}if(Ee===z.length)return o(U,ye),Ge&&Ti(U,Ee),de;if(ye===null){for(;Ee<z.length;Ee++)ye=ee(U,z[Ee],te),ye!==null&&(N=p(ye,N,Ee),ge===null?de=ye:ge.sibling=ye,ge=ye);return Ge&&Ti(U,Ee),de}for(ye=u(U,ye);Ee<z.length;Ee++)Tt=oe(ye,U,Ee,z[Ee],te),Tt!==null&&(t&&Tt.alternate!==null&&ye.delete(Tt.key===null?Ee:Tt.key),N=p(Tt,N,Ee),ge===null?de=Tt:ge.sibling=Tt,ge=Tt);return t&&ye.forEach(function(qr){return r(U,qr)}),Ge&&Ti(U,Ee),de}function he(U,N,z,te){var de=pe(z);if(typeof de!="function")throw Error(n(150));if(z=de.call(z),z==null)throw Error(n(151));for(var ge=de=null,ye=N,Ee=N=0,Tt=null,Ue=z.next();ye!==null&&!Ue.done;Ee++,Ue=z.next()){ye.index>Ee?(Tt=ye,ye=null):Tt=ye.sibling;var qr=G(U,ye,Ue.value,te);if(qr===null){ye===null&&(ye=Tt);break}t&&ye&&qr.alternate===null&&r(U,ye),N=p(qr,N,Ee),ge===null?de=qr:ge.sibling=qr,ge=qr,ye=Tt}if(Ue.done)return o(U,ye),Ge&&Ti(U,Ee),de;if(ye===null){for(;!Ue.done;Ee++,Ue=z.next())Ue=ee(U,Ue.value,te),Ue!==null&&(N=p(Ue,N,Ee),ge===null?de=Ue:ge.sibling=Ue,ge=Ue);return Ge&&Ti(U,Ee),de}for(ye=u(U,ye);!Ue.done;Ee++,Ue=z.next())Ue=oe(ye,U,Ee,Ue.value,te),Ue!==null&&(t&&Ue.alternate!==null&&ye.delete(Ue.key===null?Ee:Ue.key),N=p(Ue,N,Ee),ge===null?de=Ue:ge.sibling=Ue,ge=Ue);return t&&ye.forEach(function(x_){return r(U,x_)}),Ge&&Ti(U,Ee),de}function ot(U,N,z,te){if(typeof z=="object"&&z!==null&&z.type===x&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Ce:e:{for(var de=z.key,ge=N;ge!==null;){if(ge.key===de){if(de=z.type,de===x){if(ge.tag===7){o(U,ge.sibling),N=f(ge,z.props.children),N.return=U,U=N;break e}}else if(ge.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===rt&&id(de)===ge.type){o(U,ge.sibling),N=f(ge,z.props),N.ref=Vo(U,ge,z),N.return=U,U=N;break e}o(U,ge);break}else r(U,ge);ge=ge.sibling}z.type===x?(N=xi(z.props.children,U.mode,te,z.key),N.return=U,U=N):(te=Rl(z.type,z.key,z.props,null,U.mode,te),te.ref=Vo(U,N,z),te.return=U,U=te)}return v(U);case Te:e:{for(ge=z.key;N!==null;){if(N.key===ge)if(N.tag===4&&N.stateNode.containerInfo===z.containerInfo&&N.stateNode.implementation===z.implementation){o(U,N.sibling),N=f(N,z.children||[]),N.return=U,U=N;break e}else{o(U,N);break}else r(U,N);N=N.sibling}N=Jc(z,U.mode,te),N.return=U,U=N}return v(U);case rt:return ge=z._init,ot(U,N,ge(z._payload),te)}if(Zn(z))return ue(U,N,z,te);if(pe(z))return he(U,N,z,te);nl(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,N!==null&&N.tag===6?(o(U,N.sibling),N=f(N,z),N.return=U,U=N):(o(U,N),N=Xc(z,U.mode,te),N.return=U,U=N),v(U)):o(U,N)}return ot}var Ts=sd(!0),od=sd(!1),rl=Lr(null),il=null,Ss=null,ac=null;function lc(){ac=Ss=il=null}function uc(t){var r=rl.current;Qe(rl),t._currentValue=r}function cc(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function Is(t,r){il=t,ac=Ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Qt=!0),t.firstContext=null)}function dn(t){var r=t._currentValue;if(ac!==t)if(t={context:t,memoizedValue:r,next:null},Ss===null){if(il===null)throw Error(n(308));Ss=t,il.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return r}var Si=null;function hc(t){Si===null?Si=[t]:Si.push(t)}function ad(t,r,o,u){var f=r.interleaved;return f===null?(o.next=o,hc(r)):(o.next=f.next,f.next=o),r.interleaved=o,fr(t,u)}function fr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Fr=!1;function fc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,Fe&2){var f=u.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),u.pending=r,fr(t,o)}return f=u.interleaved,f===null?(r.next=r,hc(u)):(r.next=f.next,f.next=r),u.interleaved=r,fr(t,o)}function sl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}function ud(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?f=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?f=p=r:p=p.next=r}else f=p=r;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function ol(t,r,o,u){var f=t.updateQueue;Fr=!1;var p=f.firstBaseUpdate,v=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var k=S,$=k.next;k.next=null,v===null?p=$:v.next=$,v=k;var J=t.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==v&&(S===null?J.firstBaseUpdate=$:S.next=$,J.lastBaseUpdate=k))}if(p!==null){var ee=f.baseState;v=0,J=$=k=null,S=p;do{var G=S.lane,oe=S.eventTime;if((u&G)===G){J!==null&&(J=J.next={eventTime:oe,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=t,he=S;switch(G=r,oe=o,he.tag){case 1:if(ue=he.payload,typeof ue=="function"){ee=ue.call(oe,ee,G);break e}ee=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=he.payload,G=typeof ue=="function"?ue.call(oe,ee,G):ue,G==null)break e;ee=se({},ee,G);break e;case 2:Fr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,G=f.effects,G===null?f.effects=[S]:G.push(S))}else oe={eventTime:oe,lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?($=J=oe,k=ee):J=J.next=oe,v|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;G=S,S=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);if(J===null&&(k=ee),f.baseState=k,f.firstBaseUpdate=$,f.lastBaseUpdate=J,r=f.shared.interleaved,r!==null){f=r;do v|=f.lane,f=f.next;while(f!==r)}else p===null&&(f.shared.lanes=0);Ri|=v,t.lanes=v,t.memoizedState=ee}}function cd(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(n(191,f));f.call(u)}}}var Do={},Hn=Lr(Do),Lo=Lr(Do),Oo=Lr(Do);function Ii(t){if(t===Do)throw Error(n(174));return t}function dc(t,r){switch(qe(Oo,r),qe(Lo,t),qe(Hn,Do),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ft(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ft(r,t)}Qe(Hn),qe(Hn,r)}function Cs(){Qe(Hn),Qe(Lo),Qe(Oo)}function hd(t){Ii(Oo.current);var r=Ii(Hn.current),o=ft(r,t.type);r!==o&&(qe(Lo,t),qe(Hn,o))}function pc(t){Lo.current===t&&(Qe(Hn),Qe(Lo))}var Je=Lr(0);function al(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var mc=[];function gc(){for(var t=0;t<mc.length;t++)mc[t]._workInProgressVersionPrimary=null;mc.length=0}var ll=fe.ReactCurrentDispatcher,yc=fe.ReactCurrentBatchConfig,Ci=0,Ze=null,pt=null,Et=null,ul=!1,Mo=!1,Fo=0,Zy=0;function Vt(){throw Error(n(321))}function _c(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function vc(t,r,o,u,f,p){if(Ci=p,Ze=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ll.current=t===null||t.memoizedState===null?r_:i_,t=o(u,f),Mo){p=0;do{if(Mo=!1,Fo=0,25<=p)throw Error(n(301));p+=1,Et=pt=null,r.updateQueue=null,ll.current=s_,t=o(u,f)}while(Mo)}if(ll.current=fl,r=pt!==null&&pt.next!==null,Ci=0,Et=pt=Ze=null,ul=!1,r)throw Error(n(300));return t}function Ec(){var t=Fo!==0;return Fo=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ze.memoizedState=Et=t:Et=Et.next=t,Et}function pn(){if(pt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=pt.next;var r=Et===null?Ze.memoizedState:Et.next;if(r!==null)Et=r,pt=t;else{if(t===null)throw Error(n(310));pt=t,t={memoizedState:pt.memoizedState,baseState:pt.baseState,baseQueue:pt.baseQueue,queue:pt.queue,next:null},Et===null?Ze.memoizedState=Et=t:Et=Et.next=t}return Et}function Uo(t,r){return typeof r=="function"?r(t):r}function wc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=pt,f=u.baseQueue,p=o.pending;if(p!==null){if(f!==null){var v=f.next;f.next=p.next,p.next=v}u.baseQueue=f=p,o.pending=null}if(f!==null){p=f.next,u=u.baseState;var S=v=null,k=null,$=p;do{var J=$.lane;if((Ci&J)===J)k!==null&&(k=k.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),u=$.hasEagerState?$.eagerState:t(u,$.action);else{var ee={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};k===null?(S=k=ee,v=u):k=k.next=ee,Ze.lanes|=J,Ri|=J}$=$.next}while($!==null&&$!==p);k===null?v=u:k.next=S,Pn(u,r.memoizedState)||(Qt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=k,o.lastRenderedState=u}if(t=o.interleaved,t!==null){f=t;do p=f.lane,Ze.lanes|=p,Ri|=p,f=f.next;while(f!==t)}else f===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Tc(t){var r=pn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,f=o.pending,p=r.memoizedState;if(f!==null){o.pending=null;var v=f=f.next;do p=t(p,v.action),v=v.next;while(v!==f);Pn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function fd(){}function dd(t,r){var o=Ze,u=pn(),f=r(),p=!Pn(u.memoizedState,f);if(p&&(u.memoizedState=f,Qt=!0),u=u.queue,Sc(gd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||Et!==null&&Et.memoizedState.tag&1){if(o.flags|=2048,jo(9,md.bind(null,o,u,f,r),void 0,null),wt===null)throw Error(n(349));Ci&30||pd(o,r,f)}return f}function pd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function md(t,r,o,u){r.value=o,r.getSnapshot=u,yd(r)&&_d(t)}function gd(t,r,o){return o(function(){yd(r)&&_d(t)})}function yd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function _d(t){var r=fr(t,1);r!==null&&Dn(r,t,1,-1)}function vd(t){var r=qn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uo,lastRenderedState:t},r.queue=t,t=t.dispatch=n_.bind(null,Ze,t),[r.memoizedState,t]}function jo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ze.updateQueue,r===null?(r={lastEffect:null,stores:null},Ze.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function Ed(){return pn().memoizedState}function cl(t,r,o,u){var f=qn();Ze.flags|=t,f.memoizedState=jo(1|r,o,void 0,u===void 0?null:u)}function hl(t,r,o,u){var f=pn();u=u===void 0?null:u;var p=void 0;if(pt!==null){var v=pt.memoizedState;if(p=v.destroy,u!==null&&_c(u,v.deps)){f.memoizedState=jo(r,o,p,u);return}}Ze.flags|=t,f.memoizedState=jo(1|r,o,p,u)}function wd(t,r){return cl(8390656,8,t,r)}function Sc(t,r){return hl(2048,8,t,r)}function Td(t,r){return hl(4,2,t,r)}function Sd(t,r){return hl(4,4,t,r)}function Id(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Cd(t,r,o){return o=o!=null?o.concat([t]):null,hl(4,4,Id.bind(null,r,t),o)}function Ic(){}function Rd(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&_c(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Ad(t,r){var o=pn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&_c(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Pd(t,r,o){return Ci&21?(Pn(o,r)||(o=pi(),Ze.lanes|=o,Ri|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o)}function e_(t,r){var o=Ne;Ne=o!==0&&4>o?o:4,t(!0);var u=yc.transition;yc.transition={};try{t(!1),r()}finally{Ne=o,yc.transition=u}}function kd(){return pn().memoizedState}function t_(t,r,o){var u=Br(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},xd(t))Nd(r,o);else if(o=ad(t,r,o,u),o!==null){var f=bt();Dn(o,t,u,f),Vd(o,r,u)}}function n_(t,r,o){var u=Br(t),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(xd(t))Nd(r,f);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,o);if(f.hasEagerState=!0,f.eagerState=S,Pn(S,v)){var k=r.interleaved;k===null?(f.next=f,hc(r)):(f.next=k.next,k.next=f),r.interleaved=f;return}}catch{}finally{}o=ad(t,r,f,u),o!==null&&(f=bt(),Dn(o,t,u,f),Vd(o,r,u))}}function xd(t){var r=t.alternate;return t===Ze||r!==null&&r===Ze}function Nd(t,r){Mo=ul=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Vd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,Ar(t,o)}}var fl={readContext:dn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},r_={readContext:dn,useCallback:function(t,r){return qn().memoizedState=[t,r===void 0?null:r],t},useContext:dn,useEffect:wd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,cl(4194308,4,Id.bind(null,r,t),o)},useLayoutEffect:function(t,r){return cl(4194308,4,t,r)},useInsertionEffect:function(t,r){return cl(4,2,t,r)},useMemo:function(t,r){var o=qn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=qn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=t_.bind(null,Ze,t),[u.memoizedState,t]},useRef:function(t){var r=qn();return t={current:t},r.memoizedState=t},useState:vd,useDebugValue:Ic,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=vd(!1),r=t[0];return t=e_.bind(null,t[1]),qn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ze,f=qn();if(Ge){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),wt===null)throw Error(n(349));Ci&30||pd(u,r,o)}f.memoizedState=o;var p={value:o,getSnapshot:r};return f.queue=p,wd(gd.bind(null,u,p,t),[t]),u.flags|=2048,jo(9,md.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=qn(),r=wt.identifierPrefix;if(Ge){var o=hr,u=cr;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Fo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Zy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},i_={readContext:dn,useCallback:Rd,useContext:dn,useEffect:Sc,useImperativeHandle:Cd,useInsertionEffect:Td,useLayoutEffect:Sd,useMemo:Ad,useReducer:wc,useRef:Ed,useState:function(){return wc(Uo)},useDebugValue:Ic,useDeferredValue:function(t){var r=pn();return Pd(r,pt.memoizedState,t)},useTransition:function(){var t=wc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1},s_={readContext:dn,useCallback:Rd,useContext:dn,useEffect:Sc,useImperativeHandle:Cd,useInsertionEffect:Td,useLayoutEffect:Sd,useMemo:Ad,useReducer:Tc,useRef:Ed,useState:function(){return Tc(Uo)},useDebugValue:Ic,useDeferredValue:function(t){var r=pn();return pt===null?r.memoizedState=t:Pd(r,pt.memoizedState,t)},useTransition:function(){var t=Tc(Uo)[0],r=pn().memoizedState;return[t,r]},useMutableSource:fd,useSyncExternalStore:dd,useId:kd,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=se({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function Cc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:se({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var dl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=bt(),f=Br(t),p=dr(u,f);p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,f),r!==null&&(Dn(r,t,f,u),sl(r,t,f))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=bt(),f=Br(t),p=dr(u,f);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Ur(t,p,f),r!==null&&(Dn(r,t,f,u),sl(r,t,f))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=bt(),u=Br(t),f=dr(o,u);f.tag=2,r!=null&&(f.callback=r),r=Ur(t,f,u),r!==null&&(Dn(r,t,u,o),sl(r,t,u))}};function Dd(t,r,o,u,f,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Co(o,u)||!Co(f,p):!0}function Ld(t,r,o){var u=!1,f=Or,p=r.contextType;return typeof p=="object"&&p!==null?p=dn(p):(f=Wt(r)?Ei:Nt.current,u=r.contextTypes,p=(u=u!=null)?_s(t,f):Or),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=dl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=f,t.__reactInternalMemoizedMaskedChildContext=p),r}function Od(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&dl.enqueueReplaceState(r,r.state,null)}function Rc(t,r,o,u){var f=t.stateNode;f.props=o,f.state=t.memoizedState,f.refs={},fc(t);var p=r.contextType;typeof p=="object"&&p!==null?f.context=dn(p):(p=Wt(r)?Ei:Nt.current,f.context=_s(t,p)),f.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(Cc(t,r,p,o),f.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(r=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),r!==f.state&&dl.enqueueReplaceState(f,f.state,null),ol(t,o,f,u),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308)}function Rs(t,r){try{var o="",u=r;do o+=ve(u),u=u.return;while(u);var f=o}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:f,digest:null}}function Ac(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Pc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var o_=typeof WeakMap=="function"?WeakMap:Map;function Md(t,r,o){o=dr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){El||(El=!0,$c=u),Pc(t,r)},o}function Fd(t,r,o){o=dr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var f=r.value;o.payload=function(){return u(f)},o.callback=function(){Pc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Pc(t,r),typeof u!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Ud(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new o_;var f=new Set;u.set(r,f)}else f=u.get(r),f===void 0&&(f=new Set,u.set(r,f));f.has(o)||(f.add(o),t=E_.bind(null,t,r,o),r.then(t,t))}function jd(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function zd(t,r,o,u,f){return t.mode&1?(t.flags|=65536,t.lanes=f,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=dr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t)}var a_=fe.ReactCurrentOwner,Qt=!1;function zt(t,r,o,u){r.child=t===null?od(r,null,o,u):Ts(r,t.child,o,u)}function bd(t,r,o,u,f){o=o.render;var p=r.ref;return Is(r,f),u=vc(t,r,o,u,p,f),o=Ec(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,pr(t,r,f)):(Ge&&o&&nc(r),r.flags|=1,zt(t,r,u,f),r.child)}function Bd(t,r,o,u,f){if(t===null){var p=o.type;return typeof p=="function"&&!Yc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,$d(t,r,p,u,f)):(t=Rl(o.type,null,u,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&f)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:Co,o(v,u)&&t.ref===r.ref)return pr(t,r,f)}return r.flags|=1,t=Hr(p,u),t.ref=r.ref,t.return=r,r.child=t}function $d(t,r,o,u,f){if(t!==null){var p=t.memoizedProps;if(Co(p,u)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=u=p,(t.lanes&f)!==0)t.flags&131072&&(Qt=!0);else return r.lanes=t.lanes,pr(t,r,f)}return kc(t,r,o,u,f)}function Hd(t,r,o){var u=r.pendingProps,f=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ps,sn),sn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ps,sn),sn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,qe(Ps,sn),sn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,qe(Ps,sn),sn|=u;return zt(t,r,f,o),r.child}function qd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function kc(t,r,o,u,f){var p=Wt(o)?Ei:Nt.current;return p=_s(r,p),Is(r,f),o=vc(t,r,o,u,p,f),u=Ec(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~f,pr(t,r,f)):(Ge&&u&&nc(r),r.flags|=1,zt(t,r,o,f),r.child)}function Wd(t,r,o,u,f){if(Wt(o)){var p=!0;Xa(r)}else p=!1;if(Is(r,f),r.stateNode===null)ml(t,r),Ld(r,o,u),Rc(r,o,u,f),u=!0;else if(t===null){var v=r.stateNode,S=r.memoizedProps;v.props=S;var k=v.context,$=o.contextType;typeof $=="object"&&$!==null?$=dn($):($=Wt(o)?Ei:Nt.current,$=_s(r,$));var J=o.getDerivedStateFromProps,ee=typeof J=="function"||typeof v.getSnapshotBeforeUpdate=="function";ee||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==u||k!==$)&&Od(r,v,u,$),Fr=!1;var G=r.memoizedState;v.state=G,ol(r,u,v,f),k=r.memoizedState,S!==u||G!==k||qt.current||Fr?(typeof J=="function"&&(Cc(r,o,J,u),k=r.memoizedState),(S=Fr||Dd(r,o,S,u,G,k,$))?(ee||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=k),v.props=u,v.state=k,v.context=$,u=S):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,ld(t,r),S=r.memoizedProps,$=r.type===r.elementType?S:xn(r.type,S),v.props=$,ee=r.pendingProps,G=v.context,k=o.contextType,typeof k=="object"&&k!==null?k=dn(k):(k=Wt(o)?Ei:Nt.current,k=_s(r,k));var oe=o.getDerivedStateFromProps;(J=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(S!==ee||G!==k)&&Od(r,v,u,k),Fr=!1,G=r.memoizedState,v.state=G,ol(r,u,v,f);var ue=r.memoizedState;S!==ee||G!==ue||qt.current||Fr?(typeof oe=="function"&&(Cc(r,o,oe,u),ue=r.memoizedState),($=Fr||Dd(r,o,$,u,G,ue,k)||!1)?(J||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ue,k),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ue,k)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ue),v.props=u,v.state=ue,v.context=k,u=$):(typeof v.componentDidUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&G===t.memoizedState||(r.flags|=1024),u=!1)}return xc(t,r,o,u,p,f)}function xc(t,r,o,u,f,p){qd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return f&&Xf(r,o,!1),pr(t,r,p);u=r.stateNode,a_.current=r;var S=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=Ts(r,t.child,null,p),r.child=Ts(r,null,S,p)):zt(t,r,S,p),r.memoizedState=u.state,f&&Xf(r,o,!0),r.child}function Qd(t){var r=t.stateNode;r.pendingContext?Gf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Gf(t,r.context,!1),dc(t,r.containerInfo)}function Kd(t,r,o,u,f){return ws(),oc(f),r.flags|=256,zt(t,r,o,u),r.child}var Nc={dehydrated:null,treeContext:null,retryLane:0};function Vc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Gd(t,r,o){var u=r.pendingProps,f=Je.current,p=!1,v=(r.flags&128)!==0,S;if((S=v)||(S=t!==null&&t.memoizedState===null?!1:(f&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(f|=1),qe(Je,f&1),t===null)return sc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Al(v,u,0,null),t=xi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Vc(o),r.memoizedState=Nc,t):Dc(r,v));if(f=t.memoizedState,f!==null&&(S=f.dehydrated,S!==null))return l_(t,r,v,u,S,f,o);if(p){p=u.fallback,v=r.mode,f=t.child,S=f.sibling;var k={mode:"hidden",children:u.children};return!(v&1)&&r.child!==f?(u=r.child,u.childLanes=0,u.pendingProps=k,r.deletions=null):(u=Hr(f,k),u.subtreeFlags=f.subtreeFlags&14680064),S!==null?p=Hr(S,p):(p=xi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?Vc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Nc,u}return p=t.child,t=p.sibling,u=Hr(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Dc(t,r){return r=Al({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function pl(t,r,o,u){return u!==null&&oc(u),Ts(r,t.child,null,o),t=Dc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,o,u,f,p,v){if(o)return r.flags&256?(r.flags&=-257,u=Ac(Error(n(422))),pl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,f=r.mode,u=Al({mode:"visible",children:u.children},f,0,null),p=xi(p,f,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&Ts(r,t.child,null,v),r.child.memoizedState=Vc(v),r.memoizedState=Nc,p);if(!(r.mode&1))return pl(t,r,v,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var S=u.dgst;return u=S,p=Error(n(419)),u=Ac(p,u,void 0),pl(t,r,v,u)}if(S=(v&t.childLanes)!==0,Qt||S){if(u=wt,u!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(u.suspendedLanes|v)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,fr(t,f),Dn(u,t,f,-1))}return Gc(),u=Ac(Error(n(421))),pl(t,r,v,u)}return f.data==="$?"?(r.flags|=128,r.child=t.child,r=w_.bind(null,t),f._reactRetry=r,null):(t=p.treeContext,rn=Dr(f.nextSibling),nn=r,Ge=!0,kn=null,t!==null&&(hn[fn++]=cr,hn[fn++]=hr,hn[fn++]=wi,cr=t.id,hr=t.overflow,wi=r),r=Dc(r,u.children),r.flags|=4096,r)}function Yd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),cc(t.return,r,o)}function Lc(t,r,o,u,f){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function Xd(t,r,o){var u=r.pendingProps,f=u.revealOrder,p=u.tail;if(zt(t,r,u.children,o),u=Je.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yd(t,o,r);else if(t.tag===19)Yd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(qe(Je,u),!(r.mode&1))r.memoizedState=null;else switch(f){case"forwards":for(o=r.child,f=null;o!==null;)t=o.alternate,t!==null&&al(t)===null&&(f=o),o=o.sibling;o=f,o===null?(f=r.child,r.child=null):(f=o.sibling,o.sibling=null),Lc(r,!1,f,o,p);break;case"backwards":for(o=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&al(t)===null){r.child=f;break}t=f.sibling,f.sibling=o,o=f,f=t}Lc(r,!0,o,null,p);break;case"together":Lc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ml(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Ri|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Hr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Hr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function u_(t,r,o){switch(r.tag){case 3:Qd(r),ws();break;case 5:hd(r);break;case 1:Wt(r.type)&&Xa(r);break;case 4:dc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,f=r.memoizedProps.value;qe(rl,u._currentValue),u._currentValue=f;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(qe(Je,Je.current&1),r.flags|=128,null):o&r.child.childLanes?Gd(t,r,o):(qe(Je,Je.current&1),t=pr(t,r,o),t!==null?t.sibling:null);qe(Je,Je.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Xd(t,r,o);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),qe(Je,Je.current),u)break;return null;case 22:case 23:return r.lanes=0,Hd(t,r,o)}return pr(t,r,o)}var Jd,Oc,Zd,ep;Jd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Oc=function(){},Zd=function(t,r,o,u){var f=t.memoizedProps;if(f!==u){t=r.stateNode,Ii(Hn.current);var p=null;switch(o){case"input":f=ri(t,f),u=ri(t,u),p=[];break;case"select":f=se({},f,{value:void 0}),u=se({},u,{value:void 0}),p=[];break;case"textarea":f=Zs(t,f),u=Zs(t,u),p=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Ka)}so(o,u);var v;o=null;for($ in f)if(!u.hasOwnProperty($)&&f.hasOwnProperty($)&&f[$]!=null)if($==="style"){var S=f[$];for(v in S)S.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(a.hasOwnProperty($)?p||(p=[]):(p=p||[]).push($,null));for($ in u){var k=u[$];if(S=f!=null?f[$]:void 0,u.hasOwnProperty($)&&k!==S&&(k!=null||S!=null))if($==="style")if(S){for(v in S)!S.hasOwnProperty(v)||k&&k.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in k)k.hasOwnProperty(v)&&S[v]!==k[v]&&(o||(o={}),o[v]=k[v])}else o||(p||(p=[]),p.push($,o)),o=k;else $==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,S=S?S.__html:void 0,k!=null&&S!==k&&(p=p||[]).push($,k)):$==="children"?typeof k!="string"&&typeof k!="number"||(p=p||[]).push($,""+k):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(a.hasOwnProperty($)?(k!=null&&$==="onScroll"&&We("scroll",t),p||S===k||(p=[])):(p=p||[]).push($,k))}o&&(p=p||[]).push("style",o);var $=p;(r.updateQueue=$)&&(r.flags|=4)}},ep=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ge)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function c_(t,r,o){var u=r.pendingProps;switch(rc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Wt(r.type)&&Ya(),Dt(r),null;case 3:return u=r.stateNode,Cs(),Qe(qt),Qe(Nt),gc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(tl(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kn!==null&&(Wc(kn),kn=null))),Oc(t,r),Dt(r),null;case 5:pc(r);var f=Ii(Oo.current);if(o=r.type,t!==null&&r.stateNode!=null)Zd(t,r,o,u,f),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Ii(Hn.current),tl(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[$n]=r,u[xo]=p,t=(r.mode&1)!==0,o){case"dialog":We("cancel",u),We("close",u);break;case"iframe":case"object":case"embed":We("load",u);break;case"video":case"audio":for(f=0;f<Ao.length;f++)We(Ao[f],u);break;case"source":We("error",u);break;case"img":case"image":case"link":We("error",u),We("load",u);break;case"details":We("toggle",u);break;case"input":zi(u,p),We("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},We("invalid",u);break;case"textarea":Bi(u,p),We("invalid",u)}so(o,p),f=null;for(var v in p)if(p.hasOwnProperty(v)){var S=p[v];v==="children"?typeof S=="string"?u.textContent!==S&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,S,t),f=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,S,t),f=["children",""+S]):a.hasOwnProperty(v)&&S!=null&&v==="onScroll"&&We("scroll",u)}switch(o){case"input":Bt(u),va(u,p,!0);break;case"textarea":Bt(u),eo(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Ka)}u=f,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ht(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[$n]=r,t[xo]=u,Jd(t,r,!1,!1),r.stateNode=t;e:{switch(v=oo(o,u),o){case"dialog":We("cancel",t),We("close",t),f=u;break;case"iframe":case"object":case"embed":We("load",t),f=u;break;case"video":case"audio":for(f=0;f<Ao.length;f++)We(Ao[f],t);f=u;break;case"source":We("error",t),f=u;break;case"img":case"image":case"link":We("error",t),We("load",t),f=u;break;case"details":We("toggle",t),f=u;break;case"input":zi(t,u),f=ri(t,u),We("invalid",t);break;case"option":f=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},f=se({},u,{value:void 0}),We("invalid",t);break;case"textarea":Bi(t,u),f=Zs(t,u),We("invalid",t);break;default:f=u}so(o,f),S=f;for(p in S)if(S.hasOwnProperty(p)){var k=S[p];p==="style"?ro(t,k):p==="dangerouslySetInnerHTML"?(k=k?k.__html:void 0,k!=null&&to(t,k)):p==="children"?typeof k=="string"?(o!=="textarea"||k!=="")&&Tr(t,k):typeof k=="number"&&Tr(t,""+k):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?k!=null&&p==="onScroll"&&We("scroll",t):k!=null&&ie(t,p,k,v))}switch(o){case"input":Bt(t),va(t,u,!1);break;case"textarea":Bt(t),eo(t);break;case"option":u.value!=null&&t.setAttribute("value",""+xe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?er(t,!!u.multiple,p,!1):u.defaultValue!=null&&er(t,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(t.onclick=Ka)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)ep(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ii(Oo.current),Ii(Hn.current),tl(r)){if(u=r.stateNode,o=r.memoizedProps,u[$n]=r,(p=u.nodeValue!==o)&&(t=nn,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[$n]=r,r.stateNode=u}return Dt(r),null;case 13:if(Qe(Je),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ge&&rn!==null&&r.mode&1&&!(r.flags&128))rd(),ws(),r.flags|=98560,p=!1;else if(p=tl(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[$n]=r}else ws(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else kn!==null&&(Wc(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Je.current&1?mt===0&&(mt=3):Gc())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return Cs(),Oc(t,r),t===null&&Po(r.stateNode.containerInfo),Dt(r),null;case 10:return uc(r.type._context),Dt(r),null;case 17:return Wt(r.type)&&Ya(),Dt(r),null;case 19:if(Qe(Je),p=r.memoizedState,p===null)return Dt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)zo(p,!1);else{if(mt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=al(t),v!==null){for(r.flags|=128,zo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Je,Je.current&1|2),r.child}t=t.sibling}p.tail!==null&&He()>ks&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=al(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ge)return Dt(r),null}else 2*He()-p.renderingStartTime>ks&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=He(),r.sibling=null,o=Je.current,qe(Je,u?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Kc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?sn&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function h_(t,r){switch(rc(r),r.tag){case 1:return Wt(r.type)&&Ya(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Cs(),Qe(qt),Qe(Nt),gc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return pc(r),null;case 13:if(Qe(Je),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));ws()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Qe(Je),null;case 4:return Cs(),null;case 10:return uc(r.type._context),null;case 22:case 23:return Kc(),null;case 24:return null;default:return null}}var gl=!1,Lt=!1,f_=typeof WeakSet=="function"?WeakSet:Set,le=null;function As(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){it(t,r,u)}else o.current=null}function Mc(t,r,o){try{o()}catch(u){it(t,r,u)}}var tp=!1;function d_(t,r){if(Ku=xr,t=Df(),zu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,S=-1,k=-1,$=0,J=0,ee=t,G=null;t:for(;;){for(var oe;ee!==o||f!==0&&ee.nodeType!==3||(S=v+f),ee!==p||u!==0&&ee.nodeType!==3||(k=v+u),ee.nodeType===3&&(v+=ee.nodeValue.length),(oe=ee.firstChild)!==null;)G=ee,ee=oe;for(;;){if(ee===t)break t;if(G===o&&++$===f&&(S=v),G===p&&++J===u&&(k=v),(oe=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=oe}o=S===-1||k===-1?null:{start:S,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Gu={focusedElem:t,selectionRange:o},xr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var he=ue.memoizedProps,ot=ue.memoizedState,U=r.stateNode,N=U.getSnapshotBeforeUpdate(r.elementType===r.type?he:xn(r.type,he),ot);U.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(te){it(r,r.return,te)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=tp,tp=!1,ue}function bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&t)===t){var p=f.destroy;f.destroy=void 0,p!==void 0&&Mc(r,o,p)}f=f.next}while(f!==u)}}function yl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Fc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function np(t){var r=t.alternate;r!==null&&(t.alternate=null,np(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[$n],delete r[xo],delete r[Zu],delete r[Gy],delete r[Yy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rp(t){return t.tag===5||t.tag===3||t.tag===4}function ip(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ka));else if(u!==4&&(t=t.child,t!==null))for(Uc(t,r,o),t=t.sibling;t!==null;)Uc(t,r,o),t=t.sibling}function jc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(jc(t,r,o),t=t.sibling;t!==null;)jc(t,r,o),t=t.sibling}var Rt=null,Nn=!1;function jr(t,r,o){for(o=o.child;o!==null;)sp(t,r,o),o=o.sibling}function sp(t,r,o){if(Jt&&typeof Jt.onCommitFiberUnmount=="function")try{Jt.onCommitFiberUnmount(fi,o)}catch{}switch(o.tag){case 5:Lt||As(o,r);case 6:var u=Rt,f=Nn;Rt=null,jr(t,r,o),Rt=u,Nn=f,Rt!==null&&(Nn?(t=Rt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):Rt.removeChild(o.stateNode));break;case 18:Rt!==null&&(Nn?(t=Rt,o=o.stateNode,t.nodeType===8?Ju(t.parentNode,o):t.nodeType===1&&Ju(t,o),Rn(t)):Ju(Rt,o.stateNode));break;case 4:u=Rt,f=Nn,Rt=o.stateNode.containerInfo,Nn=!0,jr(t,r,o),Rt=u,Nn=f;break;case 0:case 11:case 14:case 15:if(!Lt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var p=f,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Mc(o,r,v),f=f.next}while(f!==u)}jr(t,r,o);break;case 1:if(!Lt&&(As(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){it(o,r,S)}jr(t,r,o);break;case 21:jr(t,r,o);break;case 22:o.mode&1?(Lt=(u=Lt)||o.memoizedState!==null,jr(t,r,o),Lt=u):jr(t,r,o);break;default:jr(t,r,o)}}function op(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new f_),r.forEach(function(u){var f=T_.bind(null,t,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Vn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var p=t,v=r,S=v;e:for(;S!==null;){switch(S.tag){case 5:Rt=S.stateNode,Nn=!1;break e;case 3:Rt=S.stateNode.containerInfo,Nn=!0;break e;case 4:Rt=S.stateNode.containerInfo,Nn=!0;break e}S=S.return}if(Rt===null)throw Error(n(160));sp(p,v,f),Rt=null,Nn=!1;var k=f.alternate;k!==null&&(k.return=null),f.return=null}catch($){it(f,r,$)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)ap(r,t),r=r.sibling}function ap(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vn(r,t),Wn(t),u&4){try{bo(3,t,t.return),yl(3,t)}catch(he){it(t,t.return,he)}try{bo(5,t,t.return)}catch(he){it(t,t.return,he)}}break;case 1:Vn(r,t),Wn(t),u&512&&o!==null&&As(o,o.return);break;case 5:if(Vn(r,t),Wn(t),u&512&&o!==null&&As(o,o.return),t.flags&32){var f=t.stateNode;try{Tr(f,"")}catch(he){it(t,t.return,he)}}if(u&4&&(f=t.stateNode,f!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,S=t.type,k=t.updateQueue;if(t.updateQueue=null,k!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&Xs(f,p),oo(S,v);var $=oo(S,p);for(v=0;v<k.length;v+=2){var J=k[v],ee=k[v+1];J==="style"?ro(f,ee):J==="dangerouslySetInnerHTML"?to(f,ee):J==="children"?Tr(f,ee):ie(f,J,ee,$)}switch(S){case"input":Js(f,p);break;case"textarea":$i(f,p);break;case"select":var G=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var oe=p.value;oe!=null?er(f,!!p.multiple,oe,!1):G!==!!p.multiple&&(p.defaultValue!=null?er(f,!!p.multiple,p.defaultValue,!0):er(f,!!p.multiple,p.multiple?[]:"",!1))}f[xo]=p}catch(he){it(t,t.return,he)}}break;case 6:if(Vn(r,t),Wn(t),u&4){if(t.stateNode===null)throw Error(n(162));f=t.stateNode,p=t.memoizedProps;try{f.nodeValue=p}catch(he){it(t,t.return,he)}}break;case 3:if(Vn(r,t),Wn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Rn(r.containerInfo)}catch(he){it(t,t.return,he)}break;case 4:Vn(r,t),Wn(t);break;case 13:Vn(r,t),Wn(t),f=t.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(Bc=He())),u&4&&op(t);break;case 22:if(J=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=($=Lt)||J,Vn(r,t),Lt=$):Vn(r,t),Wn(t),u&8192){if($=t.memoizedState!==null,(t.stateNode.isHidden=$)&&!J&&t.mode&1)for(le=t,J=t.child;J!==null;){for(ee=le=J;le!==null;){switch(G=le,oe=G.child,G.tag){case 0:case 11:case 14:case 15:bo(4,G,G.return);break;case 1:As(G,G.return);var ue=G.stateNode;if(typeof ue.componentWillUnmount=="function"){u=G,o=G.return;try{r=u,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(he){it(u,o,he)}}break;case 5:As(G,G.return);break;case 22:if(G.memoizedState!==null){cp(ee);continue}}oe!==null?(oe.return=G,le=oe):cp(ee)}J=J.sibling}e:for(J=null,ee=t;;){if(ee.tag===5){if(J===null){J=ee;try{f=ee.stateNode,$?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=ee.stateNode,k=ee.memoizedProps.style,v=k!=null&&k.hasOwnProperty("display")?k.display:null,S.style.display=no("display",v))}catch(he){it(t,t.return,he)}}}else if(ee.tag===6){if(J===null)try{ee.stateNode.nodeValue=$?"":ee.memoizedProps}catch(he){it(t,t.return,he)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;J===ee&&(J=null),ee=ee.return}J===ee&&(J=null),ee.sibling.return=ee.return,ee=ee.sibling}}break;case 19:Vn(r,t),Wn(t),u&4&&op(t);break;case 21:break;default:Vn(r,t),Wn(t)}}function Wn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(rp(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(Tr(f,""),u.flags&=-33);var p=ip(t);jc(t,p,f);break;case 3:case 4:var v=u.stateNode.containerInfo,S=ip(t);Uc(t,S,v);break;default:throw Error(n(161))}}catch(k){it(t,t.return,k)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function p_(t,r,o){le=t,lp(t)}function lp(t,r,o){for(var u=(t.mode&1)!==0;le!==null;){var f=le,p=f.child;if(f.tag===22&&u){var v=f.memoizedState!==null||gl;if(!v){var S=f.alternate,k=S!==null&&S.memoizedState!==null||Lt;S=gl;var $=Lt;if(gl=v,(Lt=k)&&!$)for(le=f;le!==null;)v=le,k=v.child,v.tag===22&&v.memoizedState!==null?hp(f):k!==null?(k.return=v,le=k):hp(f);for(;p!==null;)le=p,lp(p),p=p.sibling;le=f,gl=S,Lt=$}up(t)}else f.subtreeFlags&8772&&p!==null?(p.return=f,le=p):up(t)}}function up(t){for(;le!==null;){var r=le;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||yl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Lt)if(o===null)u.componentDidMount();else{var f=r.elementType===r.type?o.memoizedProps:xn(r.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&cd(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}cd(r,v,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var k=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":k.autoFocus&&o.focus();break;case"img":k.src&&(o.src=k.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var $=r.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var ee=J.dehydrated;ee!==null&&Rn(ee)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Fc(r)}catch(G){it(r,r.return,G)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function cp(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function hp(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{yl(4,r)}catch(k){it(r,o,k)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var f=r.return;try{u.componentDidMount()}catch(k){it(r,f,k)}}var p=r.return;try{Fc(r)}catch(k){it(r,p,k)}break;case 5:var v=r.return;try{Fc(r)}catch(k){it(r,v,k)}}}catch(k){it(r,r.return,k)}if(r===t){le=null;break}var S=r.sibling;if(S!==null){S.return=r.return,le=S;break}le=r.return}}var m_=Math.ceil,_l=fe.ReactCurrentDispatcher,zc=fe.ReactCurrentOwner,mn=fe.ReactCurrentBatchConfig,Fe=0,wt=null,ut=null,At=0,sn=0,Ps=Lr(0),mt=0,Bo=null,Ri=0,vl=0,bc=0,$o=null,Kt=null,Bc=0,ks=1/0,mr=null,El=!1,$c=null,zr=null,wl=!1,br=null,Tl=0,Ho=0,Hc=null,Sl=-1,Il=0;function bt(){return Fe&6?He():Sl!==-1?Sl:Sl=He()}function Br(t){return t.mode&1?Fe&2&&At!==0?At&-At:Jy.transition!==null?(Il===0&&(Il=pi()),Il):(t=Ne,t!==0||(t=window.event,t=t===void 0?16:_o(t.type)),t):1}function Dn(t,r,o,u){if(50<Ho)throw Ho=0,Hc=null,Error(n(185));Rr(t,o,u),(!(Fe&2)||t!==wt)&&(t===wt&&(!(Fe&2)&&(vl|=o),mt===4&&$r(t,At)),Gt(t,u),o===1&&Fe===0&&!(r.mode&1)&&(ks=He()+500,Ja&&Mr()))}function Gt(t,r){var o=t.callbackNode;rr(t,r);var u=di(t,t===wt?At:0);if(u===0)o!==null&&fo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&fo(o),r===1)t.tag===0?Xy(dp.bind(null,t)):Jf(dp.bind(null,t)),Qy(function(){!(Fe&6)&&Mr()}),o=null;else{switch(Pr(u)){case 1:o=hi;break;case 4:o=Sr;break;case 16:o=ln;break;case 536870912:o=Ia;break;default:o=ln}o=wp(o,fp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function fp(t,r){if(Sl=-1,Il=0,Fe&6)throw Error(n(327));var o=t.callbackNode;if(xs()&&t.callbackNode!==o)return null;var u=di(t,t===wt?At:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Cl(t,u);else{r=u;var f=Fe;Fe|=2;var p=mp();(wt!==t||At!==r)&&(mr=null,ks=He()+500,Pi(t,r));do try{__();break}catch(S){pp(t,S)}while(!0);lc(),_l.current=p,Fe=f,ut!==null?r=0:(wt=null,At=0,r=mt)}if(r!==0){if(r===2&&(f=Zt(t),f!==0&&(u=f,r=qc(t,f))),r===1)throw o=Bo,Pi(t,0),$r(t,u),Gt(t,He()),o;if(r===6)$r(t,u);else{if(f=t.current.alternate,!(u&30)&&!g_(f)&&(r=Cl(t,u),r===2&&(p=Zt(t),p!==0&&(u=p,r=qc(t,p))),r===1))throw o=Bo,Pi(t,0),$r(t,u),Gt(t,He()),o;switch(t.finishedWork=f,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:ki(t,Kt,mr);break;case 3:if($r(t,u),(u&130023424)===u&&(r=Bc+500-He(),10<r)){if(di(t,0)!==0)break;if(f=t.suspendedLanes,(f&u)!==u){bt(),t.pingedLanes|=t.suspendedLanes&f;break}t.timeoutHandle=Xu(ki.bind(null,t,Kt,mr),r);break}ki(t,Kt,mr);break;case 4:if($r(t,u),(u&4194240)===u)break;for(r=t.eventTimes,f=-1;0<u;){var v=31-Ut(u);p=1<<v,v=r[v],v>f&&(f=v),u&=~p}if(u=f,u=He()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*m_(u/1960))-u,10<u){t.timeoutHandle=Xu(ki.bind(null,t,Kt,mr),u);break}ki(t,Kt,mr);break;case 5:ki(t,Kt,mr);break;default:throw Error(n(329))}}}return Gt(t,He()),t.callbackNode===o?fp.bind(null,t):null}function qc(t,r){var o=$o;return t.current.memoizedState.isDehydrated&&(Pi(t,r).flags|=256),t=Cl(t,r),t!==2&&(r=Kt,Kt=o,r!==null&&Wc(r)),t}function Wc(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function g_(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!Pn(p(),f))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $r(t,r){for(r&=~bc,r&=~vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function dp(t){if(Fe&6)throw Error(n(327));xs();var r=di(t,0);if(!(r&1))return Gt(t,He()),null;var o=Cl(t,r);if(t.tag!==0&&o===2){var u=Zt(t);u!==0&&(r=u,o=qc(t,u))}if(o===1)throw o=Bo,Pi(t,0),$r(t,r),Gt(t,He()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,ki(t,Kt,mr),Gt(t,He()),null}function Qc(t,r){var o=Fe;Fe|=1;try{return t(r)}finally{Fe=o,Fe===0&&(ks=He()+500,Ja&&Mr())}}function Ai(t){br!==null&&br.tag===0&&!(Fe&6)&&xs();var r=Fe;Fe|=1;var o=mn.transition,u=Ne;try{if(mn.transition=null,Ne=1,t)return t()}finally{Ne=u,mn.transition=o,Fe=r,!(Fe&6)&&Mr()}}function Kc(){sn=Ps.current,Qe(Ps)}function Pi(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Wy(o)),ut!==null)for(o=ut.return;o!==null;){var u=o;switch(rc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ya();break;case 3:Cs(),Qe(qt),Qe(Nt),gc();break;case 5:pc(u);break;case 4:Cs();break;case 13:Qe(Je);break;case 19:Qe(Je);break;case 10:uc(u.type._context);break;case 22:case 23:Kc()}o=o.return}if(wt=t,ut=t=Hr(t.current,null),At=sn=r,mt=0,Bo=null,bc=vl=Ri=0,Kt=$o=null,Si!==null){for(r=0;r<Si.length;r++)if(o=Si[r],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=f,u.next=v}o.pending=u}Si=null}return t}function pp(t,r){do{var o=ut;try{if(lc(),ll.current=fl,ul){for(var u=Ze.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}ul=!1}if(Ci=0,Et=pt=Ze=null,Mo=!1,Fo=0,zc.current=null,o===null||o.return===null){mt=1,Bo=r,ut=null;break}e:{var p=t,v=o.return,S=o,k=r;if(r=At,S.flags|=32768,k!==null&&typeof k=="object"&&typeof k.then=="function"){var $=k,J=S,ee=J.tag;if(!(J.mode&1)&&(ee===0||ee===11||ee===15)){var G=J.alternate;G?(J.updateQueue=G.updateQueue,J.memoizedState=G.memoizedState,J.lanes=G.lanes):(J.updateQueue=null,J.memoizedState=null)}var oe=jd(v);if(oe!==null){oe.flags&=-257,zd(oe,v,S,p,r),oe.mode&1&&Ud(p,$,r),r=oe,k=$;var ue=r.updateQueue;if(ue===null){var he=new Set;he.add(k),r.updateQueue=he}else ue.add(k);break e}else{if(!(r&1)){Ud(p,$,r),Gc();break e}k=Error(n(426))}}else if(Ge&&S.mode&1){var ot=jd(v);if(ot!==null){!(ot.flags&65536)&&(ot.flags|=256),zd(ot,v,S,p,r),oc(Rs(k,S));break e}}p=k=Rs(k,S),mt!==4&&(mt=2),$o===null?$o=[p]:$o.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var U=Md(p,k,r);ud(p,U);break e;case 1:S=k;var N=p.type,z=p.stateNode;if(!(p.flags&128)&&(typeof N.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(zr===null||!zr.has(z)))){p.flags|=65536,r&=-r,p.lanes|=r;var te=Fd(p,S,r);ud(p,te);break e}}p=p.return}while(p!==null)}yp(o)}catch(de){r=de,ut===o&&o!==null&&(ut=o=o.return);continue}break}while(!0)}function mp(){var t=_l.current;return _l.current=fl,t===null?fl:t}function Gc(){(mt===0||mt===3||mt===2)&&(mt=4),wt===null||!(Ri&268435455)&&!(vl&268435455)||$r(wt,At)}function Cl(t,r){var o=Fe;Fe|=2;var u=mp();(wt!==t||At!==r)&&(mr=null,Pi(t,r));do try{y_();break}catch(f){pp(t,f)}while(!0);if(lc(),Fe=o,_l.current=u,ut!==null)throw Error(n(261));return wt=null,At=0,mt}function y_(){for(;ut!==null;)gp(ut)}function __(){for(;ut!==null&&!Ta();)gp(ut)}function gp(t){var r=Ep(t.alternate,t,sn);t.memoizedProps=t.pendingProps,r===null?yp(t):ut=r,zc.current=null}function yp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=h_(o,r),o!==null){o.flags&=32767,ut=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mt=6,ut=null;return}}else if(o=c_(o,r,sn),o!==null){ut=o;return}if(r=r.sibling,r!==null){ut=r;return}ut=r=t}while(r!==null);mt===0&&(mt=5)}function ki(t,r,o){var u=Ne,f=mn.transition;try{mn.transition=null,Ne=1,v_(t,r,o,u)}finally{mn.transition=f,Ne=u}return null}function v_(t,r,o,u){do xs();while(br!==null);if(Fe&6)throw Error(n(327));o=t.finishedWork;var f=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if($e(t,p),t===wt&&(ut=wt=null,At=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||wl||(wl=!0,wp(ln,function(){return xs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=mn.transition,mn.transition=null;var v=Ne;Ne=1;var S=Fe;Fe|=4,zc.current=null,d_(t,o),ap(o,t),jy(Gu),xr=!!Ku,Gu=Ku=null,t.current=o,p_(o),Vu(),Fe=S,Ne=v,mn.transition=p}else t.current=o;if(wl&&(wl=!1,br=t,Tl=f),p=t.pendingLanes,p===0&&(zr=null),Ca(o.stateNode),Gt(t,He()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)f=r[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(El)throw El=!1,t=$c,$c=null,t;return Tl&1&&t.tag!==0&&xs(),p=t.pendingLanes,p&1?t===Hc?Ho++:(Ho=0,Hc=t):Ho=0,Mr(),null}function xs(){if(br!==null){var t=Pr(Tl),r=mn.transition,o=Ne;try{if(mn.transition=null,Ne=16>t?16:t,br===null)var u=!1;else{if(t=br,br=null,Tl=0,Fe&6)throw Error(n(331));var f=Fe;for(Fe|=4,le=t.current;le!==null;){var p=le,v=p.child;if(le.flags&16){var S=p.deletions;if(S!==null){for(var k=0;k<S.length;k++){var $=S[k];for(le=$;le!==null;){var J=le;switch(J.tag){case 0:case 11:case 15:bo(8,J,p)}var ee=J.child;if(ee!==null)ee.return=J,le=ee;else for(;le!==null;){J=le;var G=J.sibling,oe=J.return;if(np(J),J===$){le=null;break}if(G!==null){G.return=oe,le=G;break}le=oe}}}var ue=p.alternate;if(ue!==null){var he=ue.child;if(he!==null){ue.child=null;do{var ot=he.sibling;he.sibling=null,he=ot}while(he!==null)}}le=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,le=v;else e:for(;le!==null;){if(p=le,p.flags&2048)switch(p.tag){case 0:case 11:case 15:bo(9,p,p.return)}var U=p.sibling;if(U!==null){U.return=p.return,le=U;break e}le=p.return}}var N=t.current;for(le=N;le!==null;){v=le;var z=v.child;if(v.subtreeFlags&2064&&z!==null)z.return=v,le=z;else e:for(v=N;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:yl(9,S)}}catch(de){it(S,S.return,de)}if(S===v){le=null;break e}var te=S.sibling;if(te!==null){te.return=S.return,le=te;break e}le=S.return}}if(Fe=f,Mr(),Jt&&typeof Jt.onPostCommitFiberRoot=="function")try{Jt.onPostCommitFiberRoot(fi,t)}catch{}u=!0}return u}finally{Ne=o,mn.transition=r}}return!1}function _p(t,r,o){r=Rs(o,r),r=Md(t,r,1),t=Ur(t,r,1),r=bt(),t!==null&&(Rr(t,1,r),Gt(t,r))}function it(t,r,o){if(t.tag===3)_p(t,t,o);else for(;r!==null;){if(r.tag===3){_p(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){t=Rs(o,t),t=Fd(r,t,1),r=Ur(r,t,1),t=bt(),r!==null&&(Rr(r,1,t),Gt(r,t));break}}r=r.return}}function E_(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=bt(),t.pingedLanes|=t.suspendedLanes&o,wt===t&&(At&o)===o&&(mt===4||mt===3&&(At&130023424)===At&&500>He()-Bc?Pi(t,0):bc|=o),Gt(t,r)}function vp(t,r){r===0&&(t.mode&1?(r=Zi,Zi<<=1,!(Zi&130023424)&&(Zi=4194304)):r=1);var o=bt();t=fr(t,r),t!==null&&(Rr(t,r,o),Gt(t,o))}function w_(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),vp(t,o)}function T_(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,f=t.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),vp(t,o)}var Ep;Ep=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Qt=!1,u_(t,r,o);Qt=!!(t.flags&131072)}else Qt=!1,Ge&&r.flags&1048576&&Zf(r,el,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;ml(t,r),t=r.pendingProps;var f=_s(r,Nt.current);Is(r,o),f=vc(null,r,u,t,f,o);var p=Ec();return r.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Wt(u)?(p=!0,Xa(r)):p=!1,r.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,fc(r),f.updater=dl,r.stateNode=f,f._reactInternals=r,Rc(r,u,t,o),r=xc(null,r,u,!0,p,o)):(r.tag=0,Ge&&p&&nc(r),zt(null,r,f,o),r=r.child),r;case 16:u=r.elementType;e:{switch(ml(t,r),t=r.pendingProps,f=u._init,u=f(u._payload),r.type=u,f=r.tag=I_(u),t=xn(u,t),f){case 0:r=kc(null,r,u,t,o);break e;case 1:r=Wd(null,r,u,t,o);break e;case 11:r=bd(null,r,u,t,o);break e;case 14:r=Bd(null,r,u,xn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),kc(t,r,u,f,o);case 1:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),Wd(t,r,u,f,o);case 3:e:{if(Qd(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,f=p.element,ld(t,r),ol(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){f=Rs(Error(n(423)),r),r=Kd(t,r,u,o,f);break e}else if(u!==f){f=Rs(Error(n(424)),r),r=Kd(t,r,u,o,f);break e}else for(rn=Dr(r.stateNode.containerInfo.firstChild),nn=r,Ge=!0,kn=null,o=od(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(ws(),u===f){r=pr(t,r,o);break e}zt(t,r,u,o)}r=r.child}return r;case 5:return hd(r),t===null&&sc(r),u=r.type,f=r.pendingProps,p=t!==null?t.memoizedProps:null,v=f.children,Yu(u,f)?v=null:p!==null&&Yu(u,p)&&(r.flags|=32),qd(t,r),zt(t,r,v,o),r.child;case 6:return t===null&&sc(r),null;case 13:return Gd(t,r,o);case 4:return dc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=Ts(r,null,u,o):zt(t,r,u,o),r.child;case 11:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),bd(t,r,u,f,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,f=r.pendingProps,p=r.memoizedProps,v=f.value,qe(rl,u._currentValue),u._currentValue=v,p!==null)if(Pn(p.value,v)){if(p.children===f.children&&!qt.current){r=pr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){v=p.child;for(var k=S.firstContext;k!==null;){if(k.context===u){if(p.tag===1){k=dr(-1,o&-o),k.tag=2;var $=p.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?k.next=k:(k.next=J.next,J.next=k),$.pending=k}}p.lanes|=o,k=p.alternate,k!==null&&(k.lanes|=o),cc(p.return,o,r),S.lanes|=o;break}k=k.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,S=v.alternate,S!==null&&(S.lanes|=o),cc(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}zt(t,r,f.children,o),r=r.child}return r;case 9:return f=r.type,u=r.pendingProps.children,Is(r,o),f=dn(f),u=u(f),r.flags|=1,zt(t,r,u,o),r.child;case 14:return u=r.type,f=xn(u,r.pendingProps),f=xn(u.type,f),Bd(t,r,u,f,o);case 15:return $d(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,f=r.pendingProps,f=r.elementType===u?f:xn(u,f),ml(t,r),r.tag=1,Wt(u)?(t=!0,Xa(r)):t=!1,Is(r,o),Ld(r,u,f),Rc(r,u,f,o),xc(null,r,u,!0,t,o);case 19:return Xd(t,r,o);case 22:return Hd(t,r,o)}throw Error(n(156,r.tag))};function wp(t,r){return Xi(t,r)}function S_(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,o,u){return new S_(t,r,o,u)}function Yc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I_(t){if(typeof t=="function")return Yc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===nt)return 14}return 2}function Hr(t,r){var o=t.alternate;return o===null?(o=gn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Rl(t,r,o,u,f,p){var v=2;if(u=t,typeof t=="function")Yc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return xi(o.children,f,p,r);case T:v=8,f|=8;break;case I:return t=gn(12,o,r,f|2),t.elementType=I,t.lanes=p,t;case C:return t=gn(13,o,r,f),t.elementType=C,t.lanes=p,t;case Be:return t=gn(19,o,r,f),t.elementType=Be,t.lanes=p,t;case De:return Al(o,f,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P:v=10;break e;case V:v=9;break e;case L:v=11;break e;case nt:v=14;break e;case rt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=gn(v,o,r,f),r.elementType=t,r.type=u,r.lanes=p,r}function xi(t,r,o,u){return t=gn(7,t,u,r),t.lanes=o,t}function Al(t,r,o,u){return t=gn(22,t,u,r),t.elementType=De,t.lanes=o,t.stateNode={isHidden:!1},t}function Xc(t,r,o){return t=gn(6,t,null,r),t.lanes=o,t}function Jc(t,r,o){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function C_(t,r,o,u,f){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Zc(t,r,o,u,f,p,v,S,k){return t=new C_(t,r,o,S,k),r===1?(r=1,p===!0&&(r|=8)):r=0,p=gn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},fc(p),t}function R_(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Tp(t){if(!t)return Or;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Wt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Wt(o))return Yf(t,o,r)}return r}function Sp(t,r,o,u,f,p,v,S,k){return t=Zc(o,u,!0,t,f,p,v,S,k),t.context=Tp(null),o=t.current,u=bt(),f=Br(o),p=dr(u,f),p.callback=r??null,Ur(o,p,f),t.current.lanes=f,Rr(t,f,u),Gt(t,u),t}function Pl(t,r,o,u){var f=r.current,p=bt(),v=Br(f);return o=Tp(o),r.context===null?r.context=o:r.pendingContext=o,r=dr(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(f,r,v),t!==null&&(Dn(t,f,v,p),sl(t,f,v)),v}function kl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ip(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function eh(t,r){Ip(t,r),(t=t.alternate)&&Ip(t,r)}var Cp=typeof reportError=="function"?reportError:function(t){console.error(t)};function th(t){this._internalRoot=t}xl.prototype.render=th.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Pl(t,r,null,null)},xl.prototype.unmount=th.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ai(function(){Pl(null,t,null,null)}),r[lr]=null}};function xl(t){this._internalRoot=t}xl.prototype.unstable_scheduleHydration=function(t){if(t){var r=xa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<jn.length&&r!==0&&r<jn[o].priority;o++);jn.splice(o,0,t),o===0&&Da(t)}};function nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rp(){}function A_(t,r,o,u,f){if(f){if(typeof u=="function"){var p=u;u=function(){var $=kl(v);p.call($)}}var v=Sp(r,u,t,0,null,!1,!1,"",Rp);return t._reactRootContainer=v,t[lr]=v.current,Po(t.nodeType===8?t.parentNode:t),Ai(),v}for(;f=t.lastChild;)t.removeChild(f);if(typeof u=="function"){var S=u;u=function(){var $=kl(k);S.call($)}}var k=Zc(t,0,!1,null,null,!1,!1,"",Rp);return t._reactRootContainer=k,t[lr]=k.current,Po(t.nodeType===8?t.parentNode:t),Ai(function(){Pl(r,k,o,u)}),k}function Vl(t,r,o,u,f){var p=o._reactRootContainer;if(p){var v=p;if(typeof f=="function"){var S=f;f=function(){var k=kl(v);S.call(k)}}Pl(r,v,t,f)}else v=A_(o,r,t,f,u);return kl(v)}Pa=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ir(r.pendingLanes);o!==0&&(Ar(r,o|1),Gt(r,He()),!(Fe&6)&&(ks=He()+500,Mr()))}break;case 13:Ai(function(){var u=fr(t,1);if(u!==null){var f=bt();Dn(u,t,1,f)}}),eh(t,1)}},es=function(t){if(t.tag===13){var r=fr(t,134217728);if(r!==null){var o=bt();Dn(r,t,134217728,o)}eh(t,134217728)}},ka=function(t){if(t.tag===13){var r=Br(t),o=fr(t,r);if(o!==null){var u=bt();Dn(o,t,r,u)}eh(t,r)}},xa=function(){return Ne},Na=function(t,r){var o=Ne;try{return Ne=t,r()}finally{Ne=o}},qi=function(t,r,o){switch(r){case"input":if(Js(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var f=Ga(u);if(!f)throw Error(n(90));on(u),Js(u,f)}}}break;case"textarea":$i(t,o);break;case"select":r=o.value,r!=null&&er(t,!!o.multiple,r,!1)}},ai=Qc,lo=Ai;var P_={usingClientEntryPoint:!1,Events:[No,gs,Ga,Fn,ao,Qc]},qo={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},k_={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ho(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{fi=Dl.inject(k_),Jt=Dl}catch{}}return Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P_,Yt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nh(r))throw Error(n(200));return R_(t,r,null,o)},Yt.createRoot=function(t,r){if(!nh(t))throw Error(n(299));var o=!1,u="",f=Cp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(f=r.onRecoverableError)),r=Zc(t,1,!1,null,null,o,!1,u,f),t[lr]=r.current,Po(t.nodeType===8?t.parentNode:t),new th(r)},Yt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=ho(r),t=t===null?null:t.stateNode,t},Yt.flushSync=function(t){return Ai(t)},Yt.hydrate=function(t,r,o){if(!Nl(r))throw Error(n(200));return Vl(null,t,r,!0,o)},Yt.hydrateRoot=function(t,r,o){if(!nh(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,f=!1,p="",v=Cp;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=Sp(r,null,t,1,o??null,f,!1,p,v),t[lr]=r.current,Po(t),u)for(t=0;t<u.length;t++)o=u[t],f=o._getVersion,f=f(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,f]:r.mutableSourceEagerHydrationData.push(o,f);return new xl(r)},Yt.render=function(t,r,o){if(!Nl(r))throw Error(n(200));return Vl(null,t,r,!1,o)},Yt.unmountComponentAtNode=function(t){if(!Nl(t))throw Error(n(40));return t._reactRootContainer?(Ai(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},Yt.unstable_batchedUpdates=Qc,Yt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!Nl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Vl(t,r,o,!1,u)},Yt.version="18.3.1-next-f1338f8080-20240426",Yt}var Lp;function F_(){if(Lp)return sh.exports;Lp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),sh.exports=M_(),sh.exports}var Op;function U_(){if(Op)return Ll;Op=1;var i=F_();return Ll.createRoot=i.createRoot,Ll.hydrateRoot=i.hydrateRoot,Ll}var j_=U_(),Qo={},Mp;function z_(){if(Mp)return Qo;Mp=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.parse=h,Qo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function h(A,O){const j=new c,q=A.length;if(q<2)return j;const b=(O==null?void 0:O.decode)||w;let Q=0;do{const Y=A.indexOf("=",Q);if(Y===-1)break;const ie=A.indexOf(";",Q),fe=ie===-1?q:ie;if(Y>fe){Q=A.lastIndexOf(";",Y-1)+1;continue}const Ce=m(A,Q,Y),Te=g(A,Y,Ce),x=A.slice(Ce,Te);if(j[x]===void 0){let T=m(A,Y+1,fe),I=g(A,fe,T);const P=b(A.slice(T,I));j[x]=P}Q=fe+1}while(Q<q);return j}function m(A,O,j){do{const q=A.charCodeAt(O);if(q!==32&&q!==9)return O}while(++O<j);return j}function g(A,O,j){for(;O>j;){const q=A.charCodeAt(--O);if(q!==32&&q!==9)return O+1}return j}function _(A,O,j){const q=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const b=q(O);if(!e.test(b))throw new TypeError(`argument val is invalid: ${O}`);let Q=A+"="+b;if(!j)return Q;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);Q+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);Q+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);Q+="; Path="+j.path}if(j.expires){if(!R(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);Q+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(Q+="; HttpOnly"),j.secure&&(Q+="; Secure"),j.partitioned&&(Q+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return Q}function w(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function R(A){return a.call(A)==="[object Date]"}return Qo}z_();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fp="popstate";function b_(i={}){function e(s,a){let{pathname:c,search:h,hash:m}=s.location;return _h("",{pathname:c,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:na(a)}return $_(e,n,null,i)}function et(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function B_(){return Math.random().toString(36).substring(2,10)}function Up(i,e){return{usr:i.state,key:i.key,idx:e}}function _h(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Hs(e):e,state:n,key:e&&e.key||s||B_()}}function na({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Hs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,h=a.history,m="POP",g=null,_=w();_==null&&(_=0,h.replaceState({...h.state,idx:_},""));function w(){return(h.state||{idx:null}).idx}function R(){m="POP";let b=w(),Q=b==null?null:b-_;_=b,g&&g({action:m,location:q.location,delta:Q})}function A(b,Q){m="PUSH";let Y=_h(q.location,b,Q);_=w()+1;let ie=Up(Y,_),fe=q.createHref(Y);try{h.pushState(ie,"",fe)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;a.location.assign(fe)}c&&g&&g({action:m,location:q.location,delta:1})}function O(b,Q){m="REPLACE";let Y=_h(q.location,b,Q);_=w();let ie=Up(Y,_),fe=q.createHref(Y);h.replaceState(ie,"",fe),c&&g&&g({action:m,location:q.location,delta:0})}function j(b){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof b=="string"?b:na(b);return Y=Y.replace(/ $/,"%20"),et(Q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,Q)}let q={get action(){return m},get location(){return i(a,h)},listen(b){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Fp,R),g=b,()=>{a.removeEventListener(Fp,R),g=null}},createHref(b){return e(a,b)},createURL:j,encodeLocation(b){let Q=j(b);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:O,go(b){return h.go(b)}};return q}function Fm(i,e,n="/"){return H_(i,e,n,!1)}function H_(i,e,n,s){let a=typeof e=="string"?Hs(e):e,c=Xr(a.pathname||"/",n);if(c==null)return null;let h=Um(i);q_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let _=nv(c);m=ev(h[g],_,s)}return m}function Um(i,e=[],n=[],s=""){let a=(c,h,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};g.relativePath.startsWith("/")&&(et(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=gr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(et(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Um(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:J_(_,c.index),routesMeta:w})};return i.forEach((c,h)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,h);else for(let g of jm(c.path))a(c,h,g)}),e}function jm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let h=jm(s.join("/")),m=[];return m.push(...h.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function q_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Z_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var W_=/^:[\w-]+$/,Q_=3,K_=2,G_=1,Y_=10,X_=-2,jp=i=>i==="*";function J_(i,e){let n=i.split("/"),s=n.length;return n.some(jp)&&(s+=X_),e&&(s+=K_),n.filter(a=>!jp(a)).reduce((a,c)=>a+(W_.test(c)?Q_:c===""?G_:Y_),s)}function Z_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function ev(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",R=Xl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),A=g.route;if(!R&&_&&n&&!s[s.length-1].route.index&&(R=Xl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),h.push({params:a,pathname:gr([c,R.pathname]),pathnameBase:ov(gr([c,R.pathnameBase])),route:A}),R.pathnameBase!=="/"&&(c=gr([c,R.pathnameBase]))}return h}function Xl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=tv(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],h=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:R},A)=>{if(w==="*"){let j=m[A]||"";h=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const O=m[A];return R&&!O?_[w]=void 0:_[w]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:h,pattern:i}}function tv(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function nv(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Xr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function rv(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Hs(i):i;return{pathname:n?n.startsWith("/")?n:iv(n,e):e,search:av(s),hash:lv(a)}}function iv(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function lh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sv(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zm(i){let e=sv(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function bm(i,e,n,s=!1){let a;typeof i=="string"?a=Hs(i):(a={...i},et(!a.pathname||!a.pathname.includes("?"),lh("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),lh("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),lh("#","search","hash",a)));let c=i===""||a.pathname==="",h=c?"/":a.pathname,m;if(h==null)m=n;else{let R=e.length-1;if(!s&&h.startsWith("..")){let A=h.split("/");for(;A[0]==="..";)A.shift(),R-=1;a.pathname=A.join("/")}m=R>=0?e[R]:"/"}let g=rv(a,m),_=h&&h!=="/"&&h.endsWith("/"),w=(c||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var gr=i=>i.join("/").replace(/\/\/+/g,"/"),ov=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),av=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lv=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function uv(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Bm=["POST","PUT","PATCH","DELETE"];new Set(Bm);var cv=["GET",...Bm];new Set(cv);var qs=B.createContext(null);qs.displayName="DataRouter";var mu=B.createContext(null);mu.displayName="DataRouterState";var $m=B.createContext({isTransitioning:!1});$m.displayName="ViewTransition";var hv=B.createContext(new Map);hv.displayName="Fetchers";var fv=B.createContext(null);fv.displayName="Await";var Jn=B.createContext(null);Jn.displayName="Navigation";var fa=B.createContext(null);fa.displayName="Location";var wr=B.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var bh=B.createContext(null);bh.displayName="RouteError";function dv(i,{relative:e}={}){et(da(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Jn),{hash:a,pathname:c,search:h}=pa(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:gr([n,c])),s.createHref({pathname:m,search:h,hash:a})}function da(){return B.useContext(fa)!=null}function Oi(){return et(da(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(fa).location}var Hm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qm(i){B.useContext(Jn).static||B.useLayoutEffect(i)}function pv(){let{isDataRoute:i}=B.useContext(wr);return i?Av():mv()}function mv(){et(da(),"useNavigate() may be used only in the context of a <Router> component.");let i=B.useContext(qs),{basename:e,navigator:n}=B.useContext(Jn),{matches:s}=B.useContext(wr),{pathname:a}=Oi(),c=JSON.stringify(zm(s)),h=B.useRef(!1);return qm(()=>{h.current=!0}),B.useCallback((g,_={})=>{if(Gn(h.current,Hm),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=bm(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:gr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}B.createContext(null);function pa(i,{relative:e}={}){let{matches:n}=B.useContext(wr),{pathname:s}=Oi(),a=JSON.stringify(zm(n));return B.useMemo(()=>bm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function gv(i,e){return Wm(i,e)}function Wm(i,e,n,s){var Q;et(da(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=B.useContext(Jn),{matches:c}=B.useContext(wr),h=c[c.length-1],m=h?h.params:{},g=h?h.pathname:"/",_=h?h.pathnameBase:"/",w=h&&h.route;{let Y=w&&w.path||"";Qm(g,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=Oi(),A;if(e){let Y=typeof e=="string"?Hs(e):e;et(_==="/"||((Q=Y.pathname)==null?void 0:Q.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),A=Y}else A=R;let O=A.pathname||"/",j=O;if(_!=="/"){let Y=_.replace(/^\//,"").split("/");j="/"+O.replace(/^\//,"").split("/").slice(Y.length).join("/")}let q=Fm(i,{pathname:j});Gn(w||q!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),Gn(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=wv(q&&q.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:gr([_,a.encodeLocation?a.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?_:gr([_,a.encodeLocation?a.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),c,n,s);return e&&b?B.createElement(fa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},b):b}function yv(){let i=Rv(),e=uv(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:c},"ErrorBoundary")," or"," ",B.createElement("code",{style:c},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:a},n):null,h)}var _v=B.createElement(yv,null),vv=class extends B.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?B.createElement(wr.Provider,{value:this.props.routeContext},B.createElement(bh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ev({routeContext:i,match:e,children:n}){let s=B.useContext(qs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(wr.Provider,{value:i},n)}function wv(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:R}=n,A=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!R||R[_.route.id]===void 0);if(_.route.lazy||A){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let R,A=!1,O=null,j=null;n&&(R=c&&_.route.id?c[_.route.id]:void 0,O=_.route.errorElement||_v,h&&(m<0&&w===0?(Qm("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,j=null):m===w&&(A=!0,j=_.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,w+1)),b=()=>{let Q;return R?Q=O:A?Q=j:_.route.Component?Q=B.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=g,B.createElement(Ev,{match:_,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?B.createElement(vv,{location:n.location,revalidation:n.revalidation,component:O,error:R,children:b(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):b()},null)}function Bh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(i){let e=B.useContext(qs);return et(e,Bh(i)),e}function Sv(i){let e=B.useContext(mu);return et(e,Bh(i)),e}function Iv(i){let e=B.useContext(wr);return et(e,Bh(i)),e}function $h(i){let e=Iv(i),n=e.matches[e.matches.length-1];return et(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function Cv(){return $h("useRouteId")}function Rv(){var s;let i=B.useContext(bh),e=Sv("useRouteError"),n=$h("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function Av(){let{router:i}=Tv("useNavigate"),e=$h("useNavigate"),n=B.useRef(!1);return qm(()=>{n.current=!0}),B.useCallback(async(a,c={})=>{Gn(n.current,Hm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var zp={};function Qm(i,e,n){!e&&!zp[i]&&(zp[i]=!0,Gn(!1,n))}B.memo(Pv);function Pv({routes:i,future:e,state:n}){return Wm(i,void 0,n,e)}function Bl(i){et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kv({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){et(!da(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:h,navigator:a,static:c,future:{}}),[h,a,c]);typeof n=="string"&&(n=Hs(n));let{pathname:g="/",search:_="",hash:w="",state:R=null,key:A="default"}=n,O=B.useMemo(()=>{let j=Xr(g,h);return j==null?null:{location:{pathname:j,search:_,hash:w,state:R,key:A},navigationType:s}},[h,g,_,w,R,A,s]);return Gn(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:B.createElement(Jn.Provider,{value:m},B.createElement(fa.Provider,{children:e,value:O}))}function xv({children:i,location:e}){return gv(vh(i),e)}function vh(i,e=[]){let n=[];return B.Children.forEach(i,(s,a)=>{if(!B.isValidElement(s))return;let c=[...e,a];if(s.type===B.Fragment){n.push.apply(n,vh(s.props.children,c));return}et(s.type===Bl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=vh(s.props.children,c)),n.push(h)}),n}var $l="get",Hl="application/x-www-form-urlencoded";function gu(i){return i!=null&&typeof i.tagName=="string"}function Nv(i){return gu(i)&&i.tagName.toLowerCase()==="button"}function Vv(i){return gu(i)&&i.tagName.toLowerCase()==="form"}function Dv(i){return gu(i)&&i.tagName.toLowerCase()==="input"}function Lv(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Ov(i,e){return i.button===0&&(!e||e==="_self")&&!Lv(i)}var Ol=null;function Mv(){if(Ol===null)try{new FormData(document.createElement("form"),0),Ol=!1}catch{Ol=!0}return Ol}var Fv=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function uh(i){return i!=null&&!Fv.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hl}"`),null):i}function Uv(i,e){let n,s,a,c,h;if(Vv(i)){let m=i.getAttribute("action");s=m?Xr(m,e):null,n=i.getAttribute("method")||$l,a=uh(i.getAttribute("enctype"))||Hl,c=new FormData(i)}else if(Nv(i)||Dv(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Xr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||$l,a=uh(i.getAttribute("formenctype"))||uh(m.getAttribute("enctype"))||Hl,c=new FormData(m,i),!Mv()){let{name:_,type:w,value:R}=i;if(w==="image"){let A=_?`${_}.`:"";c.append(`${A}x`,"0"),c.append(`${A}y`,"0")}else _&&c.append(_,R)}}else{if(gu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=$l,s=null,a=Hl,h=i}return c&&a==="text/plain"&&(h=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:h}}function Hh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function jv(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zv(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function bv(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let h=await jv(c,n);return h.links?h.links():[]}return[]}));return qv(s.flat(1).filter(zv).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function bp(i,e,n,s,a,c){let h=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>h(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function Bv(i,e){return $v(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function $v(i){return[...new Set(i)]}function Hv(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function qv(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(Hv(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function Wv(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Qv(){let i=B.useContext(qs);return Hh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function Kv(){let i=B.useContext(mu);return Hh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var qh=B.createContext(void 0);qh.displayName="FrameworkContext";function Km(){let i=B.useContext(qh);return Hh(i,"You must render this element inside a <HydratedRouter> element"),i}function Gv(i,e){let n=B.useContext(qh),[s,a]=B.useState(!1),[c,h]=B.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:R}=e,A=B.useRef(null);B.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=Q=>{Q.forEach(Y=>{h(Y.isIntersecting)})},b=new IntersectionObserver(q,{threshold:.5});return A.current&&b.observe(A.current),()=>{b.disconnect()}}},[i]),B.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let O=()=>{a(!0)},j=()=>{a(!1),h(!1)};return n?i!=="intent"?[c,A,{}]:[c,A,{onFocus:Ko(m,O),onBlur:Ko(g,j),onMouseEnter:Ko(_,O),onMouseLeave:Ko(w,j),onTouchStart:Ko(R,O)}]:[!1,A,{}]}function Ko(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function Yv({page:i,...e}){let{router:n}=Qv(),s=B.useMemo(()=>Fm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?B.createElement(Jv,{page:i,matches:s,...e}):null}function Xv(i){let{manifest:e,routeModules:n}=Km(),[s,a]=B.useState([]);return B.useEffect(()=>{let c=!1;return bv(i,e,n).then(h=>{c||a(h)}),()=>{c=!0}},[i,e,n]),s}function Jv({page:i,matches:e,...n}){let s=Oi(),{manifest:a,routeModules:c}=Km(),{loaderData:h,matches:m}=Kv(),g=B.useMemo(()=>bp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=B.useMemo(()=>bp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=B.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,j=!1;if(e.forEach(b=>{var Y;let Q=a.routes[b.route.id];!Q||!Q.hasLoader||(!g.some(ie=>ie.route.id===b.route.id)&&b.route.id in h&&((Y=c[b.route.id])!=null&&Y.shouldRevalidate)||Q.hasClientLoader?j=!0:O.add(b.route.id))}),O.size===0)return[];let q=Wv(i);return j&&O.size>0&&q.searchParams.set("_routes",e.filter(b=>O.has(b.route.id)).map(b=>b.route.id).join(",")),[q.pathname+q.search]},[h,s,a,g,e,i,c]),R=B.useMemo(()=>Bv(_,a),[_,a]),A=Xv(_);return B.createElement(B.Fragment,null,w.map(O=>B.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),R.map(O=>B.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),A.map(({key:O,link:j})=>B.createElement("link",{key:O,...j})))}function Zv(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Gm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gm&&(window.__reactRouterVersion="7.1.1")}catch{}function eE({basename:i,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=b_({window:n,v5Compat:!0}));let a=s.current,[c,h]=B.useState({action:a.action,location:a.location}),m=B.useCallback(g=>{B.startTransition(()=>h(g))},[h]);return B.useLayoutEffect(()=>a.listen(m),[a,m]),B.createElement(kv,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Ym=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jl=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:h,state:m,target:g,to:_,preventScrollReset:w,viewTransition:R,...A},O){let{basename:j}=B.useContext(Jn),q=typeof _=="string"&&Ym.test(_),b,Q=!1;if(typeof _=="string"&&q&&(b=_,Gm))try{let I=new URL(window.location.href),P=_.startsWith("//")?new URL(I.protocol+_):new URL(_),V=Xr(P.pathname,j);P.origin===I.origin&&V!=null?_=V+P.search+P.hash:Q=!0}catch{Gn(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=dv(_,{relative:a}),[ie,fe,Ce]=Gv(s,A),Te=iE(_,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function x(I){e&&e(I),I.defaultPrevented||Te(I)}let T=B.createElement("a",{...A,...Ce,href:b||Y,onClick:Q||c?e:x,ref:Zv(O,fe),target:g,"data-discover":!q&&n==="render"?"true":void 0});return ie&&!q?B.createElement(B.Fragment,null,T,B.createElement(Yv,{page:Y})):T});Jl.displayName="Link";var tE=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:h,viewTransition:m,children:g,..._},w){let R=pa(h,{relative:_.relative}),A=Oi(),O=B.useContext(mu),{navigator:j,basename:q}=B.useContext(Jn),b=O!=null&&uE(R)&&m===!0,Q=j.encodeLocation?j.encodeLocation(R).pathname:R.pathname,Y=A.pathname,ie=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ie=ie?ie.toLowerCase():null,Q=Q.toLowerCase()),ie&&q&&(ie=Xr(ie,q)||ie);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let Ce=Y===Q||!a&&Y.startsWith(Q)&&Y.charAt(fe)==="/",Te=ie!=null&&(ie===Q||!a&&ie.startsWith(Q)&&ie.charAt(Q.length)==="/"),x={isActive:Ce,isPending:Te,isTransitioning:b},T=Ce?e:void 0,I;typeof s=="function"?I=s(x):I=[s,Ce?"active":null,Te?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let P=typeof c=="function"?c(x):c;return B.createElement(Jl,{..._,"aria-current":T,className:I,ref:w,style:P,to:h,viewTransition:m},typeof g=="function"?g(x):g)});tE.displayName="NavLink";var nE=B.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:h=$l,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:R,...A},O)=>{let j=aE(),q=lE(m,{relative:_}),b=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&Ym.test(m),Y=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let fe=ie.nativeEvent.submitter,Ce=(fe==null?void 0:fe.getAttribute("formmethod"))||h;j(fe||ie.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:R})};return B.createElement("form",{ref:O,method:b,action:q,onSubmit:s?g:Y,...A,"data-discover":!Q&&i==="render"?"true":void 0})});nE.displayName="Form";function rE(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xm(i){let e=B.useContext(qs);return et(e,rE(i)),e}function iE(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:h}={}){let m=pv(),g=Oi(),_=pa(i,{relative:c});return B.useCallback(w=>{if(Ov(w,e)){w.preventDefault();let R=n!==void 0?n:na(g)===na(_);m(i,{replace:R,state:s,preventScrollReset:a,relative:c,viewTransition:h})}},[g,m,_,n,s,e,i,a,c,h])}var sE=0,oE=()=>`__${String(++sE)}__`;function aE(){let{router:i}=Xm("useSubmit"),{basename:e}=B.useContext(Jn),n=Cv();return B.useCallback(async(s,a={})=>{let{action:c,method:h,encType:m,formData:g,body:_}=Uv(s,e);if(a.navigate===!1){let w=a.fetcherKey||oE();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function lE(i,{relative:e}={}){let{basename:n}=B.useContext(Jn),s=B.useContext(wr);et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...pa(i||".",{relative:e})},h=Oi();if(i==null){c.search=h.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:gr([n,c.pathname])),na(c)}function uE(i,e={}){let n=B.useContext($m);et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Xm("useViewTransitionState"),a=pa(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Xr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Xr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xl(a.pathname,h)!=null||Xl(a.pathname,c)!=null}new TextEncoder;var Bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},cE=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|h&63)}}return e.join("")},Zm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=c>>2,R=(c&3)<<4|m>>4;let A=(m&15)<<2|_>>6,O=_&63;g||(O=64,h||(A=64)),s.push(n[w],n[R],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Jm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):cE(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||R==null)throw new hE;const A=c<<2|m>>4;if(s.push(A),_!==64){const O=m<<4&240|_>>2;if(s.push(O),R!==64){const j=_<<6&192|R;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class hE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fE=function(i){const e=Jm(i);return Zm.encodeByteArray(e,!0)},Zl=function(i){return fE(i).replace(/\./g,"")},dE=function(i){try{return Zm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=()=>pE().__FIREBASE_DEFAULTS__,gE=()=>{if(typeof process>"u"||typeof Bp>"u")return;const i=Bp.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},yE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dE(i[1]);return e&&JSON.parse(e)},Wh=()=>{try{return mE()||gE()||yE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_E=i=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},vE=i=>{const e=_E(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eg=()=>{var i;return(i=Wh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SE(){var i;const e=(i=Wh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IE(){return!SE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CE(){try{return typeof indexedDB=="object"}catch{return!1}}function RE(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="FirebaseError";class Ws extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=AE,Object.setPrototypeOf(this,Ws.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tg.prototype.create)}}class tg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],h=c?PE(c,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ws(a,m,s)}}function PE(i,e){return i.replace(kE,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const kE=/\{\$([^}]+)}/g;function Eh(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],h=e[a];if($p(c)&&$p(h)){if(!Eh(c,h))return!1}else if(c!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function $p(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new EE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(VE(e))try{this.getOrInitializeService({instanceIdentifier:Ni})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=Ni){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ni){return this.instances.has(e)}getOptions(e=Ni){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const h=this.instances.get(a);return h&&e(h,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:NE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ni){return this.component?this.component.multipleInstances?e:Ni:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NE(i){return i===Ni?void 0:i}function VE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new xE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const LE={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},OE=Me.INFO,ME={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},FE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=ME[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ng{constructor(e){this.name=e,this._logLevel=OE,this._logHandler=FE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?LE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const UE=(i,e)=>e.some(n=>i instanceof n);let Hp,qp;function jE(){return Hp||(Hp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zE(){return qp||(qp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rg=new WeakMap,wh=new WeakMap,ig=new WeakMap,ch=new WeakMap,Qh=new WeakMap;function bE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",h)},c=()=>{n(Qr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&rg.set(n,i)}).catch(()=>{}),Qh.set(e,i),e}function BE(i){if(wh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",h),i.removeEventListener("abort",h)},c=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",h),i.addEventListener("abort",h)});wh.set(i,e)}let Th={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return wh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ig.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function $E(i){Th=i(Th)}function HE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(hh(this),e,...n);return ig.set(s,e.sort?e.sort():[e]),Qr(s)}:zE().includes(i)?function(...e){return i.apply(hh(this),e),Qr(rg.get(this))}:function(...e){return Qr(i.apply(hh(this),e))}}function qE(i){return typeof i=="function"?HE(i):(i instanceof IDBTransaction&&BE(i),UE(i,jE())?new Proxy(i,Th):i)}function Qr(i){if(i instanceof IDBRequest)return bE(i);if(ch.has(i))return ch.get(i);const e=qE(i);return e!==i&&(ch.set(i,e),Qh.set(e,i)),e}const hh=i=>Qh.get(i);function WE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const h=indexedDB.open(i,e),m=Qr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Qr(h.result),g.oldVersion,g.newVersion,Qr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const QE=["get","getKey","getAll","getAllKeys","count"],KE=["put","add","delete","clear"],fh=new Map;function Wp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=KE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||QE.includes(n)))return;const c=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return fh.set(e,c),c}$E(i=>({...i,get:(e,n,s)=>Wp(e,n)||i.get(e,n,s),has:(e,n)=>!!Wp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(YE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function YE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sh="@firebase/app",Qp="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new ng("@firebase/app"),XE="@firebase/app-compat",JE="@firebase/analytics-compat",ZE="@firebase/analytics",ew="@firebase/app-check-compat",tw="@firebase/app-check",nw="@firebase/auth",rw="@firebase/auth-compat",iw="@firebase/database",sw="@firebase/data-connect",ow="@firebase/database-compat",aw="@firebase/functions",lw="@firebase/functions-compat",uw="@firebase/installations",cw="@firebase/installations-compat",hw="@firebase/messaging",fw="@firebase/messaging-compat",dw="@firebase/performance",pw="@firebase/performance-compat",mw="@firebase/remote-config",gw="@firebase/remote-config-compat",yw="@firebase/storage",_w="@firebase/storage-compat",vw="@firebase/firestore",Ew="@firebase/vertexai",ww="@firebase/firestore-compat",Tw="firebase",Sw="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih="[DEFAULT]",Iw={[Sh]:"fire-core",[XE]:"fire-core-compat",[ZE]:"fire-analytics",[JE]:"fire-analytics-compat",[tw]:"fire-app-check",[ew]:"fire-app-check-compat",[nw]:"fire-auth",[rw]:"fire-auth-compat",[iw]:"fire-rtdb",[sw]:"fire-data-connect",[ow]:"fire-rtdb-compat",[aw]:"fire-fn",[lw]:"fire-fn-compat",[uw]:"fire-iid",[cw]:"fire-iid-compat",[hw]:"fire-fcm",[fw]:"fire-fcm-compat",[dw]:"fire-perf",[pw]:"fire-perf-compat",[mw]:"fire-rc",[gw]:"fire-rc-compat",[yw]:"fire-gcs",[_w]:"fire-gcs-compat",[vw]:"fire-fst",[ww]:"fire-fst-compat",[Ew]:"fire-vertex","fire-js":"fire-js",[Tw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,Cw=new Map,Ch=new Map;function Kp(i,e){try{i.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function tu(i){const e=i.name;if(Ch.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Ch.set(e,i);for(const n of eu.values())Kp(n,i);for(const n of Cw.values())Kp(n,i);return!0}function Rw(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Kr=new tg("app","Firebase",Aw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=Sw;function sg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ih,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Kr.create("bad-app-name",{appName:String(a)});if(n||(n=eg()),!n)throw Kr.create("no-options");const c=eu.get(a);if(c){if(Eh(n,c.options)&&Eh(s,c.config))return c;throw Kr.create("duplicate-app",{appName:a})}const h=new DE(a);for(const g of Ch.values())h.addComponent(g);const m=new Pw(n,s,h);return eu.set(a,m),m}function xw(i=Ih){const e=eu.get(i);if(!e&&i===Ih&&eg())return sg();if(!e)throw Kr.create("no-app",{appName:i});return e}function Os(i,e,n){var s;let a=(s=Iw[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),h=e.match(/\s|\//);if(c||h){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}tu(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="firebase-heartbeat-database",Vw=1,sa="firebase-heartbeat-store";let dh=null;function og(){return dh||(dh=WE(Nw,Vw,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Kr.create("idb-open",{originalErrorMessage:i.message})})),dh}async function Dw(i){try{const n=(await og()).transaction(sa),s=await n.objectStore(sa).get(ag(i));return await n.done,s}catch(e){if(e instanceof Ws)_r.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function Gp(i,e){try{const s=(await og()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,ag(i)),await s.done}catch(n){if(n instanceof Ws)_r.warn(n.message);else{const s=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(s.message)}}}function ag(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=1024,Ow=30*24*60*60*1e3;class Mw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Uw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=Ow}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yp(),{heartbeatsToSend:s,unsentEntries:a}=Fw(this._heartbeatsCache.heartbeats),c=Zl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return _r.warn(n),""}}}function Yp(){return new Date().toISOString().substring(0,10)}function Fw(i,e=Lw){const n=[];let s=i.slice();for(const a of i){const c=n.find(h=>h.agent===a.agent);if(c){if(c.dates.push(a.date),Xp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Xp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Uw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CE()?RE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Dw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Gp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Xp(i){return Zl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(i){tu(new ia("platform-logger",e=>new GE(e),"PRIVATE")),tu(new ia("heartbeat",e=>new Mw(e),"PRIVATE")),Os(Sh,Qp,i),Os(Sh,Qp,"esm2017"),Os("fire-js","")}jw("");var Jp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Di,lg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function I(){}I.prototype=T.prototype,x.D=T.prototype,x.prototype=new I,x.prototype.constructor=x,x.C=function(P,V,L){for(var C=Array(arguments.length-2),Be=2;Be<arguments.length;Be++)C[Be-2]=arguments[Be];return T.prototype[V].apply(P,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,I){I||(I=0);var P=Array(16);if(typeof T=="string")for(var V=0;16>V;++V)P[V]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(V=0;16>V;++V)P[V]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=x.g[0],I=x.g[1],V=x.g[2];var L=x.g[3],C=T+(L^I&(V^L))+P[0]+3614090360&4294967295;T=I+(C<<7&4294967295|C>>>25),C=L+(V^T&(I^V))+P[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=V+(I^L&(T^I))+P[2]+606105819&4294967295,V=L+(C<<17&4294967295|C>>>15),C=I+(T^V&(L^T))+P[3]+3250441966&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(L^I&(V^L))+P[4]+4118548399&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(V^T&(I^V))+P[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=V+(I^L&(T^I))+P[6]+2821735955&4294967295,V=L+(C<<17&4294967295|C>>>15),C=I+(T^V&(L^T))+P[7]+4249261313&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(L^I&(V^L))+P[8]+1770035416&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(V^T&(I^V))+P[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=V+(I^L&(T^I))+P[10]+4294925233&4294967295,V=L+(C<<17&4294967295|C>>>15),C=I+(T^V&(L^T))+P[11]+2304563134&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(L^I&(V^L))+P[12]+1804603682&4294967295,T=I+(C<<7&4294967295|C>>>25),C=L+(V^T&(I^V))+P[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=V+(I^L&(T^I))+P[14]+2792965006&4294967295,V=L+(C<<17&4294967295|C>>>15),C=I+(T^V&(L^T))+P[15]+1236535329&4294967295,I=V+(C<<22&4294967295|C>>>10),C=T+(V^L&(I^V))+P[1]+4129170786&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^V&(T^I))+P[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(L^T))+P[11]+643717713&4294967295,V=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(V^L))+P[0]+3921069994&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^L&(I^V))+P[5]+3593408605&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^V&(T^I))+P[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(L^T))+P[15]+3634488961&4294967295,V=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(V^L))+P[4]+3889429448&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^L&(I^V))+P[9]+568446438&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^V&(T^I))+P[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(L^T))+P[3]+4107603335&4294967295,V=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(V^L))+P[8]+1163531501&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(V^L&(I^V))+P[13]+2850285829&4294967295,T=I+(C<<5&4294967295|C>>>27),C=L+(I^V&(T^I))+P[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=V+(T^I&(L^T))+P[7]+1735328473&4294967295,V=L+(C<<14&4294967295|C>>>18),C=I+(L^T&(V^L))+P[12]+2368359562&4294967295,I=V+(C<<20&4294967295|C>>>12),C=T+(I^V^L)+P[5]+4294588738&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^V)+P[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=V+(L^T^I)+P[11]+1839030562&4294967295,V=L+(C<<16&4294967295|C>>>16),C=I+(V^L^T)+P[14]+4259657740&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^L)+P[1]+2763975236&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^V)+P[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=V+(L^T^I)+P[7]+4139469664&4294967295,V=L+(C<<16&4294967295|C>>>16),C=I+(V^L^T)+P[10]+3200236656&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^L)+P[13]+681279174&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^V)+P[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=V+(L^T^I)+P[3]+3572445317&4294967295,V=L+(C<<16&4294967295|C>>>16),C=I+(V^L^T)+P[6]+76029189&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(I^V^L)+P[9]+3654602809&4294967295,T=I+(C<<4&4294967295|C>>>28),C=L+(T^I^V)+P[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=V+(L^T^I)+P[15]+530742520&4294967295,V=L+(C<<16&4294967295|C>>>16),C=I+(V^L^T)+P[2]+3299628645&4294967295,I=V+(C<<23&4294967295|C>>>9),C=T+(V^(I|~L))+P[0]+4096336452&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~V))+P[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=V+(T^(L|~I))+P[14]+2878612391&4294967295,V=L+(C<<15&4294967295|C>>>17),C=I+(L^(V|~T))+P[5]+4237533241&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~L))+P[12]+1700485571&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~V))+P[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=V+(T^(L|~I))+P[10]+4293915773&4294967295,V=L+(C<<15&4294967295|C>>>17),C=I+(L^(V|~T))+P[1]+2240044497&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~L))+P[8]+1873313359&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~V))+P[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=V+(T^(L|~I))+P[6]+2734768916&4294967295,V=L+(C<<15&4294967295|C>>>17),C=I+(L^(V|~T))+P[13]+1309151649&4294967295,I=V+(C<<21&4294967295|C>>>11),C=T+(V^(I|~L))+P[4]+4149444226&4294967295,T=I+(C<<6&4294967295|C>>>26),C=L+(I^(T|~V))+P[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=V+(T^(L|~I))+P[2]+718787259&4294967295,V=L+(C<<15&4294967295|C>>>17),C=I+(L^(V|~T))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+V&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var I=T-this.blockSize,P=this.B,V=this.h,L=0;L<T;){if(V==0)for(;L<=I;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(P[V++]=x.charCodeAt(L++),V==this.blockSize){a(this,P),V=0;break}}else for(;L<T;)if(P[V++]=x[L++],V==this.blockSize){a(this,P),V=0;break}}this.h=V,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var I=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=I&255,I/=256;for(this.u(x),x=Array(16),T=I=0;4>T;++T)for(var P=0;32>P;P+=8)x[I++]=this.g[T]>>>P&255;return x};function c(x,T){var I=m;return Object.prototype.hasOwnProperty.call(I,x)?I[x]:I[x]=T(x)}function h(x,T){this.h=T;for(var I=[],P=!0,V=x.length-1;0<=V;V--){var L=x[V]|0;P&&L==T||(I[V]=L,P=!1)}this.g=I}var m={};function g(x){return-128<=x&&128>x?c(x,function(T){return new h([T|0],0>T?-1:0)}):new h([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(0>x)return b(_(-x));for(var T=[],I=1,P=0;x>=I;P++)T[P]=x/I|0,I*=4294967296;return new h(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return b(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=_(Math.pow(T,8)),P=R,V=0;V<x.length;V+=8){var L=Math.min(8,x.length-V),C=parseInt(x.substring(V,V+L),T);8>L?(L=_(Math.pow(T,L)),P=P.j(L).add(_(C))):(P=P.j(I),P=P.add(_(C)))}return P}var R=g(0),A=g(1),O=g(16777216);i=h.prototype,i.m=function(){if(q(this))return-b(this).m();for(var x=0,T=1,I=0;I<this.g.length;I++){var P=this.i(I);x+=(0<=P?P:4294967296+P)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(q(this))return"-"+b(this).toString(x);for(var T=_(Math.pow(x,6)),I=this,P="";;){var V=fe(I,T).g;I=Q(I,V.j(T));var L=((0<I.g.length?I.g[0]:I.h)>>>0).toString(x);if(I=V,j(I))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function q(x){return x.h==-1}i.l=function(x){return x=Q(this,x),q(x)?-1:j(x)?0:1};function b(x){for(var T=x.g.length,I=[],P=0;P<T;P++)I[P]=~x.g[P];return new h(I,~x.h).add(A)}i.abs=function(){return q(this)?b(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0,V=0;V<=T;V++){var L=P+(this.i(V)&65535)+(x.i(V)&65535),C=(L>>>16)+(this.i(V)>>>16)+(x.i(V)>>>16);P=C>>>16,L&=65535,C&=65535,I[V]=C<<16|L}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Q(x,T){return x.add(b(T))}i.j=function(x){if(j(this)||j(x))return R;if(q(this))return q(x)?b(this).j(b(x)):b(b(this).j(x));if(q(x))return b(this.j(b(x)));if(0>this.l(O)&&0>x.l(O))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,I=[],P=0;P<2*T;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var V=0;V<x.g.length;V++){var L=this.i(P)>>>16,C=this.i(P)&65535,Be=x.i(V)>>>16,nt=x.i(V)&65535;I[2*P+2*V]+=C*nt,Y(I,2*P+2*V),I[2*P+2*V+1]+=L*nt,Y(I,2*P+2*V+1),I[2*P+2*V+1]+=C*Be,Y(I,2*P+2*V+1),I[2*P+2*V+2]+=L*Be,Y(I,2*P+2*V+2)}for(P=0;P<T;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=T;P<2*T;P++)I[P]=0;return new h(I,0)};function Y(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function ie(x,T){this.g=x,this.h=T}function fe(x,T){if(j(T))throw Error("division by zero");if(j(x))return new ie(R,R);if(q(x))return T=fe(b(x),T),new ie(b(T.g),b(T.h));if(q(T))return T=fe(x,b(T)),new ie(b(T.g),T.h);if(30<x.g.length){if(q(x)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var I=A,P=T;0>=P.l(x);)I=Ce(I),P=Ce(P);var V=Te(I,1),L=Te(P,1);for(P=Te(P,2),I=Te(I,2);!j(P);){var C=L.add(P);0>=C.l(x)&&(V=V.add(I),L=C),P=Te(P,1),I=Te(I,1)}return T=Q(x,V.j(T)),new ie(V,T)}for(V=R;0<=x.l(T);){for(I=Math.max(1,Math.floor(x.m()/T.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=_(I),C=L.j(T);q(C)||0<C.l(x);)I-=P,L=_(I),C=L.j(T);j(L)&&(L=A),V=V.add(L),x=Q(x,C)}return new ie(V,x)}i.A=function(x){return fe(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)&x.i(P);return new h(I,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)|x.i(P);return new h(I,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),I=[],P=0;P<T;P++)I[P]=this.i(P)^x.i(P);return new h(I,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,I=[],P=0;P<T;P++)I[P]=x.i(P)<<1|x.i(P-1)>>>31;return new h(I,x.h)}function Te(x,T){var I=T>>5;T%=32;for(var P=x.g.length-I,V=[],L=0;L<P;L++)V[L]=0<T?x.i(L+I)>>>T|x.i(L+I+1)<<32-T:x.i(L+I);return new h(V,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=_,h.fromString=w,Di=h}).apply(typeof Jp<"u"?Jp:typeof self<"u"?self:typeof window<"u"?window:{});var Ml=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ug,Go,cg,ql,Rh,hg,fg,dg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ml=="object"&&Ml];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var F=l[E];if(!(F in y))break e;y=y[F]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,F={next:function(){if(!E&&y<l.length){var H=y++;return{value:d(H,l[H]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function R(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),l.apply(d,F)}}return function(){return l.apply(d,arguments)}}function A(l,d,y){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,A.apply(null,arguments)}function O(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,F,H){for(var re=Array(arguments.length-2),be=2;be<arguments.length;be++)re[be-2]=arguments[be];return d.prototype[F].apply(E,re)}}function q(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function b(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const F=l.length||0,H=E.length||0;l.length=F+H;for(let re=0;re<H;re++)l[F+re]=E[re]}else l.push(E)}}class Q{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function Y(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function fe(l){return fe[" "](l),l}fe[" "]=function(){};var Ce=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function Te(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let y,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(y in E)l[y]=E[y];for(let H=0;H<I.length;H++)y=I[H],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function V(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){m.setTimeout(()=>{throw l},0)}function C(){var l=pe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class Be{constructor(){this.h=this.g=null}add(d,y){const E=nt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var nt=new Q(()=>new rt,l=>l.reset());class rt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let De,ne=!1,pe=new Be,se=()=>{const l=m.Promise.resolve(void 0);De=()=>{l.then(D)}};var D=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){L(y)}var d=nt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ne=!1};function M(){this.s=this.s,this.C=this.C}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var X=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function ve(l,d){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ce){e:{try{fe(d.nodeName);var F=!0;break e}catch{}F=!1}F||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ve.aa.h.call(this)}}j(ve,ce);var Re={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Pe="closure_listenable_"+(1e6*Math.random()|0),xe=0;function je(l,d,y,E,F){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=F,this.key=++xe,this.da=this.fa=!1}function Xe(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Bt(l){this.src=l,this.g={},this.h=0}Bt.prototype.add=function(l,d,y,E,F){var H=l.toString();l=this.g[H],l||(l=this.g[H]=[],this.h++);var re=_n(l,d,E,F);return-1<re?(d=l[re],y||(d.fa=!1)):(d=new je(d,this.src,H,!!E,F),d.fa=y,l.push(d)),d};function on(l,d){var y=d.type;if(y in l.g){var E=l.g[y],F=Array.prototype.indexOf.call(E,d,void 0),H;(H=0<=F)&&Array.prototype.splice.call(E,F,1),H&&(Xe(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function _n(l,d,y,E){for(var F=0;F<l.length;++F){var H=l[F];if(!H.da&&H.listener==d&&H.capture==!!y&&H.ha==E)return F}return-1}var ri="closure_lm_"+(1e6*Math.random()|0),zi={};function Xs(l,d,y,E,F){if(Array.isArray(d)){for(var H=0;H<d.length;H++)Xs(l,d[H],y,E,F);return null}return y=eo(y),l&&l[Pe]?l.K(d,y,_(E)?!!E.capture:!1,F):Js(l,d,y,!1,E,F)}function Js(l,d,y,E,F,H){if(!d)throw Error("Invalid event type");var re=_(F)?!!F.capture:!!F,be=Bi(l);if(be||(l[ri]=be=new Bt(l)),y=be.add(d,y,E,re,H),y.proxy)return y;if(E=va(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)X||(F=re),F===void 0&&(F=!1),l.addEventListener(d.toString(),E,F);else if(l.attachEvent)l.attachEvent(er(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function va(){function l(y){return d.call(l.src,l.listener,y)}const d=Zs;return l}function bi(l,d,y,E,F){if(Array.isArray(d))for(var H=0;H<d.length;H++)bi(l,d[H],y,E,F);else E=_(E)?!!E.capture:!!E,y=eo(y),l&&l[Pe]?(l=l.i,d=String(d).toString(),d in l.g&&(H=l.g[d],y=_n(H,y,E,F),-1<y&&(Xe(H[y]),Array.prototype.splice.call(H,y,1),H.length==0&&(delete l.g[d],l.h--)))):l&&(l=Bi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=_n(d,y,E,F)),(y=-1<l?d[l]:null)&&Zn(y))}function Zn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Pe])on(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(er(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=Bi(d))?(on(y,l),y.h==0&&(y.src=null,d[ri]=null)):Xe(l)}}}function er(l){return l in zi?zi[l]:zi[l]="on"+l}function Zs(l,d){if(l.da)l=!0;else{d=new ve(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Zn(l),l=y.call(E,d)}return l}function Bi(l){return l=l[ri],l instanceof Bt?l:null}var $i="__closure_events_fn_"+(1e9*Math.random()>>>0);function eo(l){return typeof l=="function"?l:(l[$i]||(l[$i]=function(d){return l.handleEvent(d)}),l[$i])}function ht(){M.call(this),this.i=new Bt(this),this.M=this,this.F=null}j(ht,M),ht.prototype[Pe]=!0,ht.prototype.removeEventListener=function(l,d,y,E){bi(this,l,d,y,E)};function ft(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new ce(d,l);else if(d instanceof ce)d.target=d.target||l;else{var F=d;d=new ce(E,l),P(d,F)}if(F=!0,y)for(var H=y.length-1;0<=H;H--){var re=d.g=y[H];F=tr(re,E,!0,d)&&F}if(re=d.g=l,F=tr(re,E,!0,d)&&F,F=tr(re,E,!1,d)&&F,y)for(H=0;H<y.length;H++)re=d.g=y[H],F=tr(re,E,!1,d)&&F}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)Xe(y[E]);delete l.g[d],l.h--}}this.F=null},ht.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},ht.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function tr(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var F=!0,H=0;H<d.length;++H){var re=d[H];if(re&&!re.da&&re.capture==y){var be=re.listener,dt=re.ha||re.src;re.fa&&on(l.i,re),F=be.call(dt,E)!==!1&&F}}return F&&!E.defaultPrevented}function to(l,d,y){if(typeof l=="function")y&&(l=A(l,y));else if(l&&typeof l.handleEvent=="function")l=A(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function Tr(l){l.g=to(()=>{l.g=null,l.i&&(l.i=!1,Tr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ii extends M{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Tr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(l){M.call(this),this.h=l,this.g={}}j(si,M);var no=[];function ro(l){Te(l.g,function(d,y){this.g.hasOwnProperty(y)&&Zn(d)},l),l.g={}}si.prototype.N=function(){si.aa.N.call(this),ro(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var io=m.JSON.stringify,so=m.JSON.parse,oo=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function oi(){}oi.prototype.h=null;function Hi(l){return l.h||(l.h=l.i())}function qi(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mn(){ce.call(this,"d")}j(Mn,ce);function Wi(){ce.call(this,"c")}j(Wi,ce);var Fn={},ao=null;function ai(){return ao=ao||new ht}Fn.La="serverreachability";function lo(l){ce.call(this,Fn.La,l)}j(lo,ce);function nr(l){const d=ai();ft(d,new lo(d))}Fn.STAT_EVENT="statevent";function uo(l,d){ce.call(this,Fn.STAT_EVENT,l),this.stat=d}j(uo,ce);function st(l){const d=ai();ft(d,new uo(d,l))}Fn.Ma="timingevent";function Qi(l,d){ce.call(this,Fn.Ma,l),this.size=d}j(Qi,ce);function vn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function li(){this.g=!0}li.prototype.xa=function(){this.g=!1};function ui(l,d,y,E,F,H){l.info(function(){if(l.g)if(H)for(var re="",be=H.split("&"),dt=0;dt<be.length;dt++){var Le=be[dt].split("=");if(1<Le.length){var vt=Le[0];Le=Le[1];var lt=vt.split("_");re=2<=lt.length&&lt[1]=="type"?re+(vt+"="+Le+"&"):re+(vt+"=redacted&")}}else re=null;else re=H;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+d+`
`+y+`
`+re})}function Ki(l,d,y,E,F,H,re){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+d+`
`+y+`
`+H+" "+re})}function En(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Nu(l,y)+(E?" "+E:"")})}function co(l,d){l.info(function(){return"TIMEOUT: "+d})}li.prototype.info=function(){};function Nu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var H=F[0];if(H!="noop"&&H!="stop"&&H!="close")for(var re=1;re<F.length;re++)F[re]=""}}}}return io(y)}catch{return d}}var Gi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ea={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function ci(){}j(ci,oi),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},wn=new ci;function Tn(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new si(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wa}function wa(){this.i=null,this.g="",this.h=!1}var ho={},Yi={};function Xi(l,d,y){l.L=1,l.v=Ar(Zt(d)),l.m=y,l.P=!0,fo(l,null)}function fo(l,d){l.F=Date.now(),He(l),l.A=Zt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),kr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new wa,l.g=ja(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ii(A(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(no[0]=F.toString()),F=no);for(var H=0;H<F.length;H++){var re=Xs(y,F[H],E||d.handleEvent,!1,d.h||d);if(!re)break;d.g[re.key]=re}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),nr(),ui(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const d=this.M;d&&Ht(l)==3?d.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const lt=Ht(this.g);var d=this.g.Ba();const cn=this.g.Z();if(!(3>lt)&&(lt!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||lt!=4||d==7||(d==8||0>=cn?nr(3):nr(2)),hi(this);var y=this.g.Z();this.X=y;t:if(Ta(this)){var E=vo(this.g);l="";var F=E.length,H=Ht(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Sr(this);var re="";break t}this.h.i=new m.TextDecoder}for(d=0;d<F;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(H&&d==F-1)});E.length=0,this.h.g+=l,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=y==200,Ki(this.i,this.u,this.A,this.l,this.R,lt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var be,dt=this.g;if((be=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(be)){var Le=be;break t}}Le=null}if(y=Le)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,po(this,y);else{this.o=!1,this.s=3,st(12),ln(this),Sr(this);break e}}if(this.P){y=!0;let tn;for(;!this.J&&this.C<re.length;)if(tn=Vu(this,re),tn==Yi){lt==4&&(this.s=4,st(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==ho){this.s=4,st(15),En(this.i,this.l,re,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,tn,null),po(this,tn);if(Ta(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||re.length!=0||this.h.h||(this.s=1,st(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,re,"[Invalid Chunked Response]"),ln(this),Sr(this);else if(0<re.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),wo(vt),vt.M=!0,st(11))}}else En(this.i,this.l,re,null),po(this,re);lt==4&&ln(this),this.o&&!this.J&&(lt==4?ls(this.j,this):(this.o=!1,He(this)))}else rs(this.g),y==400&&0<re.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),ln(this),Sr(this)}}}catch{}finally{}};function Ta(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Vu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Yi:(y=Number(d.substring(y,E)),isNaN(y)?ho:(E+=1,E+y>d.length?Yi:(d=d.slice(E,E+y),l.C=E+y,d)))}Tn.prototype.cancel=function(){this.J=!0,ln(this)};function He(l){l.S=Date.now()+l.I,Sa(l,l.I)}function Sa(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vn(A(l.ba,l),d)}function hi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(co(this.i,this.A),this.L!=2&&(nr(),st(17)),ln(this),this.s=2,Sr(this)):Sa(this,this.S-l)};function Sr(l){l.j.G==0||l.J||ls(l.j,l)}function ln(l){hi(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,ro(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function po(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)as(y),An(y);else break e;os(y),st(18)}}else y.za=F[1],0<y.za-y.T&&37500>F[2]&&y.F&&y.v==0&&!y.C&&(y.C=vn(A(y.Za,y),6e3));if(1>=Ca(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ar(y,11)}else if((l.K||y.g==l)&&as(y),!Y(d))for(F=y.Da.g.parse(d),d=0;d<F.length;d++){let Le=F[d];if(y.T=Le[0],Le=Le[1],y.G==2)if(Le[0]=="c"){y.K=Le[1],y.ia=Le[2];const vt=Le[3];vt!=null&&(y.la=vt,y.j.info("VER="+y.la));const lt=Le[4];lt!=null&&(y.Aa=lt,y.j.info("SVER="+y.Aa));const cn=Le[5];cn!=null&&typeof cn=="number"&&0<cn&&(E=1.5*cn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const tn=l.g;if(tn){const _i=tn.g?tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var H=E.h;H.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(mo(H,H.h),H.h=null))}if(E.D){const cs=tn.g?tn.g.getResponseHeader("X-HTTP-Session-Id"):null;cs&&(E.ya=cs,$e(E.I,E.D,cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var re=l;if(E.qa=Ua(E,E.J?E.ia:null,E.W),re.K){Ra(E.h,re);var be=re,dt=E.L;dt&&(be.I=dt),be.B&&(hi(be),He(be)),E.g=re}else yi(E);0<y.i.length&&bn(y)}else Le[0]!="stop"&&Le[0]!="close"||ar(y,7);else y.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?ar(y,7):Ct(y):Le[0]!="noop"&&y.l&&y.l.ta(Le),y.v=0)}}nr(4)}catch{}}var Ia=class{constructor(l,d){this.g=l,this.map=d}};function fi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ca(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function mo(l,d){l.g?l.g.add(d):l.h=d}function Ra(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}fi.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Aa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return q(l.i)}function Ji(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Zi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function Ir(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Zi(l),E=Ji(l),F=E.length,H=0;H<F;H++)d.call(void 0,E[H],y&&y[H],l)}var di=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Du(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),F=null;if(0<=E){var H=l[y].substring(0,E);F=l[y].substring(E+1)}else H=l[y];d(H,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function rr(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof rr){this.h=l.h,pi(this,l.j),this.o=l.o,this.g=l.g,Cr(this,l.s),this.l=l.l;var d=l.i,y=new Un;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Rr(this,y),this.m=l.m}else l&&(d=String(l).match(di))?(this.h=!1,pi(this,d[1]||"",!0),this.o=Ne(d[2]||""),this.g=Ne(d[3]||"",!0),Cr(this,d[4]),this.l=Ne(d[5]||"",!0),Rr(this,d[6]||"",!0),this.m=Ne(d[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}rr.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Pr(d,es,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Pr(d,es,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Pr(y,y.charAt(0)=="/"?xa:ka,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Pr(y,go)),l.join("")};function Zt(l){return new rr(l)}function pi(l,d,y){l.j=y?Ne(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function Cr(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Rr(l,d,y){d instanceof Un?(l.i=d,jn(l.i,l.h)):(y||(d=Pr(d,Na)),l.i=new Un(d,l.h))}function $e(l,d,y){l.i.set(d,y)}function Ar(l){return $e(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ne(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Pr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Pa),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Pa(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var es=/[#\/\?@]/g,ka=/[#\?:]/g,xa=/[#\?]/g,Na=/[#\?@]/g,go=/#/g;function Un(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function It(l){l.g||(l.g=new Map,l.h=0,l.i&&Du(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Un.prototype,i.add=function(l,d){It(this),this.i=null,l=un(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function Sn(l,d){It(l),d=un(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function In(l,d){return It(l),d=un(l,d),l.g.has(d)}i.forEach=function(l,d){It(this),this.g.forEach(function(y,E){y.forEach(function(F){l.call(d,F,E,this)},this)},this)},i.na=function(){It(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const F=l[E];for(let H=0;H<F.length;H++)y.push(d[E])}return y},i.V=function(l){It(this);let d=[];if(typeof l=="string")In(this,l)&&(d=d.concat(this.g.get(un(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return It(this),this.i=null,l=un(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function kr(l,d,y){Sn(l,d),0<y.length&&(l.i=null,l.g.set(un(l,d),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const H=encodeURIComponent(String(E)),re=this.V(E);for(E=0;E<re.length;E++){var F=H;re[E]!==""&&(F+="="+encodeURIComponent(String(re[E]))),l.push(F)}}return this.i=l.join("&")};function un(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function jn(l,d){d&&!l.j&&(It(l),l.i=null,l.g.forEach(function(y,E){var F=E.toLowerCase();E!=F&&(Sn(this,E),kr(this,F,y))},l)),l.j=d}function Lu(l,d){const y=new li;if(m.Image){const E=new Image;E.onload=O($t,y,"TestLoadImage: loaded",!0,d,E),E.onerror=O($t,y,"TestLoadImage: error",!1,d,E),E.onabort=O($t,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=O($t,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Va(l,d){const y=new li,E=new AbortController,F=setTimeout(()=>{E.abort(),$t(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(H=>{clearTimeout(F),H.ok?$t(y,"TestPingServer: ok",!0,d):$t(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(F),$t(y,"TestPingServer: error",!1,d)})}function $t(l,d,y,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(y)}catch{}}function Ou(){this.g=new oo}function Da(l,d,y){const E=y||"";try{Ir(l,function(F,H){let re=F;_(F)&&(re=io(F)),d.push(E+H+"="+encodeURIComponent(re))})}catch(F){throw d.push(E+"type="+encodeURIComponent("_badmap")),F}}function ir(l){this.l=l.Ub||null,this.j=l.eb||!1}j(ir,oi),ir.prototype.g=function(){return new mi(this.l,this.j)},ir.prototype.i=function(l){return function(){return l}}({});function mi(l,d){ht.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(mi,ht),i=mi.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,Rn(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Rn(this)),this.g&&(this.readyState=3,Rn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;La(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function La(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Cn(this):Rn(this),this.readyState==3&&La(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Cn(this))},i.Qa=function(l){this.g&&(this.response=l,Cn(this))},i.ga=function(){this.g&&Cn(this)};function Cn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Rn(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function Rn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function sr(l){let d="";return Te(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function xr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=sr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):$e(l,d,y))}function Ke(l){ht.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(Ke,ht);var Mu=/^https?$/i,yo=["POST","PUT"];i=Ke.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Hi(this.o):Hi(wn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(H){gi(this,H);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)y.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const H of E.keys())y.set(H,E.get(H));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(H=>H.toLowerCase()=="content-type"),F=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(yo,d,void 0))||E||F||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,re]of y)this.g.setRequestHeader(H,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ns(this),this.u=!0,this.g.send(l),this.u=!1}catch(H){gi(this,H)}};function gi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ts(l),en(l)}function ts(l){l.A||(l.A=!0,ft(l,"complete"),ft(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ft(this,"complete"),ft(this,"abort"),en(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),en(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_o(this):this.bb())},i.bb=function(){_o(this)};function _o(l){if(l.h&&typeof h<"u"&&(!l.v[1]||Ht(l)!=4||l.Z()!=2)){if(l.u&&Ht(l)==4)to(l.Ea,0,l);else if(ft(l,"readystatechange"),Ht(l)==4){l.h=!1;try{const re=l.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=re===0){var F=String(l.D).match(di)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),E=!Mu.test(F?F.toLowerCase():"")}y=E}if(y)ft(l,"complete"),ft(l,"success");else{l.m=6;try{var H=2<Ht(l)?l.g.statusText:""}catch{H=""}l.l=H+" ["+l.Z()+"]",ts(l)}}finally{en(l)}}}}function en(l,d){if(l.g){ns(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ft(l,"ready");try{y.onreadystatechange=E}catch{}}}function ns(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function Ht(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),so(d)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function rs(l){const d={};l=(l.g&&2<=Ht(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Y(l[E]))continue;var y=V(l[E]);const F=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const H=d[F]||[];d[F]=H,H.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function Eo(l){this.Aa=0,this.i=[],this.j=new li,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,l),this.cb=zn("retryDelaySeedMs",1e4,l),this.Wa=zn("forwardChannelMaxRetries",2,l),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new fi(l&&l.concurrentRequestLimit),this.Da=new Ou,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Eo.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){st(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ua(this,null,this.W),bn(this)};function Ct(l){if(is(l),l.G==3){var d=l.U++,y=Zt(l.I);if($e(y,"SID",l.K),$e(y,"RID",d),$e(y,"TYPE","terminate"),or(l,y),d=new Tn(l,l.j,d),d.L=2,d.v=Ar(Zt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=ja(d.j,null),d.g.ea(d.v)),d.F=Date.now(),He(d)}Fa(l)}function An(l){l.g&&(wo(l),l.g.cancel(),l.g=null)}function is(l){An(l),l.u&&(m.clearTimeout(l.u),l.u=null),as(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function bn(l){if(!Jt(l.h)&&!l.s){l.s=!0;var d=l.Ga;De||se(),ne||(De(),ne=!0),pe.add(d,l),l.B=0}}function Fu(l,d){return Ca(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vn(A(l.Ga,l,d),Ma(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Tn(this,this.j,l);let H=this.o;if(this.S&&(H?(H=T(H),P(H,this.S)):H=this.S),this.m!==null||this.O||(F.H=H,H=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Nr(this,F,d),y=Zt(this.I),$e(y,"RID",l),$e(y,"CVER",22),this.D&&$e(y,"X-HTTP-Session-Id",this.D),or(this,y),H&&(this.O?d="headers="+encodeURIComponent(String(sr(H)))+"&"+d:this.m&&xr(y,this.m,H)),mo(this.h,F),this.Ua&&$e(y,"TYPE","init"),this.P?($e(y,"$req",d),$e(y,"SID","null"),F.T=!0,Xi(F,y,null)):Xi(F,y,d),this.G=2}}else this.G==3&&(l?ss(this,l):this.i.length==0||Jt(this.h)||ss(this))};function ss(l,d){var y;d?y=d.l:y=l.U++;const E=Zt(l.I);$e(E,"SID",l.K),$e(E,"RID",y),$e(E,"AID",l.T),or(l,E),l.m&&l.o&&xr(E,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Nr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),mo(l.h,y),Xi(y,E,d)}function or(l,d){l.H&&Te(l.H,function(y,E){$e(d,E,y)}),l.l&&Ir({},function(y,E){$e(d,E,y)})}function Nr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?A(l.l.Na,l.l,l):null;e:{var F=l.i;let H=-1;for(;;){const re=["count="+y];H==-1?0<y?(H=F[0].g,re.push("ofs="+H)):H=0:re.push("ofs="+H);let be=!0;for(let dt=0;dt<y;dt++){let Le=F[dt].g;const vt=F[dt].map;if(Le-=H,0>Le)H=Math.max(0,F[dt].g-100),be=!1;else try{Da(vt,re,"req"+Le+"_")}catch{E&&E(vt)}}if(be){E=re.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function yi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;De||se(),ne||(De(),ne=!0),pe.add(d,l),l.v=0}}function os(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vn(A(l.Fa,l),Ma(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,Oa(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vn(A(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),An(this),Oa(this))};function wo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function Oa(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Zt(l.qa);$e(d,"RID","rpc"),$e(d,"SID",l.K),$e(d,"AID",l.T),$e(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&$e(d,"TO",l.ja),$e(d,"TYPE","xmlhttp"),or(l,d),l.m&&l.o&&xr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=Ar(Zt(d)),y.m=null,y.P=!0,fo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,An(this),os(this),st(19))};function as(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ls(l,d){var y=null;if(l.g==d){as(l),wo(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,Ra(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var F=l.B;E=ai(),ft(E,new Qi(E,y)),bn(l)}else yi(l);else if(F=d.s,F==3||F==0&&0<d.X||!(E==1&&Fu(l,d)||E==2&&os(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),F){case 1:ar(l,5);break;case 4:ar(l,10);break;case 3:ar(l,6);break;default:ar(l,2)}}}function Ma(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function ar(l,d){if(l.j.info("Error code "+d),d==2){var y=A(l.fb,l),E=l.Xa;const F=!E;E=new rr(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||pi(E,"https"),Ar(E),F?Lu(E.toString(),y):Va(E.toString(),y)}else st(2);l.G=0,l.l&&l.l.sa(d),Fa(l),is(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Fa(l){if(l.G=0,l.ka=[],l.l){const d=Aa(l.h);(d.length!=0||l.i.length!=0)&&(b(l.ka,d),b(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Ua(l,d,y){var E=y instanceof rr?Zt(y):new rr(y);if(E.g!="")d&&(E.g=d+"."+E.g),Cr(E,E.s);else{var F=m.location;E=F.protocol,d=d?d+"."+F.hostname:F.hostname,F=+F.port;var H=new rr(null);E&&pi(H,E),d&&(H.g=d),F&&Cr(H,F),y&&(H.l=y),E=H}return y=l.D,d=l.ya,y&&d&&$e(E,y,d),$e(E,"VER",l.la),or(l,E),E}function ja(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Ke(new ir({eb:y})):new Ke(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}i=To.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(l,d){return new jt(l,d)};function jt(l,d){ht.call(this),this.g=new Eo(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!Y(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!Y(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Bn(this)}j(jt,ht),jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},jt.prototype.close=function(){Ct(this.g)},jt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=io(l),l=y);d.i.push(new Ia(d.Ya++,l)),d.G==3&&bn(d)},jt.prototype.N=function(){this.g.l=null,delete this.j,Ct(this.g),delete this.g,jt.aa.N.call(this)};function za(l){Mn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}j(za,Mn);function ba(){Wi.call(this),this.status=1}j(ba,Wi);function Bn(l){this.g=l}j(Bn,To),Bn.prototype.ua=function(){ft(this.g,"a")},Bn.prototype.ta=function(l){ft(this.g,new za(l))},Bn.prototype.sa=function(l){ft(this.g,new ba)},Bn.prototype.ra=function(){ft(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,jt.prototype.send=jt.prototype.o,jt.prototype.open=jt.prototype.m,jt.prototype.close=jt.prototype.close,dg=function(){return new us},fg=function(){return ai()},hg=Fn,Rh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Gi.NO_ERROR=0,Gi.TIMEOUT=8,Gi.HTTP_ERROR=6,ql=Gi,Ea.COMPLETE="complete",cg=Ea,qi.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Go=qi,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,ug=Ke}).apply(typeof Ml<"u"?Ml:typeof self<"u"?self:typeof window<"u"?window:{});const Zp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new ng("@firebase/firestore");function Ns(){return Li.logLevel}function ae(i,...e){if(Li.logLevel<=Me.DEBUG){const n=e.map(Kh);Li.debug(`Firestore (${Qs}): ${i}`,...n)}}function vr(i,...e){if(Li.logLevel<=Me.ERROR){const n=e.map(Kh);Li.error(`Firestore (${Qs}): ${i}`,...n)}}function Fs(i,...e){if(Li.logLevel<=Me.WARN){const n=e.map(Kh);Li.warn(`Firestore (${Qs}): ${i}`,...n)}}function Kh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function ze(i,e){i||we()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Ws{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class bw{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Gr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Gr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(ze(typeof s.accessToken=="string"),new pg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Mt(e)}}class $w{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Hw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new $w(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ww{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const s=c=>{c.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const h=c.token!==this.R;return this.R=c.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new qw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=Qw(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Us(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new yt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new yt(0,0))}static max(){return new Se(new yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),h=n.get(a);if(c<h)return-1;if(c>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ye extends oa{construct(e,n,s){return new Ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends oa{construct(e,n,s){return new kt(e,n,s)}static isValidIdentifier(e){return Kw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new me(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new me(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new me(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(c(),a++)}if(c(),h)throw new me(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ye.fromString(e))}static fromName(e){return new _e(Ye.fromString(e).popFirst(5))}static empty(){return new _e(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ye(e.slice()))}}function Gw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Se.fromTimestamp(s===1e9?new yt(n+1,0):new yt(n,s));return new Jr(a,_e.empty(),e)}function Yw(i){return new Jr(i.readTime,i.key,-1)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(Se.min(),_e.empty(),-1)}static max(){return new Jr(Se.max(),_e.empty(),-1)}}function Xw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==Jw)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new K((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof K?n:K.resolve(n)}catch(n){return K.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):K.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):K.reject(n)}static resolve(e){return new K((n,s)=>{n(e)})}static reject(e){return new K((n,s)=>{s(e)})}static waitFor(e){return new K((n,s)=>{let a=0,c=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++c,h&&c===a&&n()},g=>s(g))}),h=!0,c===a&&n()})}static or(e){let n=K.resolve(!1);for(const s of e)n=n.next(a=>a?K.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new K((s,a)=>{const c=e.length,h=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(w=>{h[_]=w,++m,m===c&&s(h)},w=>a(w))}})}static doWhile(e,n){return new K((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function eT(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yu.oe=-1;function _u(i){return i==null}function nu(i){return i===0&&1/i==-1/0}function tT(i){return typeof i=="number"&&Number.isInteger(i)&&!nu(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=em(e)),e=rT(i.get(n),e);return em(e)}function rT(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function em(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Mi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function gg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fl(this.root,e,this.comparator,!0)}}class Fl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??Pt.RED,this.left=a??Pt.EMPTY,this.right=c??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new Pt(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Pt.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,a,c){return this}insert(e,n,s){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new nm(this.data.getIterator())}getIteratorFrom(e){return new nm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class nm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new Ln([])}unionWith(e){let n=new _t(kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new yg("Invalid base64 string: "+c):c}}(e);return new xt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let h=0;h<a.length;++h)c+=String.fromCharCode(a[h]);return c}(e);return new xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xt.EMPTY_BYTE_STRING=new xt("");const iT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(i){if(ze(!!i),typeof i=="string"){let e=0;const n=iT.exec(i);if(ze(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:at(i.seconds),nanos:at(i.nanos)}}function at(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ei(i){return typeof i=="string"?xt.fromBase64String(i):xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function vu(i){const e=i.mapValue.fields.__previous_value__;return Gh(e)?vu(e):e}function aa(i){const e=Zr(i.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,s,a,c,h,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ti(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Gh(i)?4:aT(i)?9007199254740991:oT(i)?10:11:we()}function Yn(i,e){if(i===e)return!0;const n=ti(i);if(n!==ti(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const h=Zr(a.timestampValue),m=Zr(c.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return ei(a.bytesValue).isEqual(ei(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return at(a.geoPointValue.latitude)===at(c.geoPointValue.latitude)&&at(a.geoPointValue.longitude)===at(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return at(a.integerValue)===at(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const h=at(a.doubleValue),m=at(c.doubleValue);return h===m?nu(h)===nu(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],Yn);case 10:case 11:return function(a,c){const h=a.mapValue.fields||{},m=c.mapValue.fields||{};if(tm(h)!==tm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Yn(h[g],m[g])))return!1;return!0}(i,e);default:return we()}}function ua(i,e){return(i.values||[]).find(n=>Yn(n,e))!==void 0}function js(i,e){if(i===e)return 0;const n=ti(i),s=ti(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(c,h){const m=at(c.integerValue||c.doubleValue),g=at(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return rm(i.timestampValue,e.timestampValue);case 4:return rm(aa(i),aa(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(c,h){const m=ei(c),g=ei(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,h){const m=c.split("/"),g=h.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=Ve(m[_],g[_]);if(w!==0)return w}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,h){const m=Ve(at(c.latitude),at(h.latitude));return m!==0?m:Ve(at(c.longitude),at(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return im(i.arrayValue,e.arrayValue);case 10:return function(c,h){var m,g,_,w;const R=c.fields||{},A=h.fields||{},O=(m=R.value)===null||m===void 0?void 0:m.arrayValue,j=(g=A.value)===null||g===void 0?void 0:g.arrayValue,q=Ve(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:im(O,j)}(i.mapValue,e.mapValue);case 11:return function(c,h){if(c===Ul.mapValue&&h===Ul.mapValue)return 0;if(c===Ul.mapValue)return 1;if(h===Ul.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=h.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const A=Ve(g[R],w[R]);if(A!==0)return A;const O=js(m[g[R]],_[w[R]]);if(O!==0)return O}return Ve(g.length,w.length)}(i.mapValue,e.mapValue);default:throw we()}}function rm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=Zr(i),s=Zr(e),a=Ve(n.seconds,s.seconds);return a!==0?a:Ve(n.nanos,s.nanos)}function im(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=js(n[a],s[a]);if(c)return c}return Ve(n.length,s.length)}function zs(i){return Ah(i)}function Ah(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Zr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ei(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return _e.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=Ah(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const h of s)c?c=!1:a+=",",a+=`${h}:${Ah(n.fields[h])}`;return a+"}"}(i.mapValue):we()}function Wl(i){switch(ti(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vu(i);return e?16+Wl(e):16;case 5:return 2*i.stringValue.length;case 6:return ei(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+Wl(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Mi(s.fields,(c,h)=>{a+=c.length+Wl(h)}),a}(i.mapValue);default:throw we()}}function Ph(i){return!!i&&"integerValue"in i}function Yh(i){return!!i&&"arrayValue"in i}function sm(i){return!!i&&"nullValue"in i}function om(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Ql(i){return!!i&&"mapValue"in i}function oT(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Mi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function aT(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ql(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=kt.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=Jo(h):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());Ql(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Ql(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Mi(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new yn(Jo(this.value))}}function _g(i){const e=[];return Mi(i.fields,(n,s)=>{const a=new kt([n]);if(Ql(s)){const c=_g(s.mapValue).fields;if(c.length===0)e.push(a);else for(const h of c)e.push(a.child(h))}else e.push(a)}),new Ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,c,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Se.min(),Se.min(),Se.min(),yn.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Se.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Se.min(),Se.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Se.min(),Se.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n){this.position=e,this.inclusive=n}}function am(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],h=i.position[a];if(c.field.isKeyField()?s=_e.comparator(_e.fromName(h.referenceValue),n.key):s=js(h,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function lm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Yn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function lT(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{}class gt extends vg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new cT(e,n,s):n==="array-contains"?new dT(e,s):n==="in"?new pT(e,s):n==="not-in"?new mT(e,s):n==="array-contains-any"?new gT(e,s):new gt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new hT(e,s):new fT(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(js(n,this.value)):n!==null&&ti(this.value)===ti(n)&&this.matchesComparison(js(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Xn extends vg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Xn(e,n)}matches(e){return Eg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Eg(i){return i.op==="and"}function wg(i){return uT(i)&&Eg(i)}function uT(i){for(const e of i.filters)if(e instanceof Xn)return!1;return!0}function kh(i){if(i instanceof gt)return i.field.canonicalString()+i.op.toString()+zs(i.value);if(wg(i))return i.filters.map(e=>kh(e)).join(",");{const e=i.filters.map(n=>kh(n)).join(",");return`${i.op}(${e})`}}function Tg(i,e){return i instanceof gt?function(s,a){return a instanceof gt&&s.op===a.op&&s.field.isEqual(a.field)&&Yn(s.value,a.value)}(i,e):i instanceof Xn?function(s,a){return a instanceof Xn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,h,m)=>c&&Tg(h,a.filters[m]),!0):!1}(i,e):void we()}function Sg(i){return i instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(i):i instanceof Xn?function(n){return n.op.toString()+" {"+n.getFilters().map(Sg).join(" ,")+"}"}(i):"Filter"}class cT extends gt{constructor(e,n,s){super(e,n,s),this.key=_e.fromName(s.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class hT extends gt{constructor(e,n){super(e,"in",n),this.keys=Ig("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fT extends gt{constructor(e,n){super(e,"not-in",n),this.keys=Ig("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ig(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>_e.fromName(s.referenceValue))}class dT extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yh(n)&&ua(n.arrayValue,this.value)}}class pT extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class mT extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class gT extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ua(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e,n=null,s=[],a=[],c=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=h,this.endAt=m,this.ue=null}}function um(i,e=null,n=[],s=[],a=null,c=null,h=null){return new yT(i,e,n,s,a,c,h)}function Xh(i){const e=Ie(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>kh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>zs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>zs(s)).join(",")),e.ue=n}return e.ue}function Jh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!lT(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Tg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!lm(i.startAt,e.startAt)&&lm(i.endAt,e.endAt)}function xh(i){return _e.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],a=[],c=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _T(i,e,n,s,a,c,h,m){return new Eu(i,e,n,s,a,c,h,m)}function Cg(i){return new Eu(i)}function cm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function vT(i){return i.collectionGroup!==null}function Zo(i){const e=Ie(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new _t(kt.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new iu(c,s))}),n.has(kt.keyField().canonicalString())||e.ce.push(new iu(kt.keyField(),s))}return e.ce}function Qn(i){const e=Ie(i);return e.le||(e.le=ET(e,Zo(i))),e.le}function ET(i,e){if(i.limitType==="F")return um(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new iu(a.field,c)});const n=i.endAt?new ru(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ru(i.startAt.position,i.startAt.inclusive):null;return um(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Nh(i,e,n){return new Eu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function wu(i,e){return Jh(Qn(i),Qn(e))&&i.limitType===e.limitType}function Rg(i){return`${Xh(Qn(i))}|lt:${i.limitType}`}function Vs(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Sg(a)).join(", ")}]`),_u(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>zs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>zs(a)).join(",")),`Target(${s})`}(Qn(i))}; limitType=${i.limitType})`}function Tu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):_e.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const _=am(h,m,g);return h.inclusive?_<=0:_<0}(s.startAt,Zo(s),a)||s.endAt&&!function(h,m,g){const _=am(h,m,g);return h.inclusive?_>=0:_>0}(s.endAt,Zo(s),a))}(i,e)}function wT(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ag(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=TT(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function TT(i,e,n){const s=i.field.isKeyField()?_e.comparator(e.key,n.key):function(c,h,m){const g=h.data.field(c),_=m.data.field(c);return g!==null&&_!==null?js(g,_):we()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Mi(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return gg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new tt(_e.comparator);function Er(){return ST}const Pg=new tt(_e.comparator);function Yo(...i){let e=Pg;for(const n of i)e=e.insert(n.key,n);return e}function kg(i){let e=Pg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Vi(){return ea()}function xg(){return ea()}function ea(){return new Fi(i=>i.toString(),(i,e)=>i.isEqual(e))}const IT=new tt(_e.comparator),CT=new _t(_e.comparator);function ke(...i){let e=CT;for(const n of i)e=e.add(n);return e}const RT=new _t(Ve);function AT(){return RT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nu(e)?"-0":e}}function Ng(i){return{integerValue:""+i}}function PT(i,e){return tT(e)?Ng(e):Zh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this._=void 0}}function kT(i,e,n){return i instanceof su?function(a,c){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&Gh(c)&&(c=vu(c)),c&&(h.fields.__previous_value__=c),{mapValue:h}}(n,e):i instanceof ca?Dg(i,e):i instanceof ha?Lg(i,e):function(a,c){const h=Vg(a,c),m=hm(h)+hm(a.Pe);return Ph(h)&&Ph(a.Pe)?Ng(m):Zh(a.serializer,m)}(i,e)}function xT(i,e,n){return i instanceof ca?Dg(i,e):i instanceof ha?Lg(i,e):n}function Vg(i,e){return i instanceof ou?function(s){return Ph(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class su extends Su{}class ca extends Su{constructor(e){super(),this.elements=e}}function Dg(i,e){const n=Og(e);for(const s of i.elements)n.some(a=>Yn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ha extends Su{constructor(e){super(),this.elements=e}}function Lg(i,e){let n=Og(e);for(const s of i.elements)n=n.filter(a=>!Yn(a,s));return{arrayValue:{values:n}}}class ou extends Su{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function hm(i){return at(i.integerValue||i.doubleValue)}function Og(i){return Yh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function NT(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ca&&a instanceof ca||s instanceof ha&&a instanceof ha?Us(s.elements,a.elements,Yn):s instanceof ou&&a instanceof ou?Yn(s.Pe,a.Pe):s instanceof su&&a instanceof su}(i.transform,e.transform)}class VT{constructor(e,n){this.version=e,this.transformResults=n}}class yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yr}static exists(e){return new yr(void 0,e)}static updateTime(e){return new yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Iu{}function Mg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Ug(i.key,yr.none()):new ma(i.key,i.data,yr.none());{const n=i.data,s=yn.empty();let a=new _t(kt.comparator);for(let c of e.fields)if(!a.has(c)){let h=n.field(c);h===null&&c.length>1&&(c=c.popLast(),h=n.field(c)),h===null?s.delete(c):s.set(c,h),a=a.add(c)}return new Ui(i.key,s,new Ln(a.toArray()),yr.none())}}function DT(i,e,n){i instanceof ma?function(a,c,h){const m=a.value.clone(),g=dm(a.fieldTransforms,c,h.transformResults);m.setAll(g),c.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ui?function(a,c,h){if(!Kl(a.precondition,c))return void c.convertToUnknownDocument(h.version);const m=dm(a.fieldTransforms,c,h.transformResults),g=c.data;g.setAll(Fg(a)),g.setAll(m),c.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,h){c.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof ma?function(c,h,m,g){if(!Kl(c.precondition,h))return m;const _=c.value.clone(),w=pm(c.fieldTransforms,g,h);return _.setAll(w),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ui?function(c,h,m,g){if(!Kl(c.precondition,h))return m;const _=pm(c.fieldTransforms,g,h),w=h.data;return w.setAll(Fg(c)),w.setAll(_),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(c,h,m){return Kl(c.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function LT(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),c=Vg(s.transform,a||null);c!=null&&(n===null&&(n=yn.empty()),n.set(s.field,c))}return n||null}function fm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Us(s,a,(c,h)=>NT(c,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ma extends Iu{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ui extends Iu{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function Fg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function dm(i,e,n){const s=new Map;ze(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],h=c.transform,m=e.data.field(c.field);s.set(c.field,xT(h,m,n[a]))}return s}function pm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,h=n.data.field(a.field);s.set(a.field,kT(c,h,e))}return s}class Ug extends Iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class OT extends Iu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&DT(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xg();return this.mutations.forEach(a=>{const c=e.get(a.key),h=c.overlayedDocument;let m=this.applyToLocalView(h,c.mutatedFields);m=n.has(a.key)?null:m;const g=Mg(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(n,s)=>fm(n,s))&&Us(this.baseMutations,e.baseMutations,(n,s)=>fm(n,s))}}class ef{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){ze(e.mutations.length===s.length);let a=function(){return IT}();const c=e.mutations;for(let h=0;h<c.length;h++)a=a.insert(c[h].key,s[h].version);return new ef(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ct,Oe;function jT(i){switch(i){default:return we();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0}}function jg(i){if(i===void 0)return vr("GRPC error has no .code"),Z.UNKNOWN;switch(i){case ct.OK:return Z.OK;case ct.CANCELLED:return Z.CANCELLED;case ct.UNKNOWN:return Z.UNKNOWN;case ct.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ct.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ct.INTERNAL:return Z.INTERNAL;case ct.UNAVAILABLE:return Z.UNAVAILABLE;case ct.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ct.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ct.NOT_FOUND:return Z.NOT_FOUND;case ct.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ct.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ct.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ct.ABORTED:return Z.ABORTED;case ct.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ct.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ct.DATA_LOSS:return Z.DATA_LOSS;default:return we()}}(Oe=ct||(ct={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT=new Di([4294967295,4294967295],0);function mm(i){const e=zT().encode(i),n=new lg;return n.update(e),new Uint8Array(n.digest())}function gm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Di([n,s],0),new Di([a,c],0)]}class tf{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Xo(`Invalid padding: ${n}`);if(s<0)throw new Xo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Xo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Xo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Di.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Di.fromNumber(s)));return a.compare(bT)===1&&(a=new Di([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),h=new tf(c,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=mm(e),[s,a]=gm(n);for(let c=0;c<this.hashCount;c++){const h=this.Ee(s,a,c);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Xo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ga.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Cu(Se.min(),a,new tt(Ve),Er(),ke())}}class ga{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ga(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class zg{constructor(e,n){this.targetId=e,this.me=n}}class bg{constructor(e,n,s=xt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class ym{constructor(){this.fe=0,this.ge=_m(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ke(),n=ke(),s=ke();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we()}}),new ga(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=_m()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BT{constructor(e){this.Le=e,this.Be=new Map,this.ke=Er(),this.qe=jl(),this.Qe=jl(),this.Ke=new tt(Ve)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(xh(c))if(s===0){const h=new _e(c.path);this.We(n,h,Ft.newNoDocument(h,Se.min()))}else ze(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let h,m;try{h=ei(s).toUint8Array()}catch(g){if(g instanceof yg)return Fs("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tf(h,a,c)}catch(g){return Fs(g instanceof Xo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,h)=>{const m=this.Ye(h);if(m){if(c.current&&xh(m.target)){const g=new _e(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}c.be&&(n.set(h,c.ve()),c.Ce())}});let s=ke();this.Qe.forEach((c,h)=>{let m=!0;h.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,h)=>h.setReadTime(e));const a=new Cu(e,n,this.Ke,this.ke,s);return this.ke=Er(),this.qe=jl(),this.Qe=jl(),this.Ke=new tt(Ve),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new ym,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new _t(Ve),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _t(Ve),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ym),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function jl(){return new tt(_e.comparator)}function _m(){return new tt(_e.comparator)}const $T={asc:"ASCENDING",desc:"DESCENDING"},HT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qT={and:"AND",or:"OR"};class WT{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vh(i,e){return i.useProto3Json||_u(e)?e:{value:e}}function au(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Bg(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function QT(i,e){return au(i,e.toTimestamp())}function Kn(i){return ze(!!i),Se.fromTimestamp(function(n){const s=Zr(n);return new yt(s.seconds,s.nanos)}(i))}function nf(i,e){return Dh(i,e).canonicalString()}function Dh(i,e){const n=function(a){return new Ye(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function $g(i){const e=Ye.fromString(i);return ze(Kg(e)),e}function Lh(i,e){return nf(i.databaseId,e.path)}function ph(i,e){const n=$g(e);if(n.get(1)!==i.databaseId.projectId)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new _e(qg(n))}function Hg(i,e){return nf(i.databaseId,e)}function KT(i){const e=$g(i);return e.length===4?Ye.emptyPath():qg(e)}function Oh(i){return new Ye(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function qg(i){return ze(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function vm(i,e,n){return{name:Lh(i,e),fields:n.value.mapValue.fields}}function GT(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(ze(w===void 0||typeof w=="string"),xt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array),xt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(_){const w=_.code===void 0?Z.UNKNOWN:jg(_.code);return new me(w,_.message||"")}(h);n=new bg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ph(i,s.document.name),c=Kn(s.document.updateTime),h=s.document.createTime?Kn(s.document.createTime):Se.min(),m=new yn({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,c,h,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Gl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ph(i,s.document),c=s.readTime?Kn(s.readTime):Se.min(),h=Ft.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Gl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ph(i,s.document),c=s.removedTargetIds||[];n=new Gl([],c,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,h=new UT(a,c),m=s.targetId;n=new zg(m,h)}}return n}function YT(i,e){let n;if(e instanceof ma)n={update:vm(i,e.key,e.value)};else if(e instanceof Ug)n={delete:Lh(i,e.key)};else if(e instanceof Ui)n={update:vm(i,e.key,e.data),updateMask:s0(e.fieldMask)};else{if(!(e instanceof OT))return we();n={verify:Lh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(c,h){const m=h.transform;if(m instanceof su)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ca)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ha)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ou)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,c){return c.updateTime!==void 0?{updateTime:QT(a,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we()}(i,e.precondition)),n}function XT(i,e){return i&&i.length>0?(ze(e!==void 0),i.map(n=>function(a,c){let h=a.updateTime?Kn(a.updateTime):Kn(c);return h.isEqual(Se.min())&&(h=Kn(c)),new VT(h,a.transformResults||[])}(n,e))):[]}function JT(i,e){return{documents:[Hg(i,e.path)]}}function ZT(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Hg(i,a);const c=function(_){if(_.length!==0)return Qg(Xn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const h=function(_){if(_.length!==0)return _.map(w=>function(A){return{field:Ds(A.field),direction:n0(A.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=Vh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function e0(i){let e=KT(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){ze(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(R){const A=Wg(R);return A instanceof Xn&&wg(A)?A.getFilters():[A]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(A=>function(j){return new iu(Ls(j.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(R){let A;return A=typeof R=="object"?R.value:R,_u(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(R){const A=!!R.before,O=R.values||[];return new ru(O,A)}(n.startAt));let _=null;return n.endAt&&(_=function(R){const A=!R.before,O=R.values||[];return new ru(O,A)}(n.endAt)),_T(e,a,h,c,m,"F",g,_)}function t0(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Wg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ls(n.unaryFilter.field);return gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Ls(n.unaryFilter.field);return gt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ls(n.unaryFilter.field);return gt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ls(n.unaryFilter.field);return gt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(n){return gt.create(Ls(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Xn.create(n.compositeFilter.filters.map(s=>Wg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(i):we()}function n0(i){return $T[i]}function r0(i){return HT[i]}function i0(i){return qT[i]}function Ds(i){return{fieldPath:i.canonicalString()}}function Ls(i){return kt.fromServerFormat(i.fieldPath)}function Qg(i){return i instanceof gt?function(n){if(n.op==="=="){if(om(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NAN"}};if(sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(om(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NAN"}};if(sm(n.value))return{unaryFilter:{field:Ds(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(n.field),op:r0(n.op),value:n.value}}}(i):i instanceof Xn?function(n){const s=n.getFilters().map(a=>Qg(a));return s.length===1?s[0]:{compositeFilter:{op:i0(n.op),filters:s}}}(i):we()}function s0(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Kg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,a,c=Se.min(),h=Se.min(),m=xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e){this.ht=e}}function a0(i){const e=e0({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(){this.ln=new u0}addToCollectionParentIndex(e,n){return this.ln.add(n),K.resolve()}getCollectionParents(e,n){return K.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return K.resolve()}deleteFieldIndex(e,n){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,n){return K.resolve()}getDocumentsMatchingTarget(e,n){return K.resolve(null)}getIndexType(e,n){return K.resolve(0)}getFieldIndexes(e,n){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,n){return K.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return K.resolve(Jr.min())}updateCollectionGroup(e,n,s){return K.resolve()}updateIndexEntries(e,n){return K.resolve()}}class u0{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new _t(Ye.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new _t(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new bs(0)}static Qn(){return new bs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm([i,e],[n,s]){const a=Ve(i,n);return a===0?Ve(e,s):a}class c0{constructor(e){this.Gn=e,this.buffer=new _t(wm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();wm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h0{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ks(n)}await this.Yn(3e5)})}}class f0{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return K.resolve(yu.oe);const s=new c0(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(Em)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Em):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,h,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(c=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(_=Date.now(),Ns()<=Me.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:R})))}}function d0(i,e){return new f0(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.changes=new Fi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?K.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,Ln.empty(),yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const a=Vi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let h=Yo();return c.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let c=Er();const h=ea(),m=function(){return ea()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof Ui)?c=c.insert(_.key,_):w!==void 0?(h.set(_.key,w.mutation.getFieldMask()),ta(w.mutation,_,w.mutation.getFieldMask(),yt.now())):h.set(_.key,Ln.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,w)=>h.set(_,w)),n.forEach((_,w)=>{var R;return m.set(_,new m0(w,(R=h.get(_))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new tt((h,m)=>h-m),c=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||Ln.empty();w=m.applyToLocalView(_,w),s.set(g,w);const R=(a.get(m.batchId)||ke()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,R=xg();w.forEach(A=>{if(!c.has(A)){const O=Mg(n.get(A),s.get(A));O!==null&&R.set(A,O),c=c.add(A)}}),h.push(this.documentOverlayCache.saveOverlays(e,_,R))}return K.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const h=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):K.resolve(Vi());let m=-1,g=c;return h.next(_=>K.forEach(_,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),c.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(A=>{g=g.insert(w,A)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,ke())).next(w=>({batchId:m,changes:kg(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(s=>{let a=Yo();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let h=Yo();return this.indexManager.getCollectionParents(e,c).next(m=>K.forEach(m,g=>{const _=function(R,A){return new Eu(A,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((R,A)=>{h=h.insert(R,A)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(c=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(h=>{c.forEach((g,_)=>{const w=_.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=Yo();return h.forEach((g,_)=>{const w=c.get(g);w!==void 0&&ta(w.mutation,_,Ln.empty(),yt.now()),Tu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return K.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Kn(a.createTime)}}(n)),K.resolve()}getNamedQuery(e,n){return K.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:a0(a.bundledQuery),readTime:Kn(a.readTime)}}(n)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(){this.overlays=new tt(_e.comparator),this.Er=new Map}getOverlay(e,n){return K.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Vi();return K.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),K.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),K.resolve()}getOverlaysForCollection(e,n,s){const a=Vi(),c=n.length+1,h=new _e(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return K.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new tt((_,w)=>_-w);const h=this.overlays.getIterator();for(;h.hasNext();){const _=h.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=Vi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=Vi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return K.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new FT(n,s));let c=this.Er.get(n);c===void 0&&(c=ke(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this.dr=new _t(St.Ar),this.Rr=new _t(St.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new St(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new St(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new _e(new Ye([])),s=new St(n,e),a=new St(n,e+1),c=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),c.push(h.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new _e(new Ye([])),s=new St(n,e),a=new St(n,e+1);let c=ke();return this.Rr.forEachInRange([s,a],h=>{c=c.add(h.key)}),c}containsKey(e){const n=new St(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class St{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return _e.comparator(e.key,n.key)||Ve(e.br,n.br)}static Vr(e,n){return Ve(e.br,n.br)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new _t(St.Ar)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new MT(c,n,s,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new St(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return K.resolve(h)}lookupMutationBatch(e,n){return K.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return K.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new St(n,0),a=new St(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],h=>{const m=this.Cr(h.br);c.push(m)}),K.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new _t(Ve);return n.forEach(a=>{const c=new St(a,0),h=new St(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,h],m=>{s=s.add(m.br)})}),K.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;_e.isDocumentKey(c)||(c=c.child(""));const h=new St(new _e(c),0);let m=new _t(Ve);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},h),K.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){ze(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return K.forEach(n.mutations,a=>{const c=new St(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new St(n,0),a=this.vr.firstAfterOrEqual(s);return K.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.Nr=e,this.docs=function(){return new tt(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return K.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=Er();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Ft.newInvalidDocument(a))}),K.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Er();const h=n.path,m=new _e(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!h.isPrefixOf(_.path))break;_.path.length>h.length+1||Xw(Yw(w),s)<=0||(a.has(w.key)||Tu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return K.resolve(c)}getAllFromCollectionGroup(e,n,s,a){we()}Lr(e,n){return K.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new T0(this)}getSize(e){return K.resolve(this.size)}}class T0 extends p0{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),K.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e){this.persistence=e,this.Br=new Fi(n=>Xh(n),Jh),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.kr=0,this.qr=new rf,this.targetCount=0,this.Qr=bs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),K.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new bs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,K.resolve()}updateTargetData(e,n){return this.Un(n),K.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(h),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),K.waitFor(c).next(()=>a)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return K.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),K.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(h=>{c.push(a.markPotentiallyOrphaned(e,h))}),K.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),K.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return K.resolve(s)}containsKey(e,n){return K.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new yu(0),this.Ur=!1,this.Ur=!0,this.Wr=new v0,this.referenceDelegate=e(this),this.Gr=new S0(this),this.indexManager=new l0,this.remoteDocumentCache=function(a){return new w0(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new o0(n),this.jr=new y0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _0,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new E0(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new I0(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return K.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class I0 extends Zw{constructor(e){super(),this.currentSequenceNumber=e}}class sf{constructor(e){this.persistence=e,this.Zr=new rf,this.Xr=null}static ei(e){return new sf(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),K.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),K.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),K.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ti,s=>{const a=_e.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,Se.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return K.or([()=>K.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class lu{constructor(e,n){this.persistence=e,this.ri=new Fi(s=>nT(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=d0(this,n)}static ei(e,n){return new lu(e,n)}Hr(){}Jr(e){return K.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return K.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?K.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(m=>{m||(s++,c.removeEntry(h,Se.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),K.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wl(e.data.value)),n}ir(e,n,s){return K.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return K.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=ke(),a=ke();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new of(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return IE()?8:eT(TE())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(h=>{c.result=h}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(h=>{c.result=h})}).next(()=>{if(c.result)return;const h=new C0;return this.ts(e,n,h).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ns()<=Me.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),K.resolve()):(Ns()<=Me.DEBUG&&ae("QueryEngine","Query:",Vs(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ns()<=Me.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qn(n))):K.resolve())}Xi(e,n){if(cm(n))return K.resolve(null);let s=Qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Nh(n,null,"F"),s=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const h=ke(...c);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,h,g.readTime)?this.Xi(e,Nh(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return cm(n)||a.isEqual(Se.min())?K.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const h=this.rs(n,c);return this.ss(n,h,s,a)?K.resolve(null):(Ns()<=Me.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Vs(n)),this.os(e,h,n,Gw(a,-1)).next(m=>m))})}rs(e,n){let s=new _t(Ag(e));return n.forEach((a,c)=>{Tu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ns()<=Me.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Vs(n)),this.Zi.getDocumentsMatchingQuery(e,n,Jr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(h=>{c=c.insert(h.key,h)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new tt(Ve),this.cs=new Fi(c=>Xh(c),Jh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g0(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function P0(i,e,n,s){return new A0(i,e,n,s)}async function Yg(i,e){const n=Ie(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const h=[],m=[];let g=ke();for(const _ of a){h.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:h,addedBatchIds:m}))})})}function k0(i,e){const n=Ie(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),c=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,_,w){const R=_.batch,A=R.keys();let O=K.resolve();return A.forEach(j=>{O=O.next(()=>w.getEntry(g,j)).next(q=>{const b=_.docVersions.get(j);ze(b!==null),q.version.compareTo(b)<0&&(R.applyToRemoteDocument(q,_),q.isValidDocument()&&(q.setReadTime(_.commitVersion),w.addEntry(q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=ke();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(g=g.add(m.batch.mutations[_].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function Xg(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function x0(i,e){const n=Ie(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const A=a.get(R);if(!A)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,R)));let O=A.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(R)!==null?O=O.withResumeToken(xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,s)),a=a.insert(R,O),function(q,b,Q){return q.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,O,w)&&m.push(n.Gr.updateTargetData(c,O))});let g=Er(),_=ke();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(N0(c,h,e.documentUpdates).next(w=>{g=w.Is,_=w.Es})),!s.isEqual(Se.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(R=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return K.waitFor(m).next(()=>h.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function N0(i,e,n){let s=ke(),a=ke();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let h=Er();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:h,Es:a}})}function V0(i,e){const n=Ie(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function D0(i,e){const n=Ie(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,K.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Mh(i,e,n){const s=Ie(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!Gs(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Tm(i,e,n){const s=Ie(i);let a=Se.min(),c=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,_,w){const R=Ie(g),A=R.cs.get(w);return A!==void 0?K.resolve(R.us.get(A)):R.Gr.getTargetData(_,w)}(s,h,Qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Se.min(),n?c:ke())).next(m=>(L0(s,wT(e),m),{documents:m,ds:c})))}function L0(i,e,n){let s=i.ls.get(e)||Se.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Sm{constructor(){this.activeTargetIds=AT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O0{constructor(){this._o=new Sm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Sm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function mh(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class j0 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,h){const m=mh(),g=this.No(n,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,h),this.Bo(n,g,_,a).then(w=>(ae("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Fs("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,h,m){return this.Oo(n,s,a,c,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,h)=>n[h]=c),a&&a.headers.forEach((c,h)=>n[h]=c)}No(n,s){const a=F0[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=mh();return new Promise((h,m)=>{const g=new ug;g.setWithCredentials(!0),g.listenOnce(cg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case ql.NO_ERROR:const w=g.getResponseJson();ae(Ot,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),h(w);break;case ql.TIMEOUT:ae(Ot,`RPC '${e}' ${c} timed out`),m(new me(Z.DEADLINE_EXCEEDED,"Request time out"));break;case ql.HTTP_ERROR:const R=g.getStatus();if(ae(Ot,`RPC '${e}' ${c} failed with status:`,R,"response text:",g.getResponseText()),R>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const j=function(b){const Q=b.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Q)>=0?Q:Z.UNKNOWN}(O.status);m(new me(j,O.message))}else m(new me(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new me(Z.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ae(Ot,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ae(Ot,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=mh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=dg(),m=fg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");ae(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=h.createWebChannel(w,g);let A=!1,O=!1;const j=new U0({Eo:b=>{O?ae(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,b):(A||(ae(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),A=!0),ae(Ot,`RPC '${e}' stream ${a} sending:`,b),R.send(b))},Ao:()=>R.close()}),q=(b,Q,Y)=>{b.listen(Q,ie=>{try{Y(ie)}catch(fe){setTimeout(()=>{throw fe},0)}})};return q(R,Go.EventType.OPEN,()=>{O||(ae(Ot,`RPC '${e}' stream ${a} transport opened.`),j.So())}),q(R,Go.EventType.CLOSE,()=>{O||(O=!0,ae(Ot,`RPC '${e}' stream ${a} transport closed`),j.Do())}),q(R,Go.EventType.ERROR,b=>{O||(O=!0,Fs(Ot,`RPC '${e}' stream ${a} transport errored:`,b),j.Do(new me(Z.UNAVAILABLE,"The operation could not be completed")))}),q(R,Go.EventType.MESSAGE,b=>{var Q;if(!O){const Y=b.data[0];ze(!!Y);const ie=Y,fe=(ie==null?void 0:ie.error)||((Q=ie[0])===null||Q===void 0?void 0:Q.error);if(fe){ae(Ot,`RPC '${e}' stream ${a} received error:`,fe);const Ce=fe.status;let Te=function(I){const P=ct[I];if(P!==void 0)return jg(P)}(Ce),x=fe.message;Te===void 0&&(Te=Z.INTERNAL,x="Unknown error status: "+Ce+" with message "+fe.message),O=!0,j.Do(new me(Te,x)),R.close()}else ae(Ot,`RPC '${e}' stream ${a} received:`,Y),j.vo(Y)}}),q(m,hg.STAT_EVENT,b=>{b.stat===Rh.PROXY?ae(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):b.stat===Rh.NOPROXY&&ae(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{j.bo()},0),j}}function gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i){return new WT(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,s,a,c,h,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Jg(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(vr(n.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new me(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z0 extends Zg{constructor(e,n,s,a,c,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=GT(this.serializer,e),s=function(c){if(!("targetChange"in c))return Se.min();const h=c.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Kn(h.readTime):Se.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=Oh(this.serializer),n.addTarget=function(c,h){let m;const g=h.target;if(m=xh(g)?{documents:JT(c,g)}:{query:ZT(c,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=Bg(c,h.resumeToken);const _=Vh(c,h.expectedCount);_!==null&&(m.expectedCount=_)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=au(c,h.snapshotVersion.toTimestamp());const _=Vh(c,h.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=t0(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=Oh(this.serializer),n.removeTarget=e,this.c_(n)}}class b0 extends Zg{constructor(e,n,s,a,c,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=c}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=XT(e.writeResults,e.commitTime),s=Kn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=Oh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>YT(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Oo(e,Dh(n,s),a,c,h)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(Z.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Dh(n,s),a,h,m,c)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(Z.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class $0{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vr(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ji(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Ie(g);_.k_.add(4),await ya(_),_.K_.set("Unknown"),_.k_.delete(4),await Au(_)}(this))})}),this.K_=new $0(s,a)}}async function Au(i){if(ji(i))for(const e of i.q_)await e(!0)}async function ya(i){for(const e of i.q_)await e(!1)}function ey(i,e){const n=Ie(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),cf(n)?uf(n):Ys(n).s_()&&lf(n,e))}function af(i,e){const n=Ie(i),s=Ys(n);n.B_.delete(e),s.s_()&&ty(n,e),n.B_.size===0&&(s.s_()?s.a_():ji(n)&&n.K_.set("Unknown"))}function lf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ys(i).V_(e)}function ty(i,e){i.U_.xe(e),Ys(i).m_(e)}function uf(i){i.U_=new BT({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ys(i).start(),i.K_.F_()}function cf(i){return ji(i)&&!Ys(i).i_()&&i.B_.size>0}function ji(i){return Ie(i).k_.size===0}function ny(i){i.U_=void 0}async function q0(i){i.K_.set("Online")}async function W0(i){i.B_.forEach((e,n)=>{lf(i,e)})}async function Q0(i,e){ny(i),cf(i)?(i.K_.O_(e),uf(i)):i.K_.set("Unknown")}async function K0(i,e,n){if(i.K_.set("Online"),e instanceof bg&&e.state===2&&e.cause)try{await async function(a,c){const h=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await uu(i,s)}else if(e instanceof Gl?i.U_.$e(e):e instanceof zg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Se.min()))try{const s=await Xg(i.localStore);n.compareTo(s)>=0&&await function(c,h){const m=c.U_.it(h);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.B_.get(_);w&&c.B_.set(_,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,_)=>{const w=c.B_.get(g);if(!w)return;c.B_.set(g,w.withResumeToken(xt.EMPTY_BYTE_STRING,w.snapshotVersion)),ty(c,g);const R=new Wr(w.target,g,_,w.sequenceNumber);lf(c,R)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await uu(i,s)}}async function uu(i,e,n){if(!Gs(e))throw e;i.k_.add(1),await ya(i),i.K_.set("Offline"),n||(n=()=>Xg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Au(i)})}function ry(i,e){return e().catch(n=>uu(i,n,e))}async function Pu(i){const e=Ie(i),n=ni(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;G0(e);)try{const a=await V0(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,Y0(e,a)}catch(a){await uu(e,a)}iy(e)&&sy(e)}function G0(i){return ji(i)&&i.L_.length<10}function Y0(i,e){i.L_.push(e);const n=ni(i);n.s_()&&n.f_&&n.g_(e.mutations)}function iy(i){return ji(i)&&!ni(i).i_()&&i.L_.length>0}function sy(i){ni(i).start()}async function X0(i){ni(i).w_()}async function J0(i){const e=ni(i);for(const n of i.L_)e.g_(n.mutations)}async function Z0(i,e,n){const s=i.L_.shift(),a=ef.from(s,e,n);await ry(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await Pu(i)}async function eS(i,e){e&&ni(i).f_&&await async function(s,a){if(function(h){return jT(h)&&h!==Z.ABORTED}(a.code)){const c=s.L_.shift();ni(s).__(),await ry(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,a)),await Pu(s)}}(i,e),iy(i)&&sy(i)}async function Cm(i,e){const n=Ie(i);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=ji(n);n.k_.add(3),await ya(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Au(n)}async function tS(i,e){const n=Ie(i);e?(n.k_.delete(2),await Au(n)):e||(n.k_.add(2),await ya(n),n.K_.set("Unknown"))}function Ys(i){return i.W_||(i.W_=function(n,s,a){const c=Ie(n);return c.b_(),new z0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:q0.bind(null,i),mo:W0.bind(null,i),po:Q0.bind(null,i),R_:K0.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),cf(i)?uf(i):i.K_.set("Unknown")):(await i.W_.stop(),ny(i))})),i.W_}function ni(i){return i.G_||(i.G_=function(n,s,a){const c=Ie(n);return c.b_(),new b0(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:X0.bind(null,i),po:eS.bind(null,i),p_:J0.bind(null,i),y_:Z0.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await Pu(i)):(await i.G_.stop(),i.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const h=Date.now()+s,m=new hf(e,n,h,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ff(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Gs(i))return new me(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{static emptySet(e){return new Ms(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||_e.comparator(n.key,s.key):(n,s)=>_e.comparator(n.key,s.key),this.keyedMap=Yo(),this.sortedSet=new tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ms;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(){this.z_=new tt(_e.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Bs{constructor(e,n,s,a,c,h,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Bs(e,n,Ms.emptySet(n),h,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class rS{constructor(){this.queries=Am(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ie(n),c=a.queries;a.queries=Am(),c.forEach((h,m)=>{for(const g of m.J_)g.onError(s)})})(this,new me(Z.ABORTED,"Firestore shutting down"))}}function Am(){return new Fi(i=>Rg(i),wu)}async function iS(i,e){const n=Ie(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new nS,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=ff(h,`Initialization of query '${Vs(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&df(n)}async function sS(i,e){const n=Ie(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const h=c.J_.indexOf(e);h>=0&&(c.J_.splice(h,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function oS(i,e){const n=Ie(i);let s=!1;for(const a of e){const c=a.query,h=n.queries.get(c);if(h){for(const m of h.J_)m.ta(a)&&(s=!0);h.H_=a}}s&&df(n)}function aS(i,e,n){const s=Ie(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function df(i){i.X_.forEach(e=>{e.next()})}var Fh,Pm;(Pm=Fh||(Fh={})).na="default",Pm.Cache="cache";class lS{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Fh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e){this.key=e}}class ay{constructor(e){this.key=e}}class uS{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ke(),this.mutatedKeys=ke(),this.Va=Ag(e),this.ma=new Ms(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Rm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const A=a.get(w),O=Tu(this.query,R)?R:null,j=!!A&&this.mutatedKeys.has(A.key),q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let b=!1;A&&O?A.data.isEqual(O.data)?j!==q&&(s.track({type:3,doc:O}),b=!0):this.ya(A,O)||(s.track({type:2,doc:O}),b=!0,(g&&this.Va(O,g)>0||_&&this.Va(O,_)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),b=!0):A&&!O&&(s.track({type:1,doc:A}),b=!0,(g||_)&&(m=!0)),b&&(O?(h=h.add(O),c=q?c.add(w):c.delete(w)):(h=h.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,R)=>function(O,j){const q=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return q(O)-q(j)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,h.length!==0||_?{snapshot:new Bs(this.query,e.ma,c,h,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Rm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ke(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new ay(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new oy(s))}),n}va(e){this.da=e.ds,this.Ra=ke();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class cS{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class hS{constructor(e){this.key=e,this.Fa=!1}}class fS{constructor(e,n,s,a,c,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Fi(m=>Rg(m),wu),this.Oa=new Map,this.Na=new Set,this.La=new tt(_e.comparator),this.Ba=new Map,this.ka=new rf,this.qa={},this.Qa=new Map,this.Ka=bs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function dS(i,e,n=!0){const s=dy(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await ly(s,e,n,!0),a}async function pS(i,e){const n=dy(i);await ly(n,e,!0,!1)}async function ly(i,e,n,s){const a=await D0(i.localStore,Qn(e)),c=a.targetId,h=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await mS(i,e,c,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&ey(i.remoteStore,a),m}async function mS(i,e,n,s,a){i.Ua=(R,A,O)=>async function(q,b,Q,Y){let ie=b.view.ga(Q);ie.ss&&(ie=await Tm(q.localStore,b.query,!1).then(({documents:x})=>b.view.ga(x,ie)));const fe=Y&&Y.targetChanges.get(b.targetId),Ce=Y&&Y.targetMismatches.get(b.targetId)!=null,Te=b.view.applyChanges(ie,q.isPrimaryClient,fe,Ce);return xm(q,b.targetId,Te.ba),Te.snapshot}(i,R,A,O);const c=await Tm(i.localStore,e,!0),h=new uS(e,c.ds),m=h.ga(c.documents),g=ga.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=h.applyChanges(m,i.isPrimaryClient,g);xm(i,n,_.ba);const w=new cS(e,n,h);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function gS(i,e,n){const s=Ie(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(h=>!wu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Mh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&af(s.remoteStore,a.targetId),Uh(s,a.targetId)}).catch(Ks)):(Uh(s,a.targetId),await Mh(s.localStore,a.targetId,!0))}async function yS(i,e){const n=Ie(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),af(n.remoteStore,s.targetId))}async function _S(i,e,n){const s=CS(i);try{const a=await function(h,m){const g=Ie(h),_=yt.now(),w=m.reduce((O,j)=>O.add(j.key),ke());let R,A;return g.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=Er(),q=ke();return g.hs.getEntries(O,w).next(b=>{j=b,j.forEach((Q,Y)=>{Y.isValidDocument()||(q=q.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(O,j)).next(b=>{R=b;const Q=[];for(const Y of m){const ie=LT(Y,R.get(Y.key).overlayedDocument);ie!=null&&Q.push(new Ui(Y.key,ie,_g(ie.value.mapValue),yr.exists(!0)))}return g.mutationQueue.addMutationBatch(O,_,Q,m)}).next(b=>{A=b;const Q=b.applyToLocalDocumentSet(R,q);return g.documentOverlayCache.saveOverlays(O,b.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:kg(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let _=h.qa[h.currentUser.toKey()];_||(_=new tt(Ve)),_=_.insert(m,g),h.qa[h.currentUser.toKey()]=_}(s,a.batchId,n),await _a(s,a.changes),await Pu(s.remoteStore)}catch(a){const c=ff(a,"Failed to persist write");n.reject(c)}}async function uy(i,e){const n=Ie(i);try{const s=await x0(n.localStore,e);e.targetChanges.forEach((a,c)=>{const h=n.Ba.get(c);h&&(ze(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?ze(h.Fa):a.removedDocuments.size>0&&(ze(h.Fa),h.Fa=!1))}),await _a(n,s,e)}catch(s){await Ks(s)}}function km(i,e,n){const s=Ie(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Ie(h);g.onlineState=m;let _=!1;g.queries.forEach((w,R)=>{for(const A of R.J_)A.ea(m)&&(_=!0)}),_&&df(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vS(i,e,n){const s=Ie(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let h=new tt(_e.comparator);h=h.insert(c,Ft.newNoDocument(c,Se.min()));const m=ke().add(c),g=new Cu(Se.min(),new Map,new tt(Ve),h,m);await uy(s,g),s.La=s.La.remove(c),s.Ba.delete(e),pf(s)}else await Mh(s.localStore,e,!1).then(()=>Uh(s,e,n)).catch(Ks)}async function ES(i,e){const n=Ie(i),s=e.batch.batchId;try{const a=await k0(n.localStore,e);hy(n,s,null),cy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _a(n,a)}catch(a){await Ks(a)}}async function wS(i,e,n){const s=Ie(i);try{const a=await function(h,m){const g=Ie(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return g.mutationQueue.lookupMutationBatch(_,m).next(R=>(ze(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(_,R))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>g.localDocuments.getDocuments(_,w))})}(s.localStore,e);hy(s,e,n),cy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _a(s,a)}catch(a){await Ks(a)}}function cy(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function hy(i,e,n){const s=Ie(i);let a=s.qa[s.currentUser.toKey()];if(a){const c=a.get(e);c&&(n?c.reject(n):c.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function Uh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||fy(i,s)})}function fy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(af(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),pf(i))}function xm(i,e,n){for(const s of n)s instanceof oy?(i.ka.addReference(s.key,e),TS(i,s)):s instanceof ay?(ae("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||fy(i,s.key)):we()}function TS(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ae("SyncEngine","New document in limbo: "+n),i.Na.add(s),pf(i))}function pf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new _e(Ye.fromString(e)),s=i.Ka.next();i.Ba.set(s,new hS(n)),i.La=i.La.insert(n,s),ey(i.remoteStore,new Wr(Qn(Cg(n.path)),s,"TargetPurposeLimboResolution",yu.oe))}}async function _a(i,e,n){const s=Ie(i),a=[],c=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{h.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const R=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(_){a.push(_);const R=of.zi(g.targetId,_);c.push(R)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,_){const w=Ie(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>K.forEach(_,A=>K.forEach(A.Wi,O=>w.persistence.referenceDelegate.addReference(R,A.targetId,O)).next(()=>K.forEach(A.Gi,O=>w.persistence.referenceDelegate.removeReference(R,A.targetId,O)))))}catch(R){if(!Gs(R))throw R;ae("LocalStore","Failed to update sequence numbers: "+R)}for(const R of _){const A=R.targetId;if(!R.fromCache){const O=w.us.get(A),j=O.snapshotVersion,q=O.withLastLimboFreeSnapshotVersion(j);w.us=w.us.insert(A,q)}}}(s.localStore,c))}async function SS(i,e){const n=Ie(i);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await Yg(n.localStore,e);n.currentUser=e,function(c,h){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new me(Z.CANCELLED,h))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _a(n,s.Ts)}}function IS(i,e){const n=Ie(i),s=n.Ba.get(e);if(s&&s.Fa)return ke().add(s.key);{let a=ke();const c=n.Oa.get(e);if(!c)return a;for(const h of c){const m=n.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function dy(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=uy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vS.bind(null,e),e.Ma.R_=oS.bind(null,e.eventManager),e.Ma.Wa=aS.bind(null,e.eventManager),e}function CS(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ES.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wS.bind(null,e),e}class cu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ru(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return P0(this.persistence,new R0,e.initialUser,this.serializer)}ja(e){return new Gg(sf.ei,this.serializer)}za(e){return new O0}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cu.provider={build:()=>new cu};class RS extends cu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){ze(this.persistence.referenceDelegate instanceof lu);const s=this.persistence.referenceDelegate.garbageCollector;return new h0(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Gg(s=>lu.ei(s,n),this.serializer)}}class jh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>km(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=SS.bind(null,this.syncEngine),await tS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rS}()}createDatastore(e){const n=Ru(e.databaseInfo.databaseId),s=function(c){return new j0(c)}(e.databaseInfo);return function(c,h,m,g){return new B0(c,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,h,m){return new H0(s,a,c,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>km(this.syncEngine,n,0),function(){return Im.p()?new Im:new M0}())}createSyncEngine(e,n){return function(a,c,h,m,g,_,w){const R=new fS(a,c,h,m,g,_);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ie(a);ae("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ya(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}jh.provider={build:()=>new jh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=mg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ff(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function yh(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Yg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Nm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await kS(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Cm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Cm(e.remoteStore,a)),i._onlineComponents=e}async function kS(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await yh(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Fs("Error using user provided cache. Falling back to memory cache: "+n),await yh(i,new cu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await yh(i,new RS(void 0));return i._offlineComponents}async function py(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Nm(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Nm(i,new jh))),i._onlineComponents}function xS(i){return py(i).then(e=>e.syncEngine)}async function NS(i){const e=await py(i),n=e.eventManager;return n.onListen=dS.bind(null,e.syncEngine),n.onUnlisten=gS.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pS.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yS.bind(null,e.syncEngine),n}function VS(i,e,n={}){const s=new Gr;return i.asyncQueue.enqueueAndForget(async()=>function(c,h,m,g,_){const w=new AS({next:A=>{w.eu(),h.enqueueAndForget(()=>sS(c,R)),A.fromCache&&g.source==="server"?_.reject(new me(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(A)},error:A=>_.reject(A)}),R=new lS(m,w,{includeMetadataChanges:!0,ua:!0});return iS(c,R)}(await NS(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(i,e,n){if(!n)throw new me(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function DS(i,e,n,s){if(e===!0&&s===!0)throw new me(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Dm(i){if(!_e.isDocumentKey(i))throw new me(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lm(i){if(_e.isDocumentKey(i))throw new me(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function mf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function hu(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mf(i);throw new me(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=my((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new me(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ku{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Om({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Om(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new zw;switch(s.type){case"firstParty":return new Hw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Vm.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Vm.delete(n),s.terminate())}(this),Promise.resolve()}}function LS(i,e,n,s={}){var a;const c=(i=hu(i,ku))._getSettings(),h=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==h&&Fs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=wE(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new me(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(_)}i._authCredentials=new bw(new pg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class On{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class Yr extends xu{constructor(e,n,s){super(e,n,Cg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new _e(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function fu(i,e,...n){if(i=ra(i),gy("collection","path",e),i instanceof ku){const s=Ye.fromString(e,...n);return Lm(s),new Yr(i,null,s)}{if(!(i instanceof On||i instanceof Yr))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return Lm(s),new Yr(i.firestore,null,s)}}function OS(i,e,...n){if(i=ra(i),arguments.length===1&&(e=mg.newId()),gy("doc","path",e),i instanceof ku){const s=Ye.fromString(e,...n);return Dm(s),new On(i,null,new _e(s))}{if(!(i instanceof On||i instanceof Yr))throw new me(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ye.fromString(e,...n));return Dm(s),new On(i.firestore,i instanceof Yr?i.converter:null,new _e(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Jg(this,"async_queue_retry"),this.fu=()=>{const s=gh();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=gh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=gh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Gr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Gs(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw vr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=hf.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class gf extends ku{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Mm,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Mm(e),this._firestoreClient=void 0,await e}}}function MS(i,e){const n=typeof i=="object"?i:xw(),s=typeof i=="string"?i:"(default)",a=Rw(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=vE("firestore");c&&LS(a,...c)}return a}function yy(i){if(i._terminated)throw new me(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||FS(i),i._firestoreClient}function FS(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,w){return new sT(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,my(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new PS(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $s(xt.fromBase64String(e))}catch(n){throw new me(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $s(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const US=/^__.*__$/;class jS{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ui(e,this.data,this.fieldMask,n,this.fieldTransforms):new ma(e,this.data,n,this.fieldTransforms)}}function vy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Ef{constructor(e,n,s,a,c,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return du(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(vy(this.Mu)&&US.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class zS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ru(e)}$u(e,n,s,a=!1){return new Ef({Mu:e,methodName:n,Ku:s,path:kt.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bS(i){const e=i._freezeSettings(),n=Ru(i._databaseId);return new zS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function BS(i,e,n,s,a,c={}){const h=i.$u(c.merge||c.mergeFields?2:0,e,n,a);Sy("Data must be an object, but it was:",h,s);const m=wy(s,h);let g,_;if(c.merge)g=new Ln(h.fieldMask),_=h.fieldTransforms;else if(c.mergeFields){const w=[];for(const R of c.mergeFields){const A=$S(e,R,n);if(!h.contains(A))throw new me(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);qS(w,A)||w.push(A)}g=new Ln(w),_=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,_=h.fieldTransforms;return new jS(new yn(m),g,_)}function Ey(i,e){if(Ty(i=ra(i)))return Sy("Unsupported field value:",e,i),wy(i,e);if(i instanceof _y)return function(s,a){if(!vy(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let h=0;for(const m of s){let g=Ey(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),h++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=ra(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return PT(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=yt.fromDate(s);return{timestampValue:au(a.serializer,c)}}if(s instanceof yt){const c=new yt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:au(a.serializer,c)}}if(s instanceof _f)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof $s)return{bytesValue:Bg(a.serializer,s._byteString)};if(s instanceof On){const c=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(c))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:nf(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof vf)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Zh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${mf(s)}`)}(i,e)}function wy(i,e){const n={};return gg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mi(i,(s,a)=>{const c=Ey(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Ty(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof yt||i instanceof _f||i instanceof $s||i instanceof On||i instanceof _y||i instanceof vf)}function Sy(i,e,n){if(!Ty(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=mf(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function $S(i,e,n){if((e=ra(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Iy(i,e);throw du("Field path arguments must be of type string or ",i,!1,void 0,n)}const HS=new RegExp("[~\\*/\\[\\]]");function Iy(i,e,n){if(e.search(HS)>=0)throw du(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw du(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function du(i,e,n,s,a){const c=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||h)&&(g+=" (found",c&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new me(Z.INVALID_ARGUMENT,m+i+g)}function qS(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ry("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WS extends Cy{data(){return super.data()}}function Ry(i,e){return typeof e=="string"?Iy(i,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KS{convertValue(e,n="none"){switch(ti(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Mi(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>at(h.doubleValue));return new vf(c)}convertGeoPoint(e){return new _f(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=vu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ye.fromString(e);ze(Kg(s));const a=new la(s.get(1),s.get(3)),c=new _e(s.popFirst(5));return a.isEqual(n)||vr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YS extends Cy{constructor(e,n,s,a,c,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ry("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yl extends YS{data(e={}){return super.data(e)}}class XS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new bl(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yl(this._firestore,this._userDataWriter,s.key,s,new bl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new Yl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new bl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Yl(a._firestore,a._userDataWriter,m.doc.key,m.doc,new bl(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:JS(m.type),doc:g,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}class ZS extends KS{constructor(e){super(),this.firestore=e}convertBytes(e){return new $s(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function Ay(i){i=hu(i,xu);const e=hu(i.firestore,gf),n=yy(e),s=new ZS(e);return QS(i._query),VS(n,i._query).then(a=>new XS(e,s,i,a))}function Py(i,e){const n=hu(i.firestore,gf),s=OS(i),a=GS(i.converter,e);return eI(n,[BS(bS(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,yr.exists(!1))]).then(()=>s)}function eI(i,e){return function(s,a){const c=new Gr;return s.asyncQueue.enqueueAndForget(async()=>_S(await xS(s),a,c)),c.promise}(yy(i),e)}(function(e,n=!0){(function(a){Qs=a})(kw),tu(new ia("firestore",(s,{instanceIdentifier:a,options:c})=>{const h=s.getProvider("app").getImmediate(),m=new gf(new Bw(s.getProvider("auth-internal")),new Ww(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(_.options.projectId,w)}(h,a),h);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Os(Zp,"4.7.5",e),Os(Zp,"4.7.5","esm2017")})();var tI="firebase",nI="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Os(tI,nI,"app");const rI={apiKey:"AIzaSyCvv-_nzeq31fdzAnqpmE19tHICsS-ipgw",authDomain:"disaster-relief-app-c67e7.firebaseapp.com",projectId:"disaster-relief-app-c67e7",storageBucket:"disaster-relief-app-c67e7.appspot.com",messagingSenderId:"730696261392",appId:"1:730696261392:web:2cf324cb96b1d83e360f95"},iI=sg(rI),pu=MS(iI);function sI(){const[i,e]=B.useState(""),[n,s]=B.useState(""),[a,c]=B.useState(""),[h,m]=B.useState(""),[g,_]=B.useState(""),[w,R]=B.useState(""),[A,O]=B.useState(!1),[j,q]=B.useState(!1),[b,Q]=B.useState(!1),[Y,ie]=B.useState(""),[fe,Ce]=B.useState(""),[Te,x]=B.useState([]),[T,I]=B.useState(""),[P,V]=B.useState(""),[L,C]=B.useState(""),[Be,nt]=B.useState(!1),[rt,De]=B.useState(!1),[ne,pe]=B.useState(!1),[se,D]=B.useState("");B.useEffect(()=>{(async()=>{const Re=(await Ay(fu(pu,"pledges"))).docs.map(Pe=>Pe.data());x(Re)})()},[]);const M=Te.filter(X=>{var on,_n;const ve=(on=X.location)==null?void 0:on.toLowerCase().includes(T.toLowerCase()),Re=P?parseInt(X.maxPartySize)>=parseInt(P):!0,Pe=L?(_n=X.spaceType)==null?void 0:_n.toLowerCase().includes(L.toLowerCase()):!0,xe=Be===!0?X.willingToHostDisplaced===!0:!0,je=rt===!0?X.willingToHostEvacuees===!0:!0,Xe=ne===!0?X.petFriendly===!0:!0,Bt=se?X.nightsOffered==="Any"||parseInt(X.nightsOffered)>=parseInt(se):!0;return ve&&Re&&Pe&&xe&&je&&Xe&&Bt}),ce=async()=>{if(!i||!n||!a||!h||!g||!w||!fe){alert("Please fill in all required fields.");return}try{await Py(fu(pu,"requests"),{name:i,partySize:parseInt(n),location:a,emergency:h,nightsNeeded:parseInt(g),typeOfSpace:w,needsDisplaced:A,needsEvacuee:j,petFriendly:b,additionalNotes:Y,contactInfo:fe}),alert("Thank you for reaching out. Your request has been submitted, and well do everything we can to help you find a safe space. Our thoughts are with you during this challenging time."),e(""),s(""),c(""),m(""),_(""),R(""),O(!1),q(!1),Q(!1),ie(""),Ce("")}catch(X){console.error("Error submitting request: ",X),alert("Something went wrong. Please try again.")}};return W.jsxs("div",{className:"page",children:[W.jsx("h2",{children:"Request Help"}),W.jsxs("div",{className:"form",children:[W.jsx("h3",{children:"Submit Request"}),W.jsx("input",{type:"text",placeholder:"Your Name",value:i,onChange:X=>e(X.target.value)}),W.jsx("input",{type:"number",placeholder:"Party Size (e.g., 5)",value:n,onChange:X=>s(X.target.value)}),W.jsx("input",{type:"text",placeholder:"Location (e.g., Los Angeles, CA)",value:a,onChange:X=>c(X.target.value)}),W.jsx("input",{type:"text",placeholder:"Emergency (e.g., Hurricane Helene)",value:h,onChange:X=>m(X.target.value)}),W.jsx("input",{type:"number",placeholder:"Nights Needed (e.g., 3)",value:g,onChange:X=>_(X.target.value)}),W.jsx("input",{type:"text",placeholder:"Space Needed (e.g., Bedroom, Garage)",value:w,onChange:X=>R(X.target.value)}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:A,onChange:X=>O(X.target.checked)}),"Displaced Individual"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:j,onChange:X=>q(X.target.checked)}),"Evacuee"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:b,onChange:X=>Q(X.target.checked)}),"Pet Owner"]}),W.jsx("input",{type:"text",placeholder:"Contact Info (e.g., email@example.com)",value:fe,onChange:X=>Ce(X.target.value)}),W.jsx("textarea",{placeholder:"Additional Notes (optional)",value:Y,onChange:X=>ie(X.target.value)}),W.jsx("button",{onClick:ce,children:"Submit Request"})]}),W.jsxs("div",{className:"filters",children:[W.jsx("h3",{children:"Filter Pledges"}),W.jsx("input",{type:"text",placeholder:"Filter by Location",value:T,onChange:X=>I(X.target.value)}),W.jsx("input",{type:"number",placeholder:"Filter by Party Size",value:P,onChange:X=>V(X.target.value)}),W.jsx("input",{type:"text",placeholder:"Filter by Space Type",value:L,onChange:X=>C(X.target.value)}),W.jsx("input",{type:"text",placeholder:"Filter by Nights Offered",value:se,onChange:X=>D(X.target.value)}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:Be,onChange:X=>nt(X.target.checked)}),"Willing to Host Displaced"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:rt,onChange:X=>De(X.target.checked)}),"Willing to Host Evacuees"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:ne,onChange:X=>pe(X.target.checked)}),"Pet Friendly"]}),W.jsx("button",{className:"clear-filters",onClick:()=>{I(""),V(""),C(""),nt(!1),De(!1),pe(!1),D("")},children:"Clear Filters"})]}),W.jsxs("div",{className:"pledges-list",children:[W.jsx("h3",{children:"Available Pledges"}),W.jsx("div",{className:"pledge-list",children:M.map((X,ve)=>W.jsxs("div",{className:"pledge-item",children:[W.jsxs("h3",{children:["Location: ",X.location||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Space Type:"})," ",X.spaceType||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Max Party Size:"})," ",X.maxPartySize||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Nights Offered:"})," ",X.nightsOffered||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Willing to Host Displaced:"})," ",X.willingToHostDisplaced?"Yes":"No"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Willing to Host Evacuees:"})," ",X.willingToHostEvacuees?"Yes":"No"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Pet Friendly:"})," ",X.petFriendly?"Yes":"No"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Contact:"})," ",X.contactInfo||"No contact provided"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Description:"})," ",X.description||"No description provided"]})]},ve))})]})]})}function oI(){const[i,e]=B.useState(""),[n,s]=B.useState(""),[a,c]=B.useState(""),[h,m]=B.useState(""),[g,_]=B.useState(""),[w,R]=B.useState(""),[A,O]=B.useState(""),[j,q]=B.useState(!1),[b,Q]=B.useState(!1),[Y,ie]=B.useState(!1),[fe,Ce]=B.useState([]),[Te,x]=B.useState(""),[T,I]=B.useState(""),[P,V]=B.useState(""),[L,C]=B.useState(""),[Be,nt]=B.useState(!1),[rt,De]=B.useState(!1),[ne,pe]=B.useState(!1);B.useEffect(()=>{(async()=>{const X=(await Ay(fu(pu,"requests"))).docs.map(ve=>ve.data());Ce(X)})()},[]);const se=fe.filter(M=>{var Xe,Bt,on;const ce=(Xe=M.location)==null?void 0:Xe.toLowerCase().includes(Te.toLowerCase()),X=T?(Bt=M.emergency)==null?void 0:Bt.toLowerCase().includes(T.toLowerCase()):!0,ve=P?M.partySize<=parseInt(P):!0,Re=L?(on=M.typeOfSpace)==null?void 0:on.toLowerCase().includes(L.toLowerCase()):!0,Pe=Be===!0?M.needsDisplaced===!0:!0,xe=rt===!0?M.needsEvacuee===!0:!0,je=ne===!0?M.petOwner!==!0:!0;return ce&&X&&ve&&Re&&Pe&&xe&&je}),D=async()=>{if(!i||!n||!a||!g||!A){alert("Please fill in all required fields.");return}try{await Py(fu(pu,"pledges"),{name:i,location:n,spaceType:a,maxPartySize:h===""?"Any":parseInt(h),contactInfo:g,description:w,nightsOffered:A==="any"?"Any":parseInt(A),willingToHostDisplaced:j,willingToHostEvacuees:b,petFriendly:Y}),alert("Thank you for your kindness! Your pledge has been submitted successfully."),e(""),s(""),c(""),m(""),_(""),R(""),O(""),q(!1),Q(!1),ie(!1)}catch(M){console.error("Error submitting pledge: ",M),alert("Something went wrong. Please try again.")}};return W.jsxs("div",{className:"page",children:[W.jsx("h2",{children:"Offer Help"}),W.jsxs("div",{className:"form",children:[W.jsx("h3",{children:"Submit Pledge"}),W.jsx("input",{type:"text",placeholder:"Your Name",value:i,onChange:M=>e(M.target.value)}),W.jsx("input",{type:"text",placeholder:"Location (e.g., Los Angeles, CA)",value:n,onChange:M=>s(M.target.value)}),W.jsx("input",{type:"text",placeholder:"Space Type (e.g., Bedroom, Garage)",value:a,onChange:M=>c(M.target.value)}),W.jsx("input",{type:"number",placeholder:"Max Party Size (e.g., 4)",value:h,onChange:M=>m(M.target.value)}),W.jsx("input",{type:"text",placeholder:"Nights Offered (e.g., 7 or 'any')",value:A,onChange:M=>O(M.target.value)}),W.jsxs("div",{className:"checkboxes",children:[W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:j,onChange:M=>q(M.target.checked)}),"Willing to host displaced individuals"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:b,onChange:M=>Q(M.target.checked)}),"Willing to host evacuees"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:Y,onChange:M=>ie(M.target.checked)}),"Pet Friendly"]})]}),W.jsx("input",{type:"text",placeholder:"Contact Info (e.g., email@example.com or 555-555-5555)",value:g,onChange:M=>_(M.target.value)}),W.jsx("textarea",{placeholder:"Description (optional)",value:w,onChange:M=>R(M.target.value)}),W.jsx("button",{onClick:D,children:"Submit Pledge"})]}),W.jsxs("div",{className:"filters",children:[W.jsx("h3",{children:"Requests for Help"}),W.jsx("input",{type:"text",placeholder:"Filter by Location",value:Te,onChange:M=>x(M.target.value)}),W.jsx("input",{type:"text",placeholder:"Filter by Emergency",value:T,onChange:M=>I(M.target.value)}),W.jsx("input",{type:"number",placeholder:"Filter by Party Size",value:P,onChange:M=>V(M.target.value)}),W.jsx("input",{type:"text",placeholder:"Filter by Type of Space",value:L,onChange:M=>C(M.target.value)}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:Be,onChange:M=>nt(M.target.checked)}),"Willing to Host Displaced"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:rt,onChange:M=>De(M.target.checked)}),"Willing to Host Evacuees"]}),W.jsxs("label",{className:"styled-checkbox",children:[W.jsx("input",{type:"checkbox",checked:ne,onChange:M=>pe(M.target.checked)}),"No Pets"]}),W.jsx("button",{className:"clear-filters",onClick:()=>{x(""),I(""),V(""),C(""),nt(!1),De(!1),pe(!1)},children:"Clear Filters"})]}),W.jsxs("div",{className:"requests-list",children:[W.jsx("h3",{children:"Available Requests"}),W.jsx("div",{className:"pledge-list",children:se.map((M,ce)=>W.jsxs("div",{className:"pledge-item",children:[W.jsxs("h3",{children:["Location: ",M.location||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Space Needed:"})," ",M.typeOfSpace||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Request From:"})," ",M.name||"Anonymous"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Party Size:"})," ",M.partySize||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Emergency:"})," ",M.emergency||"Not Specified"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Pet Owner:"})," ",M.petOwner?"Yes":"No"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Contact:"})," ",M.contactInfo||"No contact provided"]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Additional Notes:"})," ",M.additionalNotes||"None provided"]})]},ce))})]})]})}const aI="/assets/logo-CildKvjI.png";function lI(){return W.jsx(eE,{children:W.jsxs("div",{className:"app",children:[W.jsxs("header",{className:"header",children:[W.jsx("h1",{children:"Open Door Relief"}),W.jsx("p",{className:"subtitle",children:"Connecting communities during disasters"})]}),W.jsxs(xv,{children:[W.jsx(Bl,{path:"/",element:W.jsxs("div",{className:"home-screen",children:[W.jsx("img",{src:aI,alt:"Open Door Relief Logo",className:"logo"}),W.jsxs("div",{className:"home-buttons",children:[W.jsx(Jl,{to:"/in-need",className:"home-button",children:"I am in Need"}),W.jsx(Jl,{to:"/willing-to-help",className:"home-button",children:"I am Willing to Help"})]})]})}),W.jsx(Bl,{path:"/in-need",element:W.jsx(sI,{})}),W.jsx(Bl,{path:"/willing-to-help",element:W.jsx(oI,{})})]})]})})}j_.createRoot(document.getElementById("root")).render(W.jsx(B.StrictMode,{children:W.jsx(lI,{})}));
